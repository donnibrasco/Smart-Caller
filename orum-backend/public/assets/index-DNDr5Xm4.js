var q3=Object.defineProperty;var K3=(e,t,r)=>t in e?q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var fv=(e,t,r)=>K3(e,typeof t!="symbol"?t+"":t,r);function Y3(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var G3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RC={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F3=Symbol.for("react.transitional.element"),X3=Symbol.for("react.fragment");function DC(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var i in t)i!=="key"&&(r[i]=t[i])}else r=t;return t=r.ref,{$$typeof:F3,type:e,key:n,ref:t!==void 0?t:null,props:r}}gh.Fragment=X3;gh.jsx=DC;gh.jsxs=DC;RC.exports=gh;var m=RC.exports,IC={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=Symbol.for("react.transitional.element"),Q3=Symbol.for("react.portal"),Z3=Symbol.for("react.fragment"),J3=Symbol.for("react.strict_mode"),eL=Symbol.for("react.profiler"),tL=Symbol.for("react.consumer"),rL=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),iL=Symbol.for("react.suspense"),aL=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),oL=Symbol.for("react.activity"),hS=Symbol.iterator;function sL(e){return e===null||typeof e!="object"?null:(e=hS&&e[hS]||e["@@iterator"],typeof e=="function"?e:null)}var zC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$C=Object.assign,UC={};function ks(e,t,r){this.props=e,this.context=t,this.refs=UC,this.updater=r||zC}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BC(){}BC.prototype=ks.prototype;function Qy(e,t,r){this.props=e,this.context=t,this.refs=UC,this.updater=r||zC}var Zy=Qy.prototype=new BC;Zy.constructor=Qy;$C(Zy,ks.prototype);Zy.isPureReactComponent=!0;var mS=Array.isArray;function kp(){}var $e={H:null,A:null,T:null,S:null},VC=Object.prototype.hasOwnProperty;function Jy(e,t,r){var n=r.ref;return{$$typeof:Xy,type:e,key:t,ref:n!==void 0?n:null,props:r}}function lL(e,t){return Jy(e.type,t,e.props)}function eb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xy}function cL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vS=/\/+/g;function hv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cL(""+e.key):t.toString(36)}function uL(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(kp,kp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Oo(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xy:case Q3:o=!0;break;case LC:return o=e._init,Oo(o(e._payload),t,r,n,i)}}if(o)return i=i(e),o=n===""?"."+hv(e,0):n,mS(i)?(r="",o!=null&&(r=o.replace(vS,"$&/")+"/"),Oo(i,t,r,"",function(c){return c})):i!=null&&(eb(i)&&(i=lL(i,r+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(vS,"$&/")+"/")+o)),t.push(i)),1;o=0;var s=n===""?".":n+":";if(mS(e))for(var l=0;l<e.length;l++)n=e[l],a=s+hv(n,l),o+=Oo(n,t,r,a,i);else if(l=sL(e),typeof l=="function")for(e=l.call(e),l=0;!(n=e.next()).done;)n=n.value,a=s+hv(n,l++),o+=Oo(n,t,r,a,i);else if(a==="object"){if(typeof e.then=="function")return Oo(uL(e),t,r,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tu(e,t,r){if(e==null)return e;var n=[],i=0;return Oo(e,n,"","",function(a){return t.call(r,a,i++)}),n}function dL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pS=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fL={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!eb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Activity=oL;re.Children=fL;re.Component=ks;re.Fragment=Z3;re.Profiler=eL;re.PureComponent=Qy;re.StrictMode=J3;re.Suspense=iL;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;re.__COMPILER_RUNTIME={__proto__:null,c:function(e){return $e.H.useMemoCache(e)}};re.cache=function(e){return function(){return e.apply(null,arguments)}};re.cacheSignal=function(){return null};re.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=$C({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)!VC.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(n[a]=t[a]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];n.children=o}return Jy(e.type,i,n)};re.createContext=function(e){return e={$$typeof:rL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:tL,_context:e},e};re.createElement=function(e,t,r){var n,i={},a=null;if(t!=null)for(n in t.key!==void 0&&(a=""+t.key),t)VC.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return Jy(e,a,i)};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:nL,render:e}};re.isValidElement=eb;re.lazy=function(e){return{$$typeof:LC,_payload:{_status:-1,_result:e},_init:dL}};re.memo=function(e,t){return{$$typeof:aL,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=$e.T,r={};$e.T=r;try{var n=e(),i=$e.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(kp,pS)}catch(a){pS(a)}finally{t!==null&&r.types!==null&&(t.types=r.types),$e.T=t}};re.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()};re.use=function(e){return $e.H.use(e)};re.useActionState=function(e,t,r){return $e.H.useActionState(e,t,r)};re.useCallback=function(e,t){return $e.H.useCallback(e,t)};re.useContext=function(e){return $e.H.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e,t){return $e.H.useDeferredValue(e,t)};re.useEffect=function(e,t){return $e.H.useEffect(e,t)};re.useEffectEvent=function(e){return $e.H.useEffectEvent(e)};re.useId=function(){return $e.H.useId()};re.useImperativeHandle=function(e,t,r){return $e.H.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return $e.H.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return $e.H.useLayoutEffect(e,t)};re.useMemo=function(e,t){return $e.H.useMemo(e,t)};re.useOptimistic=function(e,t){return $e.H.useOptimistic(e,t)};re.useReducer=function(e,t,r){return $e.H.useReducer(e,t,r)};re.useRef=function(e){return $e.H.useRef(e)};re.useState=function(e){return $e.H.useState(e)};re.useSyncExternalStore=function(e,t,r){return $e.H.useSyncExternalStore(e,t,r)};re.useTransition=function(){return $e.H.useTransition()};re.version="19.2.0";IC.exports=re;var y=IC.exports;const Gr=un(y),hL=Y3({__proto__:null,default:Gr},[y]);var HC={exports:{}},yh={},WC={exports:{}},qC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var T=R.length;R.push(M);e:for(;0<T;){var B=T-1>>>1,ee=R[B];if(0<i(ee,M))R[B]=M,R[T]=ee,T=B;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],T=R.pop();if(T!==M){R[0]=T;e:for(var B=0,ee=R.length,Ve=ee>>>1;B<Ve;){var vt=2*(B+1)-1,Dt=R[vt],Ge=vt+1,Cr=R[Ge];if(0>i(Dt,T))Ge<ee&&0>i(Cr,Dt)?(R[B]=Cr,R[Ge]=T,B=Ge):(R[B]=Dt,R[vt]=T,B=vt);else if(Ge<ee&&0>i(Cr,T))R[B]=Cr,R[Ge]=T,B=Ge;else break e}}return M}function i(R,M){var T=R.sortIndex-M.sortIndex;return T!==0?T:R.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,f=3,h=!1,v=!1,p=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(R){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=R)n(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(c)}}function w(R){if(p=!1,S(R),!v)if(r(l)!==null)v=!0,E||(E=!0,N());else{var M=r(c);M!==null&&$(w,M.startTime-R)}}var E=!1,A=-1,C=5,O=-1;function P(){return x?!0:!(e.unstable_now()-O<C)}function k(){if(x=!1,E){var R=e.unstable_now();O=R;var M=!0;try{e:{v=!1,p&&(p=!1,b(A),A=-1),h=!0;var T=f;try{t:{for(S(R),d=r(l);d!==null&&!(d.expirationTime>R&&P());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var ee=B(d.expirationTime<=R);if(R=e.unstable_now(),typeof ee=="function"){d.callback=ee,S(R),M=!0;break t}d===r(l)&&n(l),S(R)}else n(l);d=r(l)}if(d!==null)M=!0;else{var Ve=r(c);Ve!==null&&$(w,Ve.startTime-R),M=!1}}break e}finally{d=null,f=T,h=!1}M=void 0}}finally{M?N():E=!1}}}var N;if(typeof _=="function")N=function(){_(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=k,N=function(){H.postMessage(null)}}else N=function(){g(k,0)};function $(R,M){A=g(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var T=f;f=M;try{return R()}finally{f=T}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=f;f=R;try{return M()}finally{f=T}},e.unstable_scheduleCallback=function(R,M,T){var B=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=T+ee,R={id:u++,callback:M,priorityLevel:R,startTime:T,expirationTime:ee,sortIndex:-1},T>B?(R.sortIndex=T,t(c,R),r(l)===null&&R===r(c)&&(p?(b(A),A=-1):p=!0,$(w,T-B))):(R.sortIndex=ee,t(l,R),v||h||(v=!0,E||(E=!0,N()))),R},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(R){var M=f;return function(){var T=f;f=M;try{return R.apply(this,arguments)}finally{f=T}}}})(qC);WC.exports=qC;var mL=WC.exports,KC={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vL=y;function YC(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ii(){}var ir={d:{f:Ii,r:function(){throw Error(YC(522))},D:Ii,C:Ii,L:Ii,m:Ii,X:Ii,S:Ii,M:Ii},p:0,findDOMNode:null},pL=Symbol.for("react.portal");function gL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pL,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Cl=vL.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ir;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(YC(299));return gL(e,t,null,r)};ur.flushSync=function(e){var t=Cl.T,r=ir.p;try{if(Cl.T=null,ir.p=2,e)return e()}finally{Cl.T=t,ir.p=r,ir.d.f()}};ur.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ir.d.C(e,t))};ur.prefetchDNS=function(e){typeof e=="string"&&ir.d.D(e)};ur.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=bh(r,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?ir.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):r==="script"&&ir.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ur.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=bh(t.as,t.crossOrigin);ir.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ir.d.M(e)};ur.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=bh(r,t.crossOrigin);ir.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ur.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=bh(t.as,t.crossOrigin);ir.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ir.d.m(e)};ur.requestFormReset=function(e){ir.d.r(e)};ur.unstable_batchedUpdates=function(e,t){return e(t)};ur.useFormState=function(e,t,r){return Cl.H.useFormState(e,t,r)};ur.useFormStatus=function(){return Cl.H.useHostTransitionStatus()};ur.version="19.2.0";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(e){console.error(e)}}GC(),KC.exports=ur;var tb=KC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xt=mL,FC=y,yL=tb;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function XC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function QC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZC(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gS(e){if(Pc(e)!==e)throw Error(D(188))}function bL(e){var t=e.alternate;if(!t){if(t=Pc(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return gS(i),e;if(a===n)return gS(i),t;a=a.sibling}throw Error(D(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function JC(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=JC(e),t!==null)return t;e=e.sibling}return null}var Ue=Object.assign,xL=Symbol.for("react.element"),Mu=Symbol.for("react.transitional.element"),yl=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),eO=Symbol.for("react.strict_mode"),jp=Symbol.for("react.profiler"),tO=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),rb=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Np=Symbol.for("react.suspense_list"),nb=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Rp=Symbol.for("react.activity"),_L=Symbol.for("react.memo_cache_sentinel"),yS=Symbol.iterator;function rl(e){return e===null||typeof e!="object"?null:(e=yS&&e[yS]||e["@@iterator"],typeof e=="function"?e:null)}var SL=Symbol.for("react.client.reference");function Dp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===SL?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jo:return"Fragment";case jp:return"Profiler";case eO:return"StrictMode";case Pp:return"Suspense";case Np:return"SuspenseList";case Rp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case yl:return"Portal";case ii:return e.displayName||"Context";case tO:return(e._context.displayName||"Context")+".Consumer";case rb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nb:return t=e.displayName||null,t!==null?t:Dp(e.type)||"Memo";case Li:t=e._payload,e=e._init;try{return Dp(e(t))}catch{}}return null}var bl=Array.isArray,J=FC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=yL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ba={pending:!1,data:null,method:null,action:null},Ip=[],Po=-1;function Un(e){return{current:e}}function Pt(e){0>Po||(e.current=Ip[Po],Ip[Po]=null,Po--)}function Re(e,t){Po++,Ip[Po]=e.current,e.current=t}var Rn=Un(null),Hl=Un(null),Zi=Un(null),Nd=Un(null);function Rd(e,t){switch(Re(Zi,t),Re(Hl,e),Re(Rn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?E1(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=E1(t),e=_M(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Pt(Rn),Re(Rn,e)}function ss(){Pt(Rn),Pt(Hl),Pt(Zi)}function Lp(e){e.memoizedState!==null&&Re(Nd,e);var t=Rn.current,r=_M(t,e.type);t!==r&&(Re(Hl,e),Re(Rn,r))}function Dd(e){Hl.current===e&&(Pt(Rn),Pt(Hl)),Nd.current===e&&(Pt(Nd),ec._currentValue=Ba)}var mv,bS;function Ma(e){if(mv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mv=t&&t[1]||"",bS=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mv+e+bS}var vv=!1;function pv(e,t){if(!e||vv)return"";vv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var f=h}Reflect.construct(e,[],d)}else{try{d.call()}catch(h){f=h}e.call(d.prototype)}}else{try{throw Error()}catch(h){f=h}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&f&&typeof h.stack=="string")return[h.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split(`
`),c=s.split(`
`);for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===c.length)for(n=l.length-1,i=c.length-1;1<=n&&0<=i&&l[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||l[n]!==c[i]){var u=`
`+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=n&&0<=i);break}}}finally{vv=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ma(r):""}function wL(e,t){switch(e.tag){case 26:case 27:case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return e.child!==t&&t!==null?Ma("Suspense Fallback"):Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 15:return pv(e.type,!1);case 11:return pv(e.type.render,!1);case 1:return pv(e.type,!0);case 31:return Ma("Activity");default:return""}}function xS(e){try{var t="",r=null;do t+=wL(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var zp=Object.prototype.hasOwnProperty,ib=xt.unstable_scheduleCallback,gv=xt.unstable_cancelCallback,EL=xt.unstable_shouldYield,AL=xt.unstable_requestPaint,Rr=xt.unstable_now,CL=xt.unstable_getCurrentPriorityLevel,rO=xt.unstable_ImmediatePriority,nO=xt.unstable_UserBlockingPriority,Id=xt.unstable_NormalPriority,OL=xt.unstable_LowPriority,iO=xt.unstable_IdlePriority,TL=xt.log,ML=xt.unstable_setDisableYieldValue,Nc=null,Dr=null;function Ki(e){if(typeof TL=="function"&&ML(e),Dr&&typeof Dr.setStrictMode=="function")try{Dr.setStrictMode(Nc,e)}catch{}}var Ir=Math.clz32?Math.clz32:PL,kL=Math.log,jL=Math.LN2;function PL(e){return e>>>=0,e===0?32:31-(kL(e)/jL|0)|0}var ku=256,ju=262144,Pu=4194304;function ka(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xh(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~a,n!==0?i=ka(n):(o&=s,o!==0?i=ka(o):r||(r=s&~e,r!==0&&(i=ka(r))))):(s=n&~a,s!==0?i=ka(s):o!==0?i=ka(o):r||(r=n&~e,r!==0&&(i=ka(r)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,r=t&-t,a>=r||a===32&&(r&4194048)!==0)?t:i}function Rc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function NL(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aO(){var e=Pu;return Pu<<=1,!(Pu&62914560)&&(Pu=4194304),e}function yv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function RL(e,t,r,n,i,a){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-Ir(r),d=1<<u;s[u]=0,l[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];h!==null&&(h.lane&=-536870913)}r&=~d}n!==0&&oO(e,n,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function oO(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ir(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function sO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ir(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function lO(e,t){var r=t&-t;return r=r&42?1:ab(r),r&(e.suspendedLanes|t)?0:r}function ab(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ob(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function cO(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:PM(e.type))}function _S(e,t){var r=pe.p;try{return pe.p=e,t()}finally{pe.p=r}}var ya=Math.random().toString(36).slice(2),qt="__reactFiber$"+ya,yr="__reactProps$"+ya,js="__reactContainer$"+ya,$p="__reactEvents$"+ya,DL="__reactListeners$"+ya,IL="__reactHandles$"+ya,SS="__reactResources$"+ya,Ic="__reactMarker$"+ya;function sb(e){delete e[qt],delete e[yr],delete e[$p],delete e[DL],delete e[IL]}function No(e){var t=e[qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[js]||r[qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=M1(e);e!==null;){if(r=e[qt])return r;e=M1(e)}return t}e=r,r=e.parentNode}return null}function Ps(e){if(e=e[qt]||e[js]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function Xo(e){var t=e[SS];return t||(t=e[SS]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function kt(e){e[Ic]=!0}var uO=new Set,dO={};function uo(e,t){ls(e,t),ls(e+"Capture",t)}function ls(e,t){for(dO[e]=t,e=0;e<t.length;e++)uO.add(t[e])}var LL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wS={},ES={};function zL(e){return zp.call(ES,e)?!0:zp.call(wS,e)?!1:LL.test(e)?ES[e]=!0:(wS[e]=!0,!1)}function ld(e,t,r){if(zL(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Nu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function qn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Xr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $L(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Up(e){if(!e._valueTracker){var t=fO(e)?"checked":"value";e._valueTracker=$L(e,t,""+e[t])}}function hO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fO(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ld(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var UL=/[\n"\\]/g;function Jr(e){return e.replace(UL,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bp(e,t,r,n,i,a,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xr(t)):e.value!==""+Xr(t)&&(e.value=""+Xr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Vp(e,o,Xr(t)):r!=null?Vp(e,o,Xr(r)):n!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Xr(s):e.removeAttribute("name")}function mO(e,t,r,n,i,a,o,s){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){Up(e);return}r=r!=null?""+Xr(r):"",t=t!=null?""+Xr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Up(e)}function Vp(e,t,r){t==="number"&&Ld(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Qo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vO(e,t,r){if(t!=null&&(t=""+Xr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Xr(r):""}function pO(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(D(92));if(bl(n)){if(1<n.length)throw Error(D(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Xr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),Up(e)}function cs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var BL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AS(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||BL.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function gO(e,t,r){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&AS(e,i,n)}else for(var a in t)t.hasOwnProperty(a)&&AS(e,a,t[a])}function lb(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cd(e){return HL.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ai(){}var Hp=null;function cb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ro=null,Zo=null;function CS(e){var t=Ps(e);if(t&&(e=t.stateNode)){var r=e[yr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Bp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Jr(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[yr]||null;if(!i)throw Error(D(90));Bp(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&hO(n)}break e;case"textarea":vO(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Qo(e,!!r.multiple,t,!1)}}}var bv=!1;function yO(e,t,r){if(bv)return e(t,r);bv=!0;try{var n=e(t);return n}finally{if(bv=!1,(Ro!==null||Zo!==null)&&(Ph(),Ro&&(t=Ro,e=Zo,Zo=Ro=null,CS(t),e)))for(t=0;t<e.length;t++)CS(e[t])}}function Wl(e,t){var r=e.stateNode;if(r===null)return null;var n=r[yr]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=!1;if(vi)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Wp=!1}var Yi=null,ub=null,ud=null;function bO(){if(ud)return ud;var e,t=ub,r=t.length,n,i="value"in Yi?Yi.value:Yi.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return ud=i.slice(e,1<n?1-n:void 0)}function dd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ru(){return!0}function OS(){return!1}function _r(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ru:OS,this.isPropagationStopped=OS,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=_r(fo),Lc=Ue({},fo,{view:0,detail:0}),WL=_r(Lc),xv,_v,il,Sh=Ue({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:db,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==il&&(il&&e.type==="mousemove"?(xv=e.screenX-il.screenX,_v=e.screenY-il.screenY):_v=xv=0,il=e),xv)},movementY:function(e){return"movementY"in e?e.movementY:_v}}),TS=_r(Sh),qL=Ue({},Sh,{dataTransfer:0}),KL=_r(qL),YL=Ue({},Lc,{relatedTarget:0}),Sv=_r(YL),GL=Ue({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),FL=_r(GL),XL=Ue({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),QL=_r(XL),ZL=Ue({},fo,{data:0}),MS=_r(ZL),JL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ez={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tz[e])?!!t[e]:!1}function db(){return rz}var nz=Ue({},Lc,{key:function(e){if(e.key){var t=JL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ez[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:db,charCode:function(e){return e.type==="keypress"?dd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iz=_r(nz),az=Ue({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kS=_r(az),oz=Ue({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:db}),sz=_r(oz),lz=Ue({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cz=_r(lz),uz=Ue({},Sh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dz=_r(uz),fz=Ue({},fo,{newState:0,oldState:0}),hz=_r(fz),mz=[9,13,27,32],fb=vi&&"CompositionEvent"in window,Ol=null;vi&&"documentMode"in document&&(Ol=document.documentMode);var vz=vi&&"TextEvent"in window&&!Ol,xO=vi&&(!fb||Ol&&8<Ol&&11>=Ol),jS=" ",PS=!1;function _O(e,t){switch(e){case"keyup":return mz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Do=!1;function pz(e,t){switch(e){case"compositionend":return SO(t);case"keypress":return t.which!==32?null:(PS=!0,jS);case"textInput":return e=t.data,e===jS&&PS?null:e;default:return null}}function gz(e,t){if(Do)return e==="compositionend"||!fb&&_O(e,t)?(e=bO(),ud=ub=Yi=null,Do=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xO&&t.locale!=="ko"?null:t.data;default:return null}}var yz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yz[e.type]:t==="textarea"}function wO(e,t,r,n){Ro?Zo?Zo.push(n):Zo=[n]:Ro=n,t=tf(t,"onChange"),0<t.length&&(r=new _h("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tl=null,ql=null;function bz(e){yM(e,0)}function wh(e){var t=xl(e);if(hO(t))return e}function RS(e,t){if(e==="change")return t}var EO=!1;if(vi){var wv;if(vi){var Ev="oninput"in document;if(!Ev){var DS=document.createElement("div");DS.setAttribute("oninput","return;"),Ev=typeof DS.oninput=="function"}wv=Ev}else wv=!1;EO=wv&&(!document.documentMode||9<document.documentMode)}function IS(){Tl&&(Tl.detachEvent("onpropertychange",AO),ql=Tl=null)}function AO(e){if(e.propertyName==="value"&&wh(ql)){var t=[];wO(t,ql,e,cb(e)),yO(bz,t)}}function xz(e,t,r){e==="focusin"?(IS(),Tl=t,ql=r,Tl.attachEvent("onpropertychange",AO)):e==="focusout"&&IS()}function _z(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(ql)}function Sz(e,t){if(e==="click")return wh(t)}function wz(e,t){if(e==="input"||e==="change")return wh(t)}function Ez(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ur=typeof Object.is=="function"?Object.is:Ez;function Kl(e,t){if(Ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zp.call(t,i)||!Ur(e[i],t[i]))return!1}return!0}function LS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zS(e,t){var r=LS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=LS(r)}}function CO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?CO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function OO(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ld(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ld(e.document)}return t}function hb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Az=vi&&"documentMode"in document&&11>=document.documentMode,Io=null,qp=null,Ml=null,Kp=!1;function $S(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kp||Io==null||Io!==Ld(n)||(n=Io,"selectionStart"in n&&hb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ml&&Kl(Ml,n)||(Ml=n,n=tf(qp,"onSelect"),0<n.length&&(t=new _h("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Io)))}function Oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lo={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Av={},TO={};vi&&(TO=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function ho(e){if(Av[e])return Av[e];if(!Lo[e])return e;var t=Lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in TO)return Av[e]=t[r];return e}var MO=ho("animationend"),kO=ho("animationiteration"),jO=ho("animationstart"),Cz=ho("transitionrun"),Oz=ho("transitionstart"),Tz=ho("transitioncancel"),PO=ho("transitionend"),NO=new Map,Yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yp.push("scrollEnd");function En(e,t){NO.set(e,t),uo(t,[e])}var zd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fr=[],zo=0,mb=0;function Eh(){for(var e=zo,t=mb=zo=0;t<e;){var r=Fr[t];Fr[t++]=null;var n=Fr[t];Fr[t++]=null;var i=Fr[t];Fr[t++]=null;var a=Fr[t];if(Fr[t++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}a!==0&&RO(r,i,a)}}function Ah(e,t,r,n){Fr[zo++]=e,Fr[zo++]=t,Fr[zo++]=r,Fr[zo++]=n,mb|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function vb(e,t,r,n){return Ah(e,t,r,n),$d(e)}function mo(e,t){return Ah(e,null,null,t),$d(e)}function RO(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var i=!1,a=e.return;a!==null;)a.childLanes|=r,n=a.alternate,n!==null&&(n.childLanes|=r),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ir(r),e=a.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=r|536870912),a):null}function $d(e){if(50<zl)throw zl=0,mg=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $o={};function Mz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(e,t,r,n){return new Mz(e,t,r,n)}function pb(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ci(e,t){var r=e.alternate;return r===null?(r=kr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function DO(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fd(e,t,r,n,i,a){var o=0;if(n=e,typeof e=="function")pb(e)&&(o=1);else if(typeof e=="string")o=R$(e,r,Rn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rp:return e=kr(31,r,t,i),e.elementType=Rp,e.lanes=a,e;case jo:return Va(r.children,i,a,t);case eO:o=8,i|=24;break;case jp:return e=kr(12,r,t,i|2),e.elementType=jp,e.lanes=a,e;case Pp:return e=kr(13,r,t,i),e.elementType=Pp,e.lanes=a,e;case Np:return e=kr(19,r,t,i),e.elementType=Np,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ii:o=10;break e;case tO:o=9;break e;case rb:o=11;break e;case nb:o=14;break e;case Li:o=16,n=null;break e}o=29,r=Error(D(130,e===null?"null":typeof e,"")),n=null}return t=kr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Va(e,t,r,n){return e=kr(7,e,n,t),e.lanes=r,e}function Cv(e,t,r){return e=kr(6,e,null,t),e.lanes=r,e}function IO(e){var t=kr(18,null,null,0);return t.stateNode=e,t}function Ov(e,t,r){return t=kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var US=new WeakMap;function en(e,t){if(typeof e=="object"&&e!==null){var r=US.get(e);return r!==void 0?r:(t={value:e,source:t,stack:xS(t)},US.set(e,t),t)}return{value:e,source:t,stack:xS(t)}}var Uo=[],Bo=0,Ud=null,Yl=0,Qr=[],Zr=0,la=null,kn=1,jn="";function Zn(e,t){Uo[Bo++]=Yl,Uo[Bo++]=Ud,Ud=e,Yl=t}function LO(e,t,r){Qr[Zr++]=kn,Qr[Zr++]=jn,Qr[Zr++]=la,la=e;var n=kn;e=jn;var i=32-Ir(n)-1;n&=~(1<<i),r+=1;var a=32-Ir(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,kn=1<<32-Ir(t)+i|r<<i|n,jn=a+e}else kn=1<<a|r<<i|n,jn=e}function gb(e){e.return!==null&&(Zn(e,1),LO(e,1,0))}function yb(e){for(;e===Ud;)Ud=Uo[--Bo],Uo[Bo]=null,Yl=Uo[--Bo],Uo[Bo]=null;for(;e===la;)la=Qr[--Zr],Qr[Zr]=null,jn=Qr[--Zr],Qr[Zr]=null,kn=Qr[--Zr],Qr[Zr]=null}function zO(e,t){Qr[Zr++]=kn,Qr[Zr++]=jn,Qr[Zr++]=la,kn=t.id,jn=t.overflow,la=e}var Kt=null,Le=null,de=!1,Ji=null,tn=!1,Gp=Error(D(519));function ca(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(en(t,e)),Gp}function BS(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[qt]=e,t[yr]=n,r){case"dialog":le("cancel",t),le("close",t);break;case"iframe":case"object":case"embed":le("load",t);break;case"video":case"audio":for(r=0;r<Zl.length;r++)le(Zl[r],t);break;case"source":le("error",t);break;case"img":case"image":case"link":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"input":le("invalid",t),mO(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":le("invalid",t);break;case"textarea":le("invalid",t),pO(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||xM(t.textContent,r)?(n.popover!=null&&(le("beforetoggle",t),le("toggle",t)),n.onScroll!=null&&le("scroll",t),n.onScrollEnd!=null&&le("scrollend",t),n.onClick!=null&&(t.onclick=ai),t=!0):t=!1,t||ca(e,!0)}function VS(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:Kt=Kt.return}}function xo(e){if(e!==Kt)return!1;if(!de)return VS(e),de=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||bg(e.type,e.memoizedProps)),r=!r),r&&Le&&ca(e),VS(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Le=T1(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Le=T1(e)}else t===27?(t=Le,ba(e.type)?(e=wg,wg=null,Le=e):Le=t):Le=Kt?an(e.stateNode.nextSibling):null;return!0}function Za(){Le=Kt=null,de=!1}function Tv(){var e=Ji;return e!==null&&(mr===null?mr=e:mr.push.apply(mr,e),Ji=null),e}function Gl(e){Ji===null?Ji=[e]:Ji.push(e)}var Fp=Un(null),vo=null,oi=null;function Bi(e,t,r){Re(Fp,t._currentValue),t._currentValue=r}function ui(e){e._currentValue=Fp.current,Pt(Fp)}function Xp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qp(e,t,r,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var o=i.child;a=a.firstContext;e:for(;a!==null;){var s=a;a=i;for(var l=0;l<t.length;l++)if(s.context===t[l]){a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Xp(a.return,r,e),n||(o=null);break e}a=s.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Xp(o,r,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Ns(e,t,r,n){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(D(387));if(o=o.memoizedProps,o!==null){var s=i.type;Ur(i.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(i===Nd.current){if(o=i.alternate,o===null)throw Error(D(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ec):e=[ec])}i=i.return}e!==null&&Qp(t,e,r,n),t.flags|=262144}function Bd(e){for(e=e.firstContext;e!==null;){if(!Ur(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){vo=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Yt(e){return $O(vo,e)}function Du(e,t){return vo===null&&Ja(e),$O(e,t)}function $O(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},oi===null){if(e===null)throw Error(D(308));oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oi=oi.next=t;return r}var kz=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},jz=xt.unstable_scheduleCallback,Pz=xt.unstable_NormalPriority,ut={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bb(){return{controller:new kz,data:new Map,refCount:0}}function zc(e){e.refCount--,e.refCount===0&&jz(Pz,function(){e.controller.abort()})}var kl=null,Zp=0,us=0,Jo=null;function Nz(e,t){if(kl===null){var r=kl=[];Zp=0,us=Wb(),Jo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Zp++,t.then(HS,HS),t}function HS(){if(--Zp===0&&kl!==null){Jo!==null&&(Jo.status="fulfilled");var e=kl;kl=null,us=0,Jo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Rz(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<r.length;i++)(0,r[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var WS=J.S;J.S=function(e,t){JT=Rr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Nz(e,t),WS!==null&&WS(e,t)};var Ha=Un(null);function xb(){var e=Ha.current;return e!==null?e:Me.pooledCache}function hd(e,t){t===null?Re(Ha,Ha.current):Re(Ha,t.pool)}function UO(){var e=xb();return e===null?null:{parent:ut._currentValue,pool:e}}var Rs=Error(D(460)),_b=Error(D(474)),Ch=Error(D(542)),Vd={then:function(){}};function qS(e){return e=e.status,e==="fulfilled"||e==="rejected"}function BO(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ai,ai),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,YS(e),e;default:if(typeof t.status=="string")t.then(ai,ai);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,YS(e),e}throw Wa=t,Rs}}function ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Wa=r,Rs):r}}var Wa=null;function KS(){if(Wa===null)throw Error(D(459));var e=Wa;return Wa=null,e}function YS(e){if(e===Rs||e===Ch)throw Error(D(483))}var es=null,Fl=0;function Iu(e){var t=Fl;return Fl+=1,es===null&&(es=[]),BO(es,e,t)}function al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lu(e,t){throw t.$$typeof===xL?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function VO(e){function t(g,b){if(e){var _=g.deletions;_===null?(g.deletions=[b],g.flags|=16):_.push(b)}}function r(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function n(g){for(var b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function i(g,b){return g=ci(g,b),g.index=0,g.sibling=null,g}function a(g,b,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<b?(g.flags|=67108866,b):_):(g.flags|=67108866,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function s(g,b,_,S){return b===null||b.tag!==6?(b=Cv(_,g.mode,S),b.return=g,b):(b=i(b,_),b.return=g,b)}function l(g,b,_,S){var w=_.type;return w===jo?u(g,b,_.props.children,S,_.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Li&&ja(w)===b.type)?(b=i(b,_.props),al(b,_),b.return=g,b):(b=fd(_.type,_.key,_.props,null,g.mode,S),al(b,_),b.return=g,b)}function c(g,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Ov(_,g.mode,S),b.return=g,b):(b=i(b,_.children||[]),b.return=g,b)}function u(g,b,_,S,w){return b===null||b.tag!==7?(b=Va(_,g.mode,S,w),b.return=g,b):(b=i(b,_),b.return=g,b)}function d(g,b,_){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Cv(""+b,g.mode,_),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mu:return _=fd(b.type,b.key,b.props,null,g.mode,_),al(_,b),_.return=g,_;case yl:return b=Ov(b,g.mode,_),b.return=g,b;case Li:return b=ja(b),d(g,b,_)}if(bl(b)||rl(b))return b=Va(b,g.mode,_,null),b.return=g,b;if(typeof b.then=="function")return d(g,Iu(b),_);if(b.$$typeof===ii)return d(g,Du(g,b),_);Lu(g,b)}return null}function f(g,b,_,S){var w=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return w!==null?null:s(g,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mu:return _.key===w?l(g,b,_,S):null;case yl:return _.key===w?c(g,b,_,S):null;case Li:return _=ja(_),f(g,b,_,S)}if(bl(_)||rl(_))return w!==null?null:u(g,b,_,S,null);if(typeof _.then=="function")return f(g,b,Iu(_),S);if(_.$$typeof===ii)return f(g,b,Du(g,_),S);Lu(g,_)}return null}function h(g,b,_,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return g=g.get(_)||null,s(b,g,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mu:return g=g.get(S.key===null?_:S.key)||null,l(b,g,S,w);case yl:return g=g.get(S.key===null?_:S.key)||null,c(b,g,S,w);case Li:return S=ja(S),h(g,b,_,S,w)}if(bl(S)||rl(S))return g=g.get(_)||null,u(b,g,S,w,null);if(typeof S.then=="function")return h(g,b,_,Iu(S),w);if(S.$$typeof===ii)return h(g,b,_,Du(b,S),w);Lu(b,S)}return null}function v(g,b,_,S){for(var w=null,E=null,A=b,C=b=0,O=null;A!==null&&C<_.length;C++){A.index>C?(O=A,A=null):O=A.sibling;var P=f(g,A,_[C],S);if(P===null){A===null&&(A=O);break}e&&A&&P.alternate===null&&t(g,A),b=a(P,b,C),E===null?w=P:E.sibling=P,E=P,A=O}if(C===_.length)return r(g,A),de&&Zn(g,C),w;if(A===null){for(;C<_.length;C++)A=d(g,_[C],S),A!==null&&(b=a(A,b,C),E===null?w=A:E.sibling=A,E=A);return de&&Zn(g,C),w}for(A=n(A);C<_.length;C++)O=h(A,g,C,_[C],S),O!==null&&(e&&O.alternate!==null&&A.delete(O.key===null?C:O.key),b=a(O,b,C),E===null?w=O:E.sibling=O,E=O);return e&&A.forEach(function(k){return t(g,k)}),de&&Zn(g,C),w}function p(g,b,_,S){if(_==null)throw Error(D(151));for(var w=null,E=null,A=b,C=b=0,O=null,P=_.next();A!==null&&!P.done;C++,P=_.next()){A.index>C?(O=A,A=null):O=A.sibling;var k=f(g,A,P.value,S);if(k===null){A===null&&(A=O);break}e&&A&&k.alternate===null&&t(g,A),b=a(k,b,C),E===null?w=k:E.sibling=k,E=k,A=O}if(P.done)return r(g,A),de&&Zn(g,C),w;if(A===null){for(;!P.done;C++,P=_.next())P=d(g,P.value,S),P!==null&&(b=a(P,b,C),E===null?w=P:E.sibling=P,E=P);return de&&Zn(g,C),w}for(A=n(A);!P.done;C++,P=_.next())P=h(A,g,C,P.value,S),P!==null&&(e&&P.alternate!==null&&A.delete(P.key===null?C:P.key),b=a(P,b,C),E===null?w=P:E.sibling=P,E=P);return e&&A.forEach(function(N){return t(g,N)}),de&&Zn(g,C),w}function x(g,b,_,S){if(typeof _=="object"&&_!==null&&_.type===jo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Mu:e:{for(var w=_.key;b!==null;){if(b.key===w){if(w=_.type,w===jo){if(b.tag===7){r(g,b.sibling),S=i(b,_.props.children),S.return=g,g=S;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Li&&ja(w)===b.type){r(g,b.sibling),S=i(b,_.props),al(S,_),S.return=g,g=S;break e}r(g,b);break}else t(g,b);b=b.sibling}_.type===jo?(S=Va(_.props.children,g.mode,S,_.key),S.return=g,g=S):(S=fd(_.type,_.key,_.props,null,g.mode,S),al(S,_),S.return=g,g=S)}return o(g);case yl:e:{for(w=_.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(g,b.sibling),S=i(b,_.children||[]),S.return=g,g=S;break e}else{r(g,b);break}else t(g,b);b=b.sibling}S=Ov(_,g.mode,S),S.return=g,g=S}return o(g);case Li:return _=ja(_),x(g,b,_,S)}if(bl(_))return v(g,b,_,S);if(rl(_)){if(w=rl(_),typeof w!="function")throw Error(D(150));return _=w.call(_),p(g,b,_,S)}if(typeof _.then=="function")return x(g,b,Iu(_),S);if(_.$$typeof===ii)return x(g,b,Du(g,_),S);Lu(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,b!==null&&b.tag===6?(r(g,b.sibling),S=i(b,_),S.return=g,g=S):(r(g,b),S=Cv(_,g.mode,S),S.return=g,g=S),o(g)):r(g,b)}return function(g,b,_,S){try{Fl=0;var w=x(g,b,_,S);return es=null,w}catch(A){if(A===Rs||A===Ch)throw A;var E=kr(29,A,null,g.mode);return E.lanes=S,E.return=g,E}finally{}}}var eo=VO(!0),HO=VO(!1),zi=!1;function Sb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=$d(e),RO(e,null,r),t}return Ah(e,n,t,r),$d(e)}function jl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sO(e,r)}}function Mv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var eg=!1;function Pl(){if(eg){var e=Jo;if(e!==null)throw e}}function Nl(e,t,r,n){eg=!1;var i=e.updateQueue;zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var f=s.lane&-536870913,h=f!==s.lane;if(h?(ue&f)===f:(n&f)===f){f!==0&&f===us&&(eg=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,p=s;f=t;var x=r;switch(p.tag){case 1:if(v=p.payload,typeof v=="function"){d=v.call(x,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,f=typeof v=="function"?v.call(x,d,f):v,f==null)break e;d=Ue({},d,f);break e;case 2:zi=!0}}f=s.callback,f!==null&&(e.flags|=64,h&&(e.flags|=8192),h=i.callbacks,h===null?i.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),da|=o,e.lanes=o,e.memoizedState=d}}function WO(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function qO(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)WO(r[e],t)}var ds=Un(null),Hd=Un(0);function GS(e,t){e=bi,Re(Hd,e),Re(ds,t),bi=e|t.baseLanes}function tg(){Re(Hd,bi),Re(ds,ds.current)}function wb(){bi=Hd.current,Pt(ds),Pt(Hd)}var Br=Un(null),nn=null;function Vi(e){var t=e.alternate;Re(nt,nt.current&1),Re(Br,e),nn===null&&(t===null||ds.current!==null||t.memoizedState!==null)&&(nn=e)}function rg(e){Re(nt,nt.current),Re(Br,e),nn===null&&(nn=e)}function KO(e){e.tag===22?(Re(nt,nt.current),Re(Br,e),nn===null&&(nn=e)):Hi()}function Hi(){Re(nt,nt.current),Re(Br,Br.current)}function Mr(e){Pt(Br),nn===e&&(nn=null),Pt(nt)}var nt=Un(0);function Wd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_g(r)||Sg(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pi=0,ne=null,Ee=null,lt=null,qd=!1,ts=!1,to=!1,Kd=0,Xl=0,rs=null,Dz=0;function Qe(){throw Error(D(321))}function Eb(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}function Ab(e,t,r,n,i,a){return pi=a,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?wT:Ib,to=!1,a=r(n,i),to=!1,ts&&(a=GO(t,r,n,i)),YO(e),a}function YO(e){J.H=Ql;var t=Ee!==null&&Ee.next!==null;if(pi=0,lt=Ee=ne=null,qd=!1,Xl=0,rs=null,t)throw Error(D(300));e===null||dt||(e=e.dependencies,e!==null&&Bd(e)&&(dt=!0))}function GO(e,t,r,n){ne=e;var i=0;do{if(ts&&(rs=null),Xl=0,ts=!1,25<=i)throw Error(D(301));if(i+=1,lt=Ee=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}J.H=ET,a=t(r,n)}while(ts);return a}function Iz(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?$c(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ne.flags|=1024),t}function Cb(){var e=Kd!==0;return Kd=0,e}function Ob(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Tb(e){if(qd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qd=!1}pi=0,lt=Ee=ne=null,ts=!1,Xl=Kd=0,rs=null}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ne.memoizedState=lt=e:lt=lt.next=e,lt}function at(){if(Ee===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=lt===null?ne.memoizedState:lt.next;if(t!==null)lt=t,Ee=e;else{if(e===null)throw ne.alternate===null?Error(D(467)):Error(D(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},lt===null?ne.memoizedState=lt=e:lt=lt.next=e}return lt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $c(e){var t=Xl;return Xl+=1,rs===null&&(rs=[]),e=BO(rs,e,t),t=ne,(lt===null?t.memoizedState:lt.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?wT:Ib),e}function Th(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $c(e);if(e.$$typeof===ii)return Yt(e)}throw Error(D(438,String(e)))}function Mb(e){var t=null,r=ne.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=ne.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Oh(),ne.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=_L;return t.index++,r}function gi(e,t){return typeof t=="function"?t(e):t}function md(e){var t=at();return kb(t,Ee,e)}function kb(e,t,r){var n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=r;var i=e.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,n.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var s=o=null,l=null,c=t,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ue&d)===d:(pi&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===us&&(u=!0);else if((pi&f)===f){c=c.next,f===us&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=d,o=a):l=l.next=d,ne.lanes|=f,da|=f;d=c.action,to&&r(a,d),a=c.hasEagerState?c.eagerState:r(a,d)}else f={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(s=l=f,o=a):l=l.next=f,ne.lanes|=d,da|=d;c=c.next}while(c!==null&&c!==t);if(l===null?o=a:l.next=s,!Ur(a,e.memoizedState)&&(dt=!0,u&&(r=Jo,r!==null)))throw r;e.memoizedState=a,e.baseState=o,e.baseQueue=l,n.lastRenderedState=a}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function kv(e){var t=at(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ur(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function FO(e,t,r){var n=ne,i=at(),a=de;if(a){if(r===void 0)throw Error(D(407));r=r()}else r=t();var o=!Ur((Ee||i).memoizedState,r);if(o&&(i.memoizedState=r,dt=!0),i=i.queue,jb(ZO.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,fs(9,{destroy:void 0},QO.bind(null,n,i,r,t),null),Me===null)throw Error(D(349));a||pi&127||XO(n,t,r)}return r}function XO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t=Oh(),ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function QO(e,t,r,n){t.value=r,t.getSnapshot=n,JO(t)&&eT(e)}function ZO(e,t,r){return r(function(){JO(t)&&eT(e)})}function JO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ur(e,r)}catch{return!0}}function eT(e){var t=mo(e,2);t!==null&&gr(t,e,2)}function ng(e){var t=rr();if(typeof e=="function"){var r=e;if(e=r(),to){Ki(!0);try{r()}finally{Ki(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t}function tT(e,t,r,n){return e.baseState=r,kb(e,Ee,typeof n=="function"?n:gi)}function Lz(e,t,r,n,i){if(kh(e))throw Error(D(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};J.T!==null?r(!0):a.isTransition=!1,n(a),r=t.pending,r===null?(a.next=t.pending=a,rT(t,a)):(a.next=r.next,t.pending=r.next=a)}}function rT(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var a=J.T,o={};J.T=o;try{var s=r(i,n),l=J.S;l!==null&&l(o,s),FS(e,t,s)}catch(c){ig(e,t,c)}finally{a!==null&&o.types!==null&&(a.types=o.types),J.T=a}}else try{a=r(i,n),FS(e,t,a)}catch(c){ig(e,t,c)}}function FS(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){XS(e,t,n)},function(n){return ig(e,t,n)}):XS(e,t,r)}function XS(e,t,r){t.status="fulfilled",t.value=r,nT(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,rT(e,r)))}function ig(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,nT(t),t=t.next;while(t!==n)}e.action=null}function nT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function iT(e,t){return t}function QS(e,t){if(de){var r=Me.formState;if(r!==null){e:{var n=ne;if(de){if(Le){t:{for(var i=Le,a=tn;i.nodeType!==8;){if(!a){i=null;break t}if(i=an(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Le=an(i.nextSibling),n=i.data==="F!";break e}}ca(n)}n=!1}n&&(t=r[0])}}return r=rr(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iT,lastRenderedState:t},r.queue=n,r=xT.bind(null,ne,n),n.dispatch=r,n=ng(!1),a=Db.bind(null,ne,!1,n.queue),n=rr(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,r=Lz.bind(null,ne,i,a,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function ZS(e){var t=at();return aT(t,Ee,e)}function aT(e,t,r){if(t=kb(e,t,iT)[0],e=md(gi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=$c(t)}catch(o){throw o===Rs?Ch:o}else n=t;t=at();var i=t.queue,a=i.dispatch;return r!==t.memoizedState&&(ne.flags|=2048,fs(9,{destroy:void 0},zz.bind(null,i,r),null)),[n,a,e]}function zz(e,t){e.action=t}function JS(e){var t=at(),r=Ee;if(r!==null)return aT(t,r,e);at(),t=t.memoizedState,r=at();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fs(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=ne.updateQueue,t===null&&(t=Oh(),ne.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function oT(){return at().memoizedState}function vd(e,t,r,n){var i=rr();ne.flags|=e,i.memoizedState=fs(1|t,{destroy:void 0},r,n===void 0?null:n)}function Mh(e,t,r,n){var i=at();n=n===void 0?null:n;var a=i.memoizedState.inst;Ee!==null&&n!==null&&Eb(n,Ee.memoizedState.deps)?i.memoizedState=fs(t,a,r,n):(ne.flags|=e,i.memoizedState=fs(1|t,a,r,n))}function e1(e,t){vd(8390656,8,e,t)}function jb(e,t){Mh(2048,8,e,t)}function $z(e){ne.flags|=4;var t=ne.updateQueue;if(t===null)t=Oh(),ne.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function sT(e){var t=at().memoizedState;return $z({ref:t,nextImpl:e}),function(){if(ve&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function lT(e,t){return Mh(4,2,e,t)}function cT(e,t){return Mh(4,4,e,t)}function uT(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dT(e,t,r){r=r!=null?r.concat([e]):null,Mh(4,4,uT.bind(null,t,e),r)}function Pb(){}function fT(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Eb(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hT(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Eb(t,n[1]))return n[0];if(n=e(),to){Ki(!0);try{e()}finally{Ki(!1)}}return r.memoizedState=[n,t],n}function Nb(e,t,r){return r===void 0||pi&1073741824&&!(ue&261930)?e.memoizedState=t:(e.memoizedState=r,e=tM(),ne.lanes|=e,da|=e,r)}function mT(e,t,r,n){return Ur(r,t)?r:ds.current!==null?(e=Nb(e,r,n),Ur(e,t)||(dt=!0),e):!(pi&42)||pi&1073741824&&!(ue&261930)?(dt=!0,e.memoizedState=r):(e=tM(),ne.lanes|=e,da|=e,t)}function vT(e,t,r,n,i){var a=pe.p;pe.p=a!==0&&8>a?a:8;var o=J.T,s={};J.T=s,Db(e,!1,t,r);try{var l=i(),c=J.S;if(c!==null&&c(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=Rz(l,n);Rl(e,t,u,Lr(e))}else Rl(e,t,n,Lr(e))}catch(d){Rl(e,t,{then:function(){},status:"rejected",reason:d},Lr())}finally{pe.p=a,o!==null&&s.types!==null&&(o.types=s.types),J.T=o}}function Uz(){}function ag(e,t,r,n){if(e.tag!==5)throw Error(D(476));var i=pT(e).queue;vT(e,i,t,Ba,r===null?Uz:function(){return gT(e),r(n)})}function pT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ba,baseState:Ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Ba},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gT(e){var t=pT(e);t.next===null&&(t=e.alternate.memoizedState),Rl(e,t.next.queue,{},Lr())}function Rb(){return Yt(ec)}function yT(){return at().memoizedState}function bT(){return at().memoizedState}function Bz(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Lr();e=ea(r);var n=ta(t,e,r);n!==null&&(gr(n,t,r),jl(n,t,r)),t={cache:bb()},e.payload=t;return}t=t.return}}function Vz(e,t,r){var n=Lr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},kh(e)?_T(t,r):(r=vb(e,t,r,n),r!==null&&(gr(r,e,n),ST(r,t,n)))}function xT(e,t,r){var n=Lr();Rl(e,t,r,n)}function Rl(e,t,r,n){var i={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(kh(e))_T(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ur(s,o))return Ah(e,t,i,0),Me===null&&Eh(),!1}catch{}finally{}if(r=vb(e,t,i,n),r!==null)return gr(r,e,n),ST(r,t,n),!0}return!1}function Db(e,t,r,n){if(n={lane:2,revertLane:Wb(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},kh(e)){if(t)throw Error(D(479))}else t=vb(e,r,n,2),t!==null&&gr(t,e,2)}function kh(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function _T(e,t){ts=qd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ST(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sO(e,r)}}var Ql={readContext:Yt,use:Th,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Ql.useEffectEvent=Qe;var wT={readContext:Yt,use:Th,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:e1,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,vd(4194308,4,uT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){vd(4,2,e,t)},useMemo:function(e,t){var r=rr();t=t===void 0?null:t;var n=e();if(to){Ki(!0);try{e()}finally{Ki(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=rr();if(r!==void 0){var i=r(t);if(to){Ki(!0);try{r(t)}finally{Ki(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Vz.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:function(e){e=ng(e);var t=e.queue,r=xT.bind(null,ne,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Pb,useDeferredValue:function(e,t){var r=rr();return Nb(r,e,t)},useTransition:function(){var e=ng(!1);return e=vT.bind(null,ne,e.queue,!0,!1),rr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ne,i=rr();if(de){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Me===null)throw Error(D(349));ue&127||XO(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,e1(ZO.bind(null,n,a,e),[e]),n.flags|=2048,fs(9,{destroy:void 0},QO.bind(null,n,a,r,t),null),r},useId:function(){var e=rr(),t=Me.identifierPrefix;if(de){var r=jn,n=kn;r=(n&~(1<<32-Ir(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Kd++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Dz++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Rb,useFormState:QS,useActionState:QS,useOptimistic:function(e){var t=rr();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Db.bind(null,ne,!0,r),r.dispatch=t,[e,t]},useMemoCache:Mb,useCacheRefresh:function(){return rr().memoizedState=Bz.bind(null,ne)},useEffectEvent:function(e){var t=rr(),r={impl:e};return t.memoizedState=r,function(){if(ve&2)throw Error(D(440));return r.impl.apply(void 0,arguments)}}},Ib={readContext:Yt,use:Th,useCallback:fT,useContext:Yt,useEffect:jb,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:md,useRef:oT,useState:function(){return md(gi)},useDebugValue:Pb,useDeferredValue:function(e,t){var r=at();return mT(r,Ee.memoizedState,e,t)},useTransition:function(){var e=md(gi)[0],t=at().memoizedState;return[typeof e=="boolean"?e:$c(e),t]},useSyncExternalStore:FO,useId:yT,useHostTransitionStatus:Rb,useFormState:ZS,useActionState:ZS,useOptimistic:function(e,t){var r=at();return tT(r,Ee,e,t)},useMemoCache:Mb,useCacheRefresh:bT};Ib.useEffectEvent=sT;var ET={readContext:Yt,use:Th,useCallback:fT,useContext:Yt,useEffect:jb,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:kv,useRef:oT,useState:function(){return kv(gi)},useDebugValue:Pb,useDeferredValue:function(e,t){var r=at();return Ee===null?Nb(r,e,t):mT(r,Ee.memoizedState,e,t)},useTransition:function(){var e=kv(gi)[0],t=at().memoizedState;return[typeof e=="boolean"?e:$c(e),t]},useSyncExternalStore:FO,useId:yT,useHostTransitionStatus:Rb,useFormState:JS,useActionState:JS,useOptimistic:function(e,t){var r=at();return Ee!==null?tT(r,Ee,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Mb,useCacheRefresh:bT};ET.useEffectEvent=sT;function jv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var og={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lr(),i=ea(n);i.payload=t,r!=null&&(i.callback=r),t=ta(e,i,n),t!==null&&(gr(t,e,n),jl(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lr(),i=ea(n);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ta(e,i,n),t!==null&&(gr(t,e,n),jl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lr(),n=ea(r);n.tag=2,t!=null&&(n.callback=t),t=ta(e,n,r),t!==null&&(gr(t,e,r),jl(t,e,r))}};function t1(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Kl(r,n)||!Kl(i,a):!0}function r1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&og.enqueueReplaceState(t,t.state,null)}function ro(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Ue({},r));for(var i in e)r[i]===void 0&&(r[i]=e[i])}return r}function AT(e){zd(e)}function CT(e){console.error(e)}function OT(e){zd(e)}function Yd(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function n1(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function sg(e,t,r){return r=ea(r),r.tag=3,r.payload={element:null},r.callback=function(){Yd(e,t)},r}function TT(e){return e=ea(e),e.tag=3,e}function MT(e,t,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=n.value;e.payload=function(){return i(a)},e.callback=function(){n1(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){n1(t,r,n),typeof i!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function Hz(e,t,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&Ns(t,r,i,!0),r=Br.current,r!==null){switch(r.tag){case 31:case 13:return nn===null?Zd():r.alternate===null&&et===0&&(et=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Vd?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Vv(e,n,i)),!1;case 22:return r.flags|=65536,n===Vd?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Vv(e,n,i)),!1}throw Error(D(435,r.tag))}return Vv(e,n,i),Zd(),!1}if(de)return t=Br.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Gp&&(e=Error(D(422),{cause:n}),Gl(en(e,r)))):(n!==Gp&&(t=Error(D(423),{cause:n}),Gl(en(t,r))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=en(n,r),i=sg(e.stateNode,n,i),Mv(e,i),et!==4&&(et=2)),!1;var a=Error(D(520),{cause:n});if(a=en(a,r),Ll===null?Ll=[a]:Ll.push(a),et!==4&&(et=2),t===null)return!0;n=en(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,e=sg(r.stateNode,n,e),Mv(r,e),!1;case 1:if(t=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ra===null||!ra.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=TT(i),MT(i,e,r,n),Mv(r,i),!1}r=r.return}while(r!==null);return!1}var Lb=Error(D(461)),dt=!1;function Vt(e,t,r,n){t.child=e===null?HO(t,null,r,n):eo(t,e.child,r,n)}function i1(e,t,r,n,i){r=r.render;var a=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return Ja(t),n=Ab(e,t,r,o,a,i),s=Cb(),e!==null&&!dt?(Ob(e,t,i),yi(e,t,i)):(de&&s&&gb(t),t.flags|=1,Vt(e,t,n,i),t.child)}function a1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!pb(a)&&a.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=a,kT(e,t,a,n,i)):(e=fd(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!zb(e,i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(o,n)&&e.ref===t.ref)return yi(e,t,i)}return t.flags|=1,e=ci(a,n),e.ref=t.ref,e.return=t,t.child=e}function kT(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Kl(a,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=a,zb(e,i))e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,yi(e,t,i)}return lg(e,t,r,n,i)}function jT(e,t,r,n){var i=n.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|r:r,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,t.child=null;return o1(e,t,a,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hd(t,a!==null?a.cachePool:null),a!==null?GS(t,a):tg(),KO(t);else return n=t.lanes=536870912,o1(e,t,a!==null?a.baseLanes|r:r,r,n)}else a!==null?(hd(t,a.cachePool),GS(t,a),Hi(),t.memoizedState=null):(e!==null&&hd(t,null),tg(),Hi());return Vt(e,t,i,r),t.child}function _l(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function o1(e,t,r,n,i){var a=xb();return a=a===null?null:{parent:ut._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},e!==null&&hd(t,null),tg(),KO(t),e!==null&&Ns(e,t,n,!0),t.childLanes=i,null}function pd(e,t){return t=Gd({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function s1(e,t,r){return eo(t,e.child,null,r),e=pd(t,t.pendingProps),e.flags|=2,Mr(t),t.memoizedState=null,e}function Wz(e,t,r){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(n.mode==="hidden")return e=pd(t,n),t.lanes=536870912,_l(null,e);if(rg(t),(e=Le)?(e=wM(e,tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:la!==null?{id:kn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=IO(e),r.return=t,t.child=r,Kt=t,Le=null)):e=null,e===null)throw ca(t);return t.lanes=536870912,null}return pd(t,n)}var a=e.memoizedState;if(a!==null){var o=a.dehydrated;if(rg(t),i)if(t.flags&256)t.flags&=-257,t=s1(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(dt||Ns(e,t,r,!1),i=(r&e.childLanes)!==0,dt||i){if(n=Me,n!==null&&(o=lO(n,r),o!==0&&o!==a.retryLane))throw a.retryLane=o,mo(e,o),gr(n,e,o),Lb;Zd(),t=s1(e,t,r)}else e=a.treeContext,Le=an(o.nextSibling),Kt=t,de=!0,Ji=null,tn=!1,e!==null&&zO(t,e),t=pd(t,n),t.flags|=4096;return t}return e=ci(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function gd(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(D(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function lg(e,t,r,n,i){return Ja(t),r=Ab(e,t,r,n,void 0,i),n=Cb(),e!==null&&!dt?(Ob(e,t,i),yi(e,t,i)):(de&&n&&gb(t),t.flags|=1,Vt(e,t,r,i),t.child)}function l1(e,t,r,n,i,a){return Ja(t),t.updateQueue=null,r=GO(t,n,r,i),YO(e),n=Cb(),e!==null&&!dt?(Ob(e,t,a),yi(e,t,a)):(de&&n&&gb(t),t.flags|=1,Vt(e,t,r,a),t.child)}function c1(e,t,r,n,i){if(Ja(t),t.stateNode===null){var a=$o,o=r.contextType;typeof o=="object"&&o!==null&&(a=Yt(o)),a=new r(n,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=og,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=n,a.state=t.memoizedState,a.refs={},Sb(t),o=r.contextType,a.context=typeof o=="object"&&o!==null?Yt(o):$o,a.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(jv(t,r,o,n),a.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&og.enqueueReplaceState(a,a.state,null),Nl(t,n,a,i),Pl(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,l=ro(r,s);a.props=l;var c=a.context,u=r.contextType;o=$o,typeof u=="object"&&u!==null&&(o=Yt(u));var d=r.getDerivedStateFromProps;u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s||c!==o)&&r1(t,a,n,o),zi=!1;var f=t.memoizedState;a.state=f,Nl(t,n,a,i),Pl(),c=t.memoizedState,s||f!==c||zi?(typeof d=="function"&&(jv(t,r,d,n),c=t.memoizedState),(l=zi||t1(t,r,l,n,f,c,o))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=o,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Jp(e,t),o=t.memoizedProps,u=ro(r,o),a.props=u,d=t.pendingProps,f=a.context,c=r.contextType,l=$o,typeof c=="object"&&c!==null&&(l=Yt(c)),s=r.getDerivedStateFromProps,(c=typeof s=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&r1(t,a,n,l),zi=!1,f=t.memoizedState,a.state=f,Nl(t,n,a,i),Pl();var h=t.memoizedState;o!==d||f!==h||zi||e!==null&&e.dependencies!==null&&Bd(e.dependencies)?(typeof s=="function"&&(jv(t,r,s,n),h=t.memoizedState),(u=zi||t1(t,r,u,n,f,h,l)||e!==null&&e.dependencies!==null&&Bd(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,gd(e,t),n=(t.flags&128)!==0,a||n?(a=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&n?(t.child=eo(t,e.child,null,i),t.child=eo(t,null,r,i)):Vt(e,t,r,i),t.memoizedState=a.state,e=t.child):e=yi(e,t,i),e}function u1(e,t,r,n){return Za(),t.flags|=256,Vt(e,t,r,n),t.child}var Pv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nv(e){return{baseLanes:e,cachePool:UO()}}function Rv(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Pr),e}function PT(e,t,r){var n=t.pendingProps,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(i?Vi(t):Hi(),(e=Le)?(e=wM(e,tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:la!==null?{id:kn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=IO(e),r.return=t,t.child=r,Kt=t,Le=null)):e=null,e===null)throw ca(t);return Sg(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,i?(Hi(),i=t.mode,s=Gd({mode:"hidden",children:s},i),n=Va(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=Nv(r),n.childLanes=Rv(e,o,r),t.memoizedState=Pv,_l(null,n)):(Vi(t),cg(t,s))}var l=e.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(a)t.flags&256?(Vi(t),t.flags&=-257,t=Dv(e,t,r)):t.memoizedState!==null?(Hi(),t.child=e.child,t.flags|=128,t=null):(Hi(),s=n.fallback,i=t.mode,n=Gd({mode:"visible",children:n.children},i),s=Va(s,i,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,eo(t,e.child,null,r),n=t.child,n.memoizedState=Nv(r),n.childLanes=Rv(e,o,r),t.memoizedState=Pv,t=_l(null,n));else if(Vi(t),Sg(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var c=o.dgst;o=c,n=Error(D(419)),n.stack="",n.digest=o,Gl({value:n,source:null,stack:null}),t=Dv(e,t,r)}else if(dt||Ns(e,t,r,!1),o=(r&e.childLanes)!==0,dt||o){if(o=Me,o!==null&&(n=lO(o,r),n!==0&&n!==l.retryLane))throw l.retryLane=n,mo(e,n),gr(o,e,n),Lb;_g(s)||Zd(),t=Dv(e,t,r)}else _g(s)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Le=an(s.nextSibling),Kt=t,de=!0,Ji=null,tn=!1,e!==null&&zO(t,e),t=cg(t,n.children),t.flags|=4096);return t}return i?(Hi(),s=n.fallback,i=t.mode,l=e.child,c=l.sibling,n=ci(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,c!==null?s=ci(c,s):(s=Va(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,_l(null,n),n=t.child,s=e.child.memoizedState,s===null?s=Nv(r):(i=s.cachePool,i!==null?(l=ut._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=UO(),s={baseLanes:s.baseLanes|r,cachePool:i}),n.memoizedState=s,n.childLanes=Rv(e,o,r),t.memoizedState=Pv,_l(e.child,n)):(Vi(t),r=e.child,e=r.sibling,r=ci(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function cg(e,t){return t=Gd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Gd(e,t){return e=kr(22,e,null,t),e.lanes=0,e}function Dv(e,t,r){return eo(t,e.child,null,r),e=cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xp(e.return,t,r)}function Iv(e,t,r,n,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.treeForkCount=a)}function NT(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var o=nt.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Re(nt,o),Vt(e,t,n,r),n=de?Yl:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d1(e,r,t);else if(e.tag===19)d1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Wd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Iv(t,!1,i,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Iv(t,!0,r,null,a,n);break;case"together":Iv(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function yi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),da|=t.lanes,!(r&t.childLanes))if(e!==null){if(Ns(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=ci(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ci(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zb(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bd(e)))}function qz(e,t,r){switch(t.tag){case 3:Rd(t,t.stateNode.containerInfo),Bi(t,ut,e.memoizedState.cache),Za();break;case 27:case 5:Lp(t);break;case 4:Rd(t,t.stateNode.containerInfo);break;case 10:Bi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rg(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Vi(t),t.flags|=128,null):r&t.child.childLanes?PT(e,t,r):(Vi(t),e=yi(e,t,r),e!==null?e.sibling:null);Vi(t);break;case 19:var i=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(Ns(e,t,r,!1),n=(r&t.childLanes)!==0),i){if(n)return NT(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(nt,nt.current),n)break;return null;case 22:return t.lanes=0,jT(e,t,r,t.pendingProps);case 24:Bi(t,ut,e.memoizedState.cache)}return yi(e,t,r)}function RT(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)dt=!0;else{if(!zb(e,r)&&!(t.flags&128))return dt=!1,qz(e,t,r);dt=!!(e.flags&131072)}else dt=!1,de&&t.flags&1048576&&LO(t,Yl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ja(t.elementType),t.type=e,typeof e=="function")pb(e)?(n=ro(e,n),t.tag=1,t=c1(null,t,e,n,r)):(t.tag=0,t=lg(null,t,e,n,r));else{if(e!=null){var i=e.$$typeof;if(i===rb){t.tag=11,t=i1(null,t,e,n,r);break e}else if(i===nb){t.tag=14,t=a1(null,t,e,n,r);break e}}throw t=Dp(e)||e,Error(D(306,t,""))}}return t;case 0:return lg(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,i=ro(n,t.pendingProps),c1(e,t,n,i,r);case 3:e:{if(Rd(t,t.stateNode.containerInfo),e===null)throw Error(D(387));n=t.pendingProps;var a=t.memoizedState;i=a.element,Jp(e,t),Nl(t,n,null,r);var o=t.memoizedState;if(n=o.cache,Bi(t,ut,n),n!==a.cache&&Qp(t,[ut],r,!0),Pl(),n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=u1(e,t,n,r);break e}else if(n!==i){i=en(Error(D(424)),t),Gl(i),t=u1(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=an(e.firstChild),Kt=t,de=!0,Ji=null,tn=!0,r=HO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Za(),n===i){t=yi(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 26:return gd(e,t),e===null?(r=j1(t.type,null,t.pendingProps,null))?t.memoizedState=r:de||(r=t.type,e=t.pendingProps,n=rf(Zi.current).createElement(r),n[qt]=t,n[yr]=e,Gt(n,r,e),kt(n),t.stateNode=n):t.memoizedState=j1(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lp(t),e===null&&de&&(n=t.stateNode=EM(t.type,t.pendingProps,Zi.current),Kt=t,tn=!0,i=Le,ba(t.type)?(wg=i,Le=an(n.firstChild)):Le=i),Vt(e,t,t.pendingProps.children,r),gd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((i=n=Le)&&(n=_$(n,t.type,t.pendingProps,tn),n!==null?(t.stateNode=n,Kt=t,Le=an(n.firstChild),tn=!1,i=!0):i=!1),i||ca(t)),Lp(t),i=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,n=a.children,bg(i,a)?n=null:o!==null&&bg(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Ab(e,t,Iz,null,null,r),ec._currentValue=i),gd(e,t),Vt(e,t,n,r),t.child;case 6:return e===null&&de&&((e=r=Le)&&(r=S$(r,t.pendingProps,tn),r!==null?(t.stateNode=r,Kt=t,Le=null,e=!0):e=!1),e||ca(t)),null;case 13:return PT(e,t,r);case 4:return Rd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=eo(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return i1(e,t,t.type,t.pendingProps,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Bi(t,t.type,n.value),Vt(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ja(t),i=Yt(i),n=n(i),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return a1(e,t,t.type,t.pendingProps,r);case 15:return kT(e,t,t.type,t.pendingProps,r);case 19:return NT(e,t,r);case 31:return Wz(e,t,r);case 22:return jT(e,t,r,t.pendingProps);case 24:return Ja(t),n=Yt(ut),e===null?(i=xb(),i===null&&(i=Me,a=bb(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),t.memoizedState={parent:n,cache:i},Sb(t),Bi(t,ut,i)):(e.lanes&r&&(Jp(e,t),Nl(t,null,null,r),Pl()),i=e.memoizedState,a=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Bi(t,ut,n)):(n=a.cache,Bi(t,ut,n),n!==i.cache&&Qp(t,[ut],r,!0))),Vt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function Kn(e){e.flags|=4}function Lv(e,t,r,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(iM())e.flags|=8192;else throw Wa=Vd,_b}else e.flags&=-16777217}function f1(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!OM(t))if(iM())e.flags|=8192;else throw Wa=Vd,_b}function zu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?aO():536870912,e.lanes|=t,hs|=t)}function ol(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Kz(e,t,r){var n=t.pendingProps;switch(yb(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ui(ut),ss(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xo(t)?Kn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tv())),De(t),null;case 26:var i=t.type,a=t.memoizedState;return e===null?(Kn(t),a!==null?(De(t),f1(t,a)):(De(t),Lv(t,i,null,n,r))):a?a!==e.memoizedState?(Kn(t),De(t),f1(t,a)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Kn(t),De(t),Lv(t,i,e,n,r)),null;case 27:if(Dd(t),r=Zi.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Kn(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return De(t),null}e=Rn.current,xo(t)?BS(t):(e=EM(i,n,r),t.stateNode=e,Kn(t))}return De(t),null;case 5:if(Dd(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Kn(t);else{if(!n){if(t.stateNode===null)throw Error(D(166));return De(t),null}if(a=Rn.current,xo(t))BS(t);else{var o=rf(Zi.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?o.createElement(i,{is:n.is}):o.createElement(i)}}a[qt]=t,a[yr]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(Gt(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Kn(t)}}return De(t),Lv(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Kn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(e=Zi.current,xo(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,i=Kt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[qt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||xM(e.nodeValue,r)),e||ca(t,!0)}else e=rf(e).createTextNode(n),e[qt]=t,t.stateNode=e}return De(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=xo(t),r!==null){if(e===null){if(!n)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[qt]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else r=Tv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Mr(t),t):(Mr(t),null);if(t.flags&128)throw Error(D(558))}return De(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=xo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[qt]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else i=Tv(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Mr(t),t):(Mr(t),null)}return Mr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),zu(t,t.updateQueue),De(t),null);case 4:return ss(),e===null&&qb(t.stateNode.containerInfo),De(t),null;case 10:return ui(t.type),De(t),null;case 19:if(Pt(nt),n=t.memoizedState,n===null)return De(t),null;if(i=(t.flags&128)!==0,a=n.rendering,a===null)if(i)ol(n,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Wd(e),a!==null){for(t.flags|=128,ol(n,!1),e=a.updateQueue,t.updateQueue=e,zu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)DO(r,e),r=r.sibling;return Re(nt,nt.current&1|2),de&&Zn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Rr()>Xd&&(t.flags|=128,i=!0,ol(n,!1),t.lanes=4194304)}else{if(!i)if(e=Wd(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,zu(t,e),ol(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!de)return De(t),null}else 2*Rr()-n.renderingStartTime>Xd&&r!==536870912&&(t.flags|=128,i=!0,ol(n,!1),t.lanes=4194304);n.isBackwards?(a.sibling=t.child,t.child=a):(e=n.last,e!==null?e.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Rr(),e.sibling=null,r=nt.current,Re(nt,i?r&1|2:r&1),de&&Zn(t,n.treeForkCount),e):(De(t),null);case 22:case 23:return Mr(t),wb(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),r=t.updateQueue,r!==null&&zu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&Pt(Ha),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ui(ut),De(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function Yz(e,t){switch(yb(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ui(ut),ss(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dd(t),null;case 31:if(t.memoizedState!==null){if(Mr(t),t.alternate===null)throw Error(D(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(nt),null;case 4:return ss(),null;case 10:return ui(t.type),null;case 22:case 23:return Mr(t),wb(),e!==null&&Pt(Ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ui(ut),null;case 25:return null;default:return null}}function DT(e,t){switch(yb(t),t.tag){case 3:ui(ut),ss();break;case 26:case 27:case 5:Dd(t);break;case 4:ss();break;case 31:t.memoizedState!==null&&Mr(t);break;case 13:Mr(t);break;case 19:Pt(nt);break;case 10:ui(t.type);break;case 22:case 23:Mr(t),wb(),e!==null&&Pt(Ha);break;case 24:ui(ut)}}function Uc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var a=r.create,o=r.inst;n=a(),o.destroy=n}r=r.next}while(r!==i)}}catch(s){Se(t,t.return,s)}}function ua(e,t,r){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var l=r,c=s;try{c()}catch(u){Se(i,l,u)}}}n=n.next}while(n!==a)}}catch(u){Se(t,t.return,u)}}function IT(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{qO(t,r)}catch(n){Se(e,e.return,n)}}}function LT(e,t,r){r.props=ro(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Se(e,t,n)}}function Dl(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(i){Se(e,t,i)}}function Pn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){Se(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){Se(e,t,i)}else r.current=null}function zT(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){Se(e,e.return,i)}}function zv(e,t,r){try{var n=e.stateNode;v$(n,e.type,r,t),n[yr]=t}catch(i){Se(e,e.return,i)}}function $T(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ba(e.type)||e.tag===4}function $v(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$T(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ug(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ai));else if(n!==4&&(n===27&&ba(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(ug(e,t,r),e=e.sibling;e!==null;)ug(e,t,r),e=e.sibling}function Fd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&ba(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Fd(e,t,r),e=e.sibling;e!==null;)Fd(e,t,r),e=e.sibling}function UT(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Gt(t,n,r),t[qt]=e,t[yr]=r}catch(a){Se(e,e.return,a)}}var ei=!1,ct=!1,Uv=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Gz(e,t){if(e=e.containerInfo,gg=sf,e=OO(e),hb(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===r&&++c===i&&(s=o),f===a&&++u===n&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yg={focusedElem:e,selectionRange:r},sf=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)i=e[r],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,r=t,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var v=ro(r.type,i);e=n.getSnapshotBeforeUpdate(v,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(p){Se(r,r.return,p)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)xg(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xg(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function BT(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Gn(e,r),n&4&&Uc(5,r);break;case 1:if(Gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){Se(r,r.return,o)}else{var i=ro(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Se(r,r.return,o)}}n&64&&IT(r),n&512&&Dl(r,r.return);break;case 3:if(Gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{qO(e,t)}catch(o){Se(r,r.return,o)}}break;case 27:t===null&&n&4&&UT(r);case 26:case 5:Gn(e,r),t===null&&n&4&&zT(r),n&512&&Dl(r,r.return);break;case 12:Gn(e,r);break;case 31:Gn(e,r),n&4&&WT(e,r);break;case 13:Gn(e,r),n&4&&qT(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=n$.bind(null,r),w$(e,r))));break;case 22:if(n=r.memoizedState!==null||ei,!n){t=t!==null&&t.memoizedState!==null||ct,i=ei;var a=ct;ei=n,(ct=t)&&!a?Xn(e,r,(r.subtreeFlags&8772)!==0):Gn(e,r),ei=i,ct=a}break;case 30:break;default:Gn(e,r)}}function VT(e){var t=e.alternate;t!==null&&(e.alternate=null,VT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&sb(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,hr=!1;function Yn(e,t,r){for(r=r.child;r!==null;)HT(e,t,r),r=r.sibling}function HT(e,t,r){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(Nc,r)}catch{}switch(r.tag){case 26:ct||Pn(r,t),Yn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ct||Pn(r,t);var n=He,i=hr;ba(r.type)&&(He=r.stateNode,hr=!1),Yn(e,t,r),$l(r.stateNode),He=n,hr=i;break;case 5:ct||Pn(r,t);case 6:if(n=He,i=hr,He=null,Yn(e,t,r),He=n,hr=i,He!==null)if(hr)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(r.stateNode)}catch(a){Se(r,t,a)}else try{He.removeChild(r.stateNode)}catch(a){Se(r,t,a)}break;case 18:He!==null&&(hr?(e=He,C1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),gs(e)):C1(He,r.stateNode));break;case 4:n=He,i=hr,He=r.stateNode.containerInfo,hr=!0,Yn(e,t,r),He=n,hr=i;break;case 0:case 11:case 14:case 15:ua(2,r,t),ct||ua(4,r,t),Yn(e,t,r);break;case 1:ct||(Pn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&LT(r,t,n)),Yn(e,t,r);break;case 21:Yn(e,t,r);break;case 22:ct=(n=ct)||r.memoizedState!==null,Yn(e,t,r),ct=n;break;default:Yn(e,t,r)}}function WT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gs(e)}catch(r){Se(t,t.return,r)}}}function qT(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gs(e)}catch(r){Se(t,t.return,r)}}function Fz(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new h1),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new h1),t;default:throw Error(D(435,e.tag))}}function $u(e,t){var r=Fz(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var i=i$.bind(null,e,n);n.then(i,i)}})}function dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(ba(s.type)){He=s.stateNode,hr=!1;break e}break;case 5:He=s.stateNode,hr=!1;break e;case 3:case 4:He=s.stateNode.containerInfo,hr=!0;break e}s=s.return}if(He===null)throw Error(D(160));HT(a,o,i),He=null,hr=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)KT(t,e),t=t.sibling}var mn=null;function KT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dr(t,e),fr(e),n&4&&(ua(3,e,e.return),Uc(3,e),ua(5,e,e.return));break;case 1:dr(t,e),fr(e),n&512&&(ct||r===null||Pn(r,r.return)),n&64&&ei&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=mn;if(dr(t,e),fr(e),n&512&&(ct||r===null||Pn(r,r.return)),n&4){var a=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Ic]||a[qt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),Gt(a,n,r),a[qt]=e,kt(a),n=a;break e;case"link":var o=N1("link","href",i).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(a=o[s],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}a=i.createElement(n),Gt(a,n,r),i.head.appendChild(a);break;case"meta":if(o=N1("meta","content",i).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(a=o[s],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}a=i.createElement(n),Gt(a,n,r),i.head.appendChild(a);break;default:throw Error(D(468,n))}a[qt]=e,kt(a),n=a}e.stateNode=n}else R1(i,e.type,e.stateNode);else e.stateNode=P1(i,n,e.memoizedProps);else a!==n?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,n===null?R1(i,e.type,e.stateNode):P1(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&zv(e,e.memoizedProps,r.memoizedProps)}break;case 27:dr(t,e),fr(e),n&512&&(ct||r===null||Pn(r,r.return)),r!==null&&n&4&&zv(e,e.memoizedProps,r.memoizedProps);break;case 5:if(dr(t,e),fr(e),n&512&&(ct||r===null||Pn(r,r.return)),e.flags&32){i=e.stateNode;try{cs(i,"")}catch(v){Se(e,e.return,v)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,zv(e,i,r!==null?r.memoizedProps:i)),n&1024&&(Uv=!0);break;case 6:if(dr(t,e),fr(e),n&4){if(e.stateNode===null)throw Error(D(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){Se(e,e.return,v)}}break;case 3:if(xd=null,i=mn,mn=nf(t.containerInfo),dr(t,e),mn=i,fr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(v){Se(e,e.return,v)}Uv&&(Uv=!1,YT(e));break;case 4:n=mn,mn=nf(e.stateNode.containerInfo),dr(t,e),fr(e),mn=n;break;case 12:dr(t,e),fr(e);break;case 31:dr(t,e),fr(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,$u(e,n)));break;case 13:dr(t,e),fr(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(jh=Rr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,$u(e,n)));break;case 22:i=e.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,c=ei,u=ct;if(ei=c||i,ct=u||l,dr(t,e),ct=u,ei=c,fr(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(r===null||l||ei||ct||Pa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){l=r=t;try{if(a=l.stateNode,i)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;s.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(v){Se(l,l.return,v)}}}else if(t.tag===6){if(r===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(v){Se(l,l.return,v)}}}else if(t.tag===18){if(r===null){l=t;try{var h=l.stateNode;i?O1(h,!0):O1(l.stateNode,!1)}catch(v){Se(l,l.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,$u(e,r))));break;case 19:dr(t,e),fr(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,$u(e,n)));break;case 30:break;case 21:break;default:dr(t,e),fr(e)}}function fr(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if($T(n)){r=n;break}n=n.return}if(r==null)throw Error(D(160));switch(r.tag){case 27:var i=r.stateNode,a=$v(e);Fd(e,a,i);break;case 5:var o=r.stateNode;r.flags&32&&(cs(o,""),r.flags&=-33);var s=$v(e);Fd(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,c=$v(e);ug(e,c,l);break;default:throw Error(D(161))}}catch(u){Se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YT(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;YT(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)BT(e,t.alternate,t),t=t.sibling}function Pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),Pa(t);break;case 1:Pn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&LT(t,t.return,r),Pa(t);break;case 27:$l(t.stateNode);case 26:case 5:Pn(t,t.return),Pa(t);break;case 22:t.memoizedState===null&&Pa(t);break;case 30:Pa(t);break;default:Pa(t)}e=e.sibling}}function Xn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Xn(i,a,r),Uc(4,a);break;case 1:if(Xn(i,a,r),n=a,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Se(n,n.return,c)}if(n=a,i=n.updateQueue,i!==null){var s=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)WO(l[i],s)}catch(c){Se(n,n.return,c)}}r&&o&64&&IT(a),Dl(a,a.return);break;case 27:UT(a);case 26:case 5:Xn(i,a,r),r&&n===null&&o&4&&zT(a),Dl(a,a.return);break;case 12:Xn(i,a,r);break;case 31:Xn(i,a,r),r&&o&4&&WT(i,a);break;case 13:Xn(i,a,r),r&&o&4&&qT(i,a);break;case 22:a.memoizedState===null&&Xn(i,a,r),Dl(a,a.return);break;case 30:break;default:Xn(i,a,r)}t=t.sibling}}function $b(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&zc(r))}function Ub(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zc(e))}function hn(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)GT(e,t,r,n),t=t.sibling}function GT(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:hn(e,t,r,n),i&2048&&Uc(9,t);break;case 1:hn(e,t,r,n);break;case 3:hn(e,t,r,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zc(e)));break;case 12:if(i&2048){hn(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Se(t,t.return,l)}}else hn(e,t,r,n);break;case 31:hn(e,t,r,n);break;case 13:hn(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState!==null?a._visibility&2?hn(e,t,r,n):Il(e,t):a._visibility&2?hn(e,t,r,n):(a._visibility|=2,To(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&$b(o,t);break;case 24:hn(e,t,r,n),i&2048&&Ub(t.alternate,t);break;default:hn(e,t,r,n)}}function To(e,t,r,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,o=t,s=r,l=n,c=o.flags;switch(o.tag){case 0:case 11:case 15:To(a,o,s,l,i),Uc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState!==null?u._visibility&2?To(a,o,s,l,i):Il(a,o):(u._visibility|=2,To(a,o,s,l,i)),i&&c&2048&&$b(o.alternate,o);break;case 24:To(a,o,s,l,i),i&&c&2048&&Ub(o.alternate,o);break;default:To(a,o,s,l,i)}t=t.sibling}}function Il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:Il(r,n),i&2048&&$b(n.alternate,n);break;case 24:Il(r,n),i&2048&&Ub(n.alternate,n);break;default:Il(r,n)}t=t.sibling}}var Sl=8192;function _o(e,t,r){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)FT(e,t,r),e=e.sibling}function FT(e,t,r){switch(e.tag){case 26:_o(e,t,r),e.flags&Sl&&e.memoizedState!==null&&D$(r,mn,e.memoizedState,e.memoizedProps);break;case 5:_o(e,t,r);break;case 3:case 4:var n=mn;mn=nf(e.stateNode.containerInfo),_o(e,t,r),mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Sl,Sl=16777216,_o(e,t,r),Sl=n):_o(e,t,r));break;default:_o(e,t,r)}}function XT(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Mt=n,ZT(n,e)}XT(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)QT(e),e=e.sibling}function QT(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&ua(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,yd(e)):sl(e);break;default:sl(e)}}function yd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];Mt=n,ZT(n,e)}XT(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ua(8,t,t.return),yd(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,yd(t));break;default:yd(t)}e=e.sibling}}function ZT(e,t){for(;Mt!==null;){var r=Mt;switch(r.tag){case 0:case 11:case 15:ua(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:zc(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Mt=n;else e:for(r=e;Mt!==null;){n=Mt;var i=n.sibling,a=n.return;if(VT(n),n===r){Mt=null;break e}if(i!==null){i.return=a,Mt=i;break e}Mt=a}}}var Xz={getCacheForType:function(e){var t=Yt(ut),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Yt(ut).controller.signal}},Qz=typeof WeakMap=="function"?WeakMap:Map,ve=0,Me=null,ce=null,ue=0,xe=0,Or=null,Gi=!1,Ds=!1,Bb=!1,bi=0,et=0,da=0,qa=0,Vb=0,Pr=0,hs=0,Ll=null,mr=null,dg=!1,jh=0,JT=0,Xd=1/0,Qd=null,ra=null,yt=0,na=null,ms=null,di=0,fg=0,hg=null,eM=null,zl=0,mg=null;function Lr(){return ve&2&&ue!==0?ue&-ue:J.T!==null?Wb():cO()}function tM(){if(Pr===0)if(!(ue&536870912)||de){var e=ju;ju<<=1,!(ju&3932160)&&(ju=262144),Pr=e}else Pr=536870912;return e=Br.current,e!==null&&(e.flags|=32),Pr}function gr(e,t,r){(e===Me&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(vs(e,0),Fi(e,ue,Pr,!1)),Dc(e,r),(!(ve&2)||e!==Me)&&(e===Me&&(!(ve&2)&&(qa|=r),et===4&&Fi(e,ue,Pr,!1)),Bn(e))}function rM(e,t,r){if(ve&6)throw Error(D(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Rc(e,t),i=n?e$(e,t):Bv(e,t,!0),a=n;do{if(i===0){Ds&&!n&&Fi(e,t,0,!1);break}else{if(r=e.current.alternate,a&&!Zz(r)){i=Bv(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;i=Ll;var l=s.current.memoizedState.isDehydrated;if(l&&(vs(s,o).flags|=256),o=Bv(s,o,!1),o!==2){if(Bb&&!l){s.errorRecoveryDisabledLanes|=a,qa|=a,i=4;break e}a=mr,mr=i,a!==null&&(mr===null?mr=a:mr.push.apply(mr,a))}i=o}if(a=!1,i!==2)continue}}if(i===1){vs(e,0),Fi(e,t,0,!0);break}e:{switch(n=e,a=i,a){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:Fi(n,t,Pr,!Gi);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(i=jh+300-Rr(),10<i)){if(Fi(n,t,Pr,!Gi),xh(n,0,!0)!==0)break e;di=t,n.timeoutHandle=SM(m1.bind(null,n,r,mr,Qd,dg,t,Pr,qa,hs,Gi,a,"Throttled",-0,0),i);break e}m1(n,r,mr,Qd,dg,t,Pr,qa,hs,Gi,a,null,-0,0)}}break}while(!0);Bn(e)}function m1(e,t,r,n,i,a,o,s,l,c,u,d,f,h){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},FT(t,a,d);var v=(a&62914560)===a?jh-Rr():(a&4194048)===a?JT-Rr():0;if(v=I$(d,v),v!==null){di=a,e.cancelPendingCommit=v(p1.bind(null,e,t,a,r,n,i,o,s,l,u,d,null,f,h)),Fi(e,a,o,!c);return}}p1(e,t,a,r,n,i,o,s,l)}function Zz(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ur(a(),i))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t,r,n){t&=~Vb,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var a=31-Ir(i),o=1<<a;n[a]=-1,i&=~o}r!==0&&oO(e,r,t)}function Ph(){return ve&6?!0:(Bc(0),!1)}function Hb(){if(ce!==null){if(xe===0)var e=ce.return;else e=ce,oi=vo=null,Tb(e),es=null,Fl=0,e=ce;for(;e!==null;)DT(e.alternate,e),e=e.return;ce=null}}function vs(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,y$(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),di=0,Hb(),Me=e,ce=r=ci(e.current,null),ue=t,xe=0,Or=null,Gi=!1,Ds=Rc(e,t),Bb=!1,hs=Pr=Vb=qa=da=et=0,mr=Ll=null,dg=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-Ir(n),a=1<<i;t|=e[i],n&=~a}return bi=t,Eh(),r}function nM(e,t){ne=null,J.H=Ql,t===Rs||t===Ch?(t=KS(),xe=3):t===_b?(t=KS(),xe=4):xe=t===Lb?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Or=t,ce===null&&(et=1,Yd(e,en(t,e.current)))}function iM(){var e=Br.current;return e===null?!0:(ue&4194048)===ue?nn===null:(ue&62914560)===ue||ue&536870912?e===nn:!1}function aM(){var e=J.H;return J.H=Ql,e===null?Ql:e}function oM(){var e=J.A;return J.A=Xz,e}function Zd(){et=4,Gi||(ue&4194048)!==ue&&Br.current!==null||(Ds=!0),!(da&134217727)&&!(qa&134217727)||Me===null||Fi(Me,ue,Pr,!1)}function Bv(e,t,r){var n=ve;ve|=2;var i=aM(),a=oM();(Me!==e||ue!==t)&&(Qd=null,vs(e,t)),t=!1;var o=et;e:do try{if(xe!==0&&ce!==null){var s=ce,l=Or;switch(xe){case 8:Hb(),o=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(t=!0);var c=xe;if(xe=0,Or=null,Vo(e,s,l,c),r&&Ds){o=0;break e}break;default:c=xe,xe=0,Or=null,Vo(e,s,l,c)}}Jz(),o=et;break}catch(u){nM(e,u)}while(!0);return t&&e.shellSuspendCounter++,oi=vo=null,ve=n,J.H=i,J.A=a,ce===null&&(Me=null,ue=0,Eh()),o}function Jz(){for(;ce!==null;)sM(ce)}function e$(e,t){var r=ve;ve|=2;var n=aM(),i=oM();Me!==e||ue!==t?(Qd=null,Xd=Rr()+500,vs(e,t)):Ds=Rc(e,t);e:do try{if(xe!==0&&ce!==null){t=ce;var a=Or;t:switch(xe){case 1:xe=0,Or=null,Vo(e,t,a,1);break;case 2:case 9:if(qS(a)){xe=0,Or=null,v1(t);break}t=function(){xe!==2&&xe!==9||Me!==e||(xe=7),Bn(e)},a.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:qS(a)?(xe=0,Or=null,v1(t)):(xe=0,Or=null,Vo(e,t,a,7));break;case 5:var o=null;switch(ce.tag){case 26:o=ce.memoizedState;case 5:case 27:var s=ce;if(o?OM(o):s.stateNode.complete){xe=0,Or=null;var l=s.sibling;if(l!==null)ce=l;else{var c=s.return;c!==null?(ce=c,Nh(c)):ce=null}break t}}xe=0,Or=null,Vo(e,t,a,5);break;case 6:xe=0,Or=null,Vo(e,t,a,6);break;case 8:Hb(),et=6;break e;default:throw Error(D(462))}}t$();break}catch(u){nM(e,u)}while(!0);return oi=vo=null,J.H=n,J.A=i,ve=r,ce!==null?0:(Me=null,ue=0,Eh(),et)}function t$(){for(;ce!==null&&!EL();)sM(ce)}function sM(e){var t=RT(e.alternate,e,bi);e.memoizedProps=e.pendingProps,t===null?Nh(e):ce=t}function v1(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=l1(r,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=l1(r,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:Tb(t);default:DT(r,t),t=ce=DO(t,bi),t=RT(r,t,bi)}e.memoizedProps=e.pendingProps,t===null?Nh(e):ce=t}function Vo(e,t,r,n){oi=vo=null,Tb(t),es=null,Fl=0;var i=t.return;try{if(Hz(e,i,t,r,ue)){et=1,Yd(e,en(r,e.current)),ce=null;return}}catch(a){if(i!==null)throw ce=i,a;et=1,Yd(e,en(r,e.current)),ce=null;return}t.flags&32768?(de||n===1?e=!0:Ds||ue&536870912?e=!1:(Gi=e=!0,(n===2||n===9||n===3||n===6)&&(n=Br.current,n!==null&&n.tag===13&&(n.flags|=16384))),lM(t,e)):Nh(t)}function Nh(e){var t=e;do{if(t.flags&32768){lM(t,Gi);return}e=t.return;var r=Kz(t.alternate,t,bi);if(r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);et===0&&(et=5)}function lM(e,t){do{var r=Yz(e.alternate,e);if(r!==null){r.flags&=32767,ce=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=r}while(e!==null);et=6,ce=null}function p1(e,t,r,n,i,a,o,s,l){e.cancelPendingCommit=null;do Rh();while(yt!==0);if(ve&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(a=t.lanes|t.childLanes,a|=mb,RL(e,r,a,o,s,l),e===Me&&(ce=Me=null,ue=0),ms=t,na=e,di=r,fg=a,hg=i,eM=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,a$(Id,function(){return hM(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=J.T,J.T=null,i=pe.p,pe.p=2,o=ve,ve|=4;try{Gz(e,t,r)}finally{ve=o,pe.p=i,J.T=n}}yt=1,cM(),uM(),dM()}}function cM(){if(yt===1){yt=0;var e=na,t=ms,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=J.T,J.T=null;var n=pe.p;pe.p=2;var i=ve;ve|=4;try{KT(t,e);var a=yg,o=OO(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&CO(s.ownerDocument.documentElement,s)){if(l!==null&&hb(s)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),v=s.textContent.length,p=Math.min(l.start,v),x=l.end===void 0?p:Math.min(l.end,v);!h.extend&&p>x&&(o=x,x=p,p=o);var g=zS(s,p),b=zS(s,x);if(g&&b&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var _=d.createRange();_.setStart(g.node,g.offset),h.removeAllRanges(),p>x?(h.addRange(_),h.extend(b.node,b.offset)):(_.setEnd(b.node,b.offset),h.addRange(_))}}}}for(d=[],h=s;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<d.length;s++){var S=d[s];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}sf=!!gg,yg=gg=null}finally{ve=i,pe.p=n,J.T=r}}e.current=t,yt=2}}function uM(){if(yt===2){yt=0;var e=na,t=ms,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=J.T,J.T=null;var n=pe.p;pe.p=2;var i=ve;ve|=4;try{BT(e,t.alternate,t)}finally{ve=i,pe.p=n,J.T=r}}yt=3}}function dM(){if(yt===4||yt===3){yt=0,AL();var e=na,t=ms,r=di,n=eM;t.subtreeFlags&10256||t.flags&10256?yt=5:(yt=0,ms=na=null,fM(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(ra=null),ob(r),t=t.stateNode,Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(Nc,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=J.T,i=pe.p,pe.p=2,J.T=null;try{for(var a=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];a(s.value,{componentStack:s.stack})}}finally{J.T=t,pe.p=i}}di&3&&Rh(),Bn(e),i=e.pendingLanes,r&261930&&i&42?e===mg?zl++:(zl=0,mg=e):zl=0,Bc(0)}}function fM(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zc(t)))}function Rh(){return cM(),uM(),dM(),hM()}function hM(){if(yt!==5)return!1;var e=na,t=fg;fg=0;var r=ob(di),n=J.T,i=pe.p;try{pe.p=32>r?32:r,J.T=null,r=hg,hg=null;var a=na,o=di;if(yt=0,ms=na=null,di=0,ve&6)throw Error(D(331));var s=ve;if(ve|=4,QT(a.current),GT(a,a.current,o,r),ve=s,Bc(0,!1),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(Nc,a)}catch{}return!0}finally{pe.p=i,J.T=n,fM(e,t)}}function g1(e,t,r){t=en(r,t),t=sg(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(Dc(e,2),Bn(e))}function Se(e,t,r){if(e.tag===3)g1(e,e,r);else for(;t!==null;){if(t.tag===3){g1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ra===null||!ra.has(n))){e=en(r,e),r=TT(2),n=ta(t,r,2),n!==null&&(MT(r,n,t,e),Dc(n,2),Bn(n));break}}t=t.return}}function Vv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Qz;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(Bb=!0,i.add(r),e=r$.bind(null,e,t,r),t.then(e,e))}function r$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Me===e&&(ue&r)===r&&(et===4||et===3&&(ue&62914560)===ue&&300>Rr()-jh?!(ve&2)&&vs(e,0):Vb|=r,hs===ue&&(hs=0)),Bn(e)}function mM(e,t){t===0&&(t=aO()),e=mo(e,t),e!==null&&(Dc(e,t),Bn(e))}function n$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mM(e,r)}function i$(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(D(314))}n!==null&&n.delete(t),mM(e,r)}function a$(e,t){return ib(e,t)}var Jd=null,Mo=null,vg=!1,ef=!1,Hv=!1,Xi=0;function Bn(e){e!==Mo&&e.next===null&&(Mo===null?Jd=Mo=e:Mo=Mo.next=e),ef=!0,vg||(vg=!0,s$())}function Bc(e,t){if(!Hv&&ef){Hv=!0;do for(var r=!1,n=Jd;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var a=0;else{var o=n.suspendedLanes,s=n.pingedLanes;a=(1<<31-Ir(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,y1(n,a))}else a=ue,a=xh(n,n===Me?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||Rc(n,a)||(r=!0,y1(n,a));n=n.next}while(r);Hv=!1}}function o$(){vM()}function vM(){ef=vg=!1;var e=0;Xi!==0&&g$()&&(e=Xi);for(var t=Rr(),r=null,n=Jd;n!==null;){var i=n.next,a=pM(n,t);a===0?(n.next=null,r===null?Jd=i:r.next=i,i===null&&(Mo=r)):(r=n,(e!==0||a&3)&&(ef=!0)),n=i}yt!==0&&yt!==5||Bc(e),Xi!==0&&(Xi=0)}function pM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ir(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=NL(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(t=Me,r=ue,r=xh(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&gv(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Rc(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&gv(n),ob(r)){case 2:case 8:r=nO;break;case 32:r=Id;break;case 268435456:r=iO;break;default:r=Id}return n=gM.bind(null,e),r=ib(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&gv(n),e.callbackPriority=2,e.callbackNode=null,2}function gM(e,t){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Rh()&&e.callbackNode!==r)return null;var n=ue;return n=xh(e,e===Me?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(rM(e,n,t),pM(e,Rr()),e.callbackNode!=null&&e.callbackNode===r?gM.bind(null,e):null)}function y1(e,t){if(Rh())return null;rM(e,t,!0)}function s$(){b$(function(){ve&6?ib(rO,o$):vM()})}function Wb(){if(Xi===0){var e=us;e===0&&(e=ku,ku<<=1,!(ku&261888)&&(ku=256)),Xi=e}return Xi}function b1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cd(""+e)}function x1(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function l$(e,t,r,n,i){if(t==="submit"&&r&&r.stateNode===i){var a=b1((i[yr]||null).action),o=n.submitter;o&&(t=(t=o[yr]||null)?b1(t.formAction):o.getAttribute("formAction"),t!==null&&(a=t,o=null));var s=new _h("action","action",null,n,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Xi!==0){var l=o?x1(i,o):new FormData(i);ag(r,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(s.preventDefault(),l=o?x1(i,o):new FormData(i),ag(r,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var Wv=0;Wv<Yp.length;Wv++){var qv=Yp[Wv],c$=qv.toLowerCase(),u$=qv[0].toUpperCase()+qv.slice(1);En(c$,"on"+u$)}En(MO,"onAnimationEnd");En(kO,"onAnimationIteration");En(jO,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Cz,"onTransitionRun");En(Oz,"onTransitionStart");En(Tz,"onTransitionCancel");En(PO,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function yM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){zd(u)}i.currentTarget=null,a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){zd(u)}i.currentTarget=null,a=l}}}}function le(e,t){var r=t[$p];r===void 0&&(r=t[$p]=new Set);var n=e+"__bubble";r.has(n)||(bM(t,e,2,!1),r.add(n))}function Kv(e,t,r){var n=0;t&&(n|=4),bM(r,e,n,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function qb(e){if(!e[Uu]){e[Uu]=!0,uO.forEach(function(r){r!=="selectionchange"&&(d$.has(r)||Kv(r,!1,e),Kv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uu]||(t[Uu]=!0,Kv("selectionchange",!1,t))}}function bM(e,t,r,n){switch(PM(t)){case 2:var i=$$;break;case 8:i=U$;break;default:i=Fb}r=i.bind(null,t,r,e),i=void 0,!Wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Yv(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;s!==null;){if(o=No(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){n=a=o;continue e}s=s.parentNode}}n=n.return}yO(function(){var c=a,u=cb(r),d=[];e:{var f=NO.get(e);if(f!==void 0){var h=_h,v=e;switch(e){case"keypress":if(dd(r)===0)break e;case"keydown":case"keyup":h=iz;break;case"focusin":v="focus",h=Sv;break;case"focusout":v="blur",h=Sv;break;case"beforeblur":case"afterblur":h=Sv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=TS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=KL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=sz;break;case MO:case kO:case jO:h=FL;break;case PO:h=cz;break;case"scroll":case"scrollend":h=WL;break;case"wheel":h=dz;break;case"copy":case"cut":case"paste":h=QL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=kS;break;case"toggle":case"beforetoggle":h=hz}var p=(t&4)!==0,x=!p&&(e==="scroll"||e==="scrollend"),g=p?f!==null?f+"Capture":null:f;p=[];for(var b=c,_;b!==null;){var S=b;if(_=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||_===null||g===null||(S=Wl(b,g),S!=null&&p.push(Jl(b,S,_))),x)break;b=b.return}0<p.length&&(f=new h(f,v,null,r,u),d.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==Hp&&(v=r.relatedTarget||r.fromElement)&&(No(v)||v[js]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=c,v=v?No(v):null,v!==null&&(x=Pc(v),p=v.tag,v!==x||p!==5&&p!==27&&p!==6)&&(v=null)):(h=null,v=c),h!==v)){if(p=TS,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=kS,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=h==null?f:xl(h),_=v==null?f:xl(v),f=new p(S,b+"leave",h,r,u),f.target=x,f.relatedTarget=_,S=null,No(u)===c&&(p=new p(g,b+"enter",v,r,u),p.target=_,p.relatedTarget=x,S=p),x=S,h&&v)t:{for(p=f$,g=h,b=v,_=0,S=g;S;S=p(S))_++;S=0;for(var w=b;w;w=p(w))S++;for(;0<_-S;)g=p(g),_--;for(;0<S-_;)b=p(b),S--;for(;_--;){if(g===b||b!==null&&g===b.alternate){p=g;break t}g=p(g),b=p(b)}p=null}else p=null;h!==null&&_1(d,f,h,p,!1),v!==null&&x!==null&&_1(d,x,v,p,!0)}}e:{if(f=c?xl(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=RS;else if(NS(f))if(EO)E=wz;else{E=_z;var A=xz}else h=f.nodeName,!h||h.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&lb(c.elementType)&&(E=RS):E=Sz;if(E&&(E=E(e,c))){wO(d,E,r,u);break e}A&&A(e,f,c),e==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Vp(f,"number",f.value)}switch(A=c?xl(c):window,e){case"focusin":(NS(A)||A.contentEditable==="true")&&(Io=A,qp=c,Ml=null);break;case"focusout":Ml=qp=Io=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,$S(d,r,u);break;case"selectionchange":if(Az)break;case"keydown":case"keyup":$S(d,r,u)}var C;if(fb)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Do?_O(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(xO&&r.locale!=="ko"&&(Do||O!=="onCompositionStart"?O==="onCompositionEnd"&&Do&&(C=bO()):(Yi=u,ub="value"in Yi?Yi.value:Yi.textContent,Do=!0)),A=tf(c,O),0<A.length&&(O=new MS(O,e,null,r,u),d.push({event:O,listeners:A}),C?O.data=C:(C=SO(r),C!==null&&(O.data=C)))),(C=vz?pz(e,r):gz(e,r))&&(O=tf(c,"onBeforeInput"),0<O.length&&(A=new MS("onBeforeInput","beforeinput",null,r,u),d.push({event:A,listeners:O}),A.data=C)),l$(d,e,c,r,u)}yM(d,t)})}function Jl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Wl(e,r),i!=null&&n.unshift(Jl(e,i,a)),i=Wl(e,t),i!=null&&n.push(Jl(e,i,a))),e.tag===3)return n;e=e.return}return[]}function f$(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _1(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(s=s.tag,l!==null&&l===n)break;s!==5&&s!==26&&s!==27||c===null||(l=c,i?(c=Wl(r,a),c!=null&&o.unshift(Jl(r,c,l))):i||(c=Wl(r,a),c!=null&&o.push(Jl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var h$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function S1(e){return(typeof e=="string"?e:""+e).replace(h$,`
`).replace(m$,"")}function xM(e,t){return t=S1(t),S1(e)===t}function we(e,t,r,n,i,a){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||cs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&cs(e,""+n);break;case"className":Nu(e,"class",n);break;case"tabIndex":Nu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Nu(e,r,n);break;case"style":gO(e,n,a);break;case"data":if(t!=="object"){Nu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=cd(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(t!=="input"&&we(e,t,"name",i.name,i,null),we(e,t,"formEncType",i.formEncType,i,null),we(e,t,"formMethod",i.formMethod,i,null),we(e,t,"formTarget",i.formTarget,i,null)):(we(e,t,"encType",i.encType,i,null),we(e,t,"method",i.method,i,null),we(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=cd(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=ai);break;case"onScroll":n!=null&&le("scroll",e);break;case"onScrollEnd":n!=null&&le("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=cd(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":le("beforetoggle",e),le("toggle",e),ld(e,"popover",n);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ld(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=VL.get(r)||r,ld(e,r,n))}}function pg(e,t,r,n,i,a){switch(r){case"style":gO(e,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(D(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(D(60));e.innerHTML=r}}break;case"children":typeof n=="string"?cs(e,n):(typeof n=="number"||typeof n=="bigint")&&cs(e,""+n);break;case"onScroll":n!=null&&le("scroll",e);break;case"onScrollEnd":n!=null&&le("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dO.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),a=e[yr]||null,a=a!=null?a[r]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof n=="function")){typeof a!="function"&&a!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):ld(e,r,n)}}}function Gt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",e),le("load",e);var n=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var o=r[a];if(o!=null)switch(a){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:we(e,t,a,o,r,null)}}i&&we(e,t,"srcSet",r.srcSet,r,null),n&&we(e,t,"src",r.src,r,null);return;case"input":le("invalid",e);var s=a=o=i=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":o=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(D(137,t));break;default:we(e,t,n,u,r,null)}}mO(e,a,s,l,c,o,i,!1);return;case"select":le("invalid",e),n=o=a=null;for(i in r)if(r.hasOwnProperty(i)&&(s=r[i],s!=null))switch(i){case"value":a=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:we(e,t,i,s,r,null)}t=a,r=o,e.multiple=!!n,t!=null?Qo(e,!!n,t,!1):r!=null&&Qo(e,!!n,r,!0);return;case"textarea":le("invalid",e),a=i=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":i=s;break;case"children":a=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(D(91));break;default:we(e,t,o,s,r,null)}pO(e,n,i,a);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:we(e,t,l,n,r,null)}return;case"dialog":le("beforetoggle",e),le("toggle",e),le("cancel",e),le("close",e);break;case"iframe":case"object":le("load",e);break;case"video":case"audio":for(n=0;n<Zl.length;n++)le(Zl[n],e);break;case"image":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"embed":case"source":case"link":le("error",e),le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:we(e,t,c,n,r,null)}return;default:if(lb(t)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&pg(e,t,u,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&we(e,t,s,n,r,null))}function v$(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,s=null,l=null,c=null,u=null;for(h in r){var d=r[h];if(r.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=d;default:n.hasOwnProperty(h)||we(e,t,h,null,n,d)}}for(var f in n){var h=n[f];if(d=r[f],n.hasOwnProperty(f)&&(h!=null||d!=null))switch(f){case"type":a=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":o=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:h!==d&&we(e,t,f,h,n,d)}}Bp(e,o,s,l,c,u,a,i);return;case"select":h=o=s=f=null;for(a in r)if(l=r[a],r.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":h=l;default:n.hasOwnProperty(a)||we(e,t,a,null,n,l)}for(i in n)if(a=n[i],l=r[i],n.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":f=a;break;case"defaultValue":s=a;break;case"multiple":o=a;default:a!==l&&we(e,t,i,a,n,l)}t=s,r=o,n=h,f!=null?Qo(e,!!r,f,!1):!!n!=!!r&&(t!=null?Qo(e,!!r,t,!0):Qo(e,!!r,r?[]:"",!1));return;case"textarea":h=f=null;for(s in r)if(i=r[s],r.hasOwnProperty(s)&&i!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:we(e,t,s,null,n,i)}for(o in n)if(i=n[o],a=r[o],n.hasOwnProperty(o)&&(i!=null||a!=null))switch(o){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(D(91));break;default:i!==a&&we(e,t,o,i,n,a)}vO(e,f,h);return;case"option":for(var v in r)if(f=r[v],r.hasOwnProperty(v)&&f!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:we(e,t,v,null,n,f)}for(l in n)if(f=n[l],h=r[l],n.hasOwnProperty(l)&&f!==h&&(f!=null||h!=null))switch(l){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:we(e,t,l,f,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in r)f=r[p],r.hasOwnProperty(p)&&f!=null&&!n.hasOwnProperty(p)&&we(e,t,p,null,n,f);for(c in n)if(f=n[c],h=r[c],n.hasOwnProperty(c)&&f!==h&&(f!=null||h!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(D(137,t));break;default:we(e,t,c,f,n,h)}return;default:if(lb(t)){for(var x in r)f=r[x],r.hasOwnProperty(x)&&f!==void 0&&!n.hasOwnProperty(x)&&pg(e,t,x,void 0,n,f);for(u in n)f=n[u],h=r[u],!n.hasOwnProperty(u)||f===h||f===void 0&&h===void 0||pg(e,t,u,f,n,h);return}}for(var g in r)f=r[g],r.hasOwnProperty(g)&&f!=null&&!n.hasOwnProperty(g)&&we(e,t,g,null,n,f);for(d in n)f=n[d],h=r[d],!n.hasOwnProperty(d)||f===h||f==null&&h==null||we(e,t,d,f,n,h)}function w1(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p$(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var i=r[n],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&w1(o)){for(o=0,s=i.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&w1(d)&&(l=l.responseEnd,o+=u*(l<s?1:(s-c)/(l-c)))}if(--n,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gg=null,yg=null;function rf(e){return e.nodeType===9?e:e.ownerDocument}function E1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _M(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gv=null;function g$(){var e=window.event;return e&&e.type==="popstate"?e===Gv?!1:(Gv=e,!0):(Gv=null,!1)}var SM=typeof setTimeout=="function"?setTimeout:void 0,y$=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,b$=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(e){return A1.resolve(null).then(e).catch(x$)}:SM;function x$(e){setTimeout(function(){throw e})}function ba(e){return e==="head"}function C1(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(i),gs(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")$l(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,$l(r);for(var a=r.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ic]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&a.rel.toLowerCase()==="stylesheet"||r.removeChild(a),a=o}}else r==="body"&&$l(e.ownerDocument.body);r=i}while(r);gs(t)}function O1(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function xg(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xg(r),sb(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function _$(e,t,r,n){for(;e.nodeType===1;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Ic])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=an(e.nextSibling),e===null)break}return null}function S$(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=an(e.nextSibling),e===null))return null;return e}function wM(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=an(e.nextSibling),e===null))return null;return e}function _g(e){return e.data==="$?"||e.data==="$~"}function Sg(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w$(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wg=null;function T1(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return an(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function M1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function EM(e,t,r){switch(t=rf(r),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function $l(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);sb(e)}var on=new Map,k1=new Set;function nf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oi=pe.d;pe.d={f:E$,r:A$,D:C$,C:O$,L:T$,m:M$,X:j$,S:k$,M:P$};function E$(){var e=Oi.f(),t=Ph();return e||t}function A$(e){var t=Ps(e);t!==null&&t.tag===5&&t.type==="form"?gT(t):Oi.r(e)}var Is=typeof document>"u"?null:document;function AM(e,t,r){var n=Is;if(n&&typeof t=="string"&&t){var i=Jr(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),k1.has(i)||(k1.add(i),e={rel:e,crossOrigin:r,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Gt(t,"link",e),kt(t),n.head.appendChild(t)))}}function C$(e){Oi.D(e),AM("dns-prefetch",e,null)}function O$(e,t){Oi.C(e,t),AM("preconnect",e,t)}function T$(e,t,r){Oi.L(e,t,r);var n=Is;if(n&&e&&t){var i='link[rel="preload"][as="'+Jr(t)+'"]';t==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+Jr(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+Jr(r.imageSizes)+'"]')):i+='[href="'+Jr(e)+'"]';var a=i;switch(t){case"style":a=ps(e);break;case"script":a=Ls(e)}on.has(a)||(e=Ue({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),on.set(a,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Vc(a))||t==="script"&&n.querySelector(Hc(a))||(t=n.createElement("link"),Gt(t,"link",e),kt(t),n.head.appendChild(t)))}}function M$(e,t){Oi.m(e,t);var r=Is;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Jr(n)+'"][href="'+Jr(e)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ls(e)}if(!on.has(a)&&(e=Ue({rel:"modulepreload",href:e},t),on.set(a,e),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Hc(a)))return}n=r.createElement("link"),Gt(n,"link",e),kt(n),r.head.appendChild(n)}}}function k$(e,t,r){Oi.S(e,t,r);var n=Is;if(n&&e){var i=Xo(n).hoistableStyles,a=ps(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Vc(a)))s.loading=5;else{e=Ue({rel:"stylesheet",href:e,"data-precedence":t},r),(r=on.get(a))&&Kb(e,r);var l=o=n.createElement("link");kt(l),Gt(l,"link",e),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,bd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}}function j$(e,t){Oi.X(e,t);var r=Is;if(r&&e){var n=Xo(r).hoistableScripts,i=Ls(e),a=n.get(i);a||(a=r.querySelector(Hc(i)),a||(e=Ue({src:e,async:!0},t),(t=on.get(i))&&Yb(e,t),a=r.createElement("script"),kt(a),Gt(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function P$(e,t){Oi.M(e,t);var r=Is;if(r&&e){var n=Xo(r).hoistableScripts,i=Ls(e),a=n.get(i);a||(a=r.querySelector(Hc(i)),a||(e=Ue({src:e,async:!0,type:"module"},t),(t=on.get(i))&&Yb(e,t),a=r.createElement("script"),kt(a),Gt(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}function j1(e,t,r,n){var i=(i=Zi.current)?nf(i):null;if(!i)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=ps(r.href),r=Xo(i).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ps(r.href);var a=Xo(i).hoistableStyles,o=a.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,o),(a=i.querySelector(Vc(e)))&&!a._p&&(o.instance=a,o.state.loading=5),on.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},on.set(e,r),a||N$(i,e,r,o.state))),t&&n===null)throw Error(D(528,""));return o}if(t&&n!==null)throw Error(D(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(r),r=Xo(i).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function ps(e){return'href="'+Jr(e)+'"'}function Vc(e){return'link[rel="stylesheet"]['+e+"]"}function CM(e){return Ue({},e,{"data-precedence":e.precedence,precedence:null})}function N$(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Gt(t,"link",r),kt(t),e.head.appendChild(t))}function Ls(e){return'[src="'+Jr(e)+'"]'}function Hc(e){return"script[async]"+e}function P1(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Jr(r.href)+'"]');if(n)return t.instance=n,kt(n),n;var i=Ue({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),kt(n),Gt(n,"style",i),bd(n,r.precedence,e),t.instance=n;case"stylesheet":i=ps(r.href);var a=e.querySelector(Vc(i));if(a)return t.state.loading|=4,t.instance=a,kt(a),a;n=CM(r),(i=on.get(i))&&Kb(n,i),a=(e.ownerDocument||e).createElement("link"),kt(a);var o=a;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Gt(a,"link",n),t.state.loading|=4,bd(a,r.precedence,e),t.instance=a;case"script":return a=Ls(r.src),(i=e.querySelector(Hc(a)))?(t.instance=i,kt(i),i):(n=r,(i=on.get(a))&&(n=Ue({},r),Yb(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),kt(i),Gt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,bd(n,r.precedence,e));return t.instance}function bd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function Kb(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yb(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xd=null;function N1(e,t,r){if(xd===null){var n=new Map,i=xd=new Map;i.set(r,n)}else i=xd,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var a=r[i];if(!(a[Ic]||a[qt]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(a):n.set(o,[a])}}return n}function R1(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function R$(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function OM(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function D$(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var i=ps(n.href),a=t.querySelector(Vc(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=af.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=a,kt(a);return}a=t.ownerDocument||t,n=CM(n),(i=on.get(i))&&Kb(n,i),a=a.createElement("link"),kt(a);var o=a;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),Gt(a,"link",n),r.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=af.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Fv=0;function I$(e,t){return e.stylesheets&&e.count===0&&_d(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&_d(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&Fv===0&&(Fv=62500*p$());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_d(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>Fv?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var of=null;function _d(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,of=new Map,t.forEach(L$,e),of=null,af.call(e))}function L$(e,t){if(!(t.state.loading&4)){var r=of.get(e);if(r)var n=r.get(null);else{r=new Map,of.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}i=t.instance,o=i.getAttribute("data-precedence"),a=r.get(o)||n,a===n&&r.set(null,i),r.set(o,i),this.count++,n=af.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ec={$$typeof:ii,Provider:null,Consumer:null,_currentValue:Ba,_currentValue2:Ba,_threadCount:0};function z$(e,t,r,n,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yv(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yv(0),this.hiddenUpdates=yv(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function TM(e,t,r,n,i,a,o,s,l,c,u,d){return e=new z$(e,t,r,o,l,c,u,d,s),t=1,a===!0&&(t|=24),a=kr(3,null,null,t),e.current=a,a.stateNode=e,t=bb(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},Sb(a),e}function MM(e){return e?(e=$o,e):$o}function kM(e,t,r,n,i,a){i=MM(i),n.context===null?n.context=i:n.pendingContext=i,n=ea(t),n.payload={element:r},a=a===void 0?null:a,a!==null&&(n.callback=a),r=ta(e,n,t),r!==null&&(gr(r,e,t),jl(r,e,t))}function D1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gb(e,t){D1(e,t),(e=e.alternate)&&D1(e,t)}function jM(e){if(e.tag===13||e.tag===31){var t=mo(e,67108864);t!==null&&gr(t,e,67108864),Gb(e,67108864)}}function I1(e){if(e.tag===13||e.tag===31){var t=Lr();t=ab(t);var r=mo(e,t);r!==null&&gr(r,e,t),Gb(e,t)}}var sf=!0;function $$(e,t,r,n){var i=J.T;J.T=null;var a=pe.p;try{pe.p=2,Fb(e,t,r,n)}finally{pe.p=a,J.T=i}}function U$(e,t,r,n){var i=J.T;J.T=null;var a=pe.p;try{pe.p=8,Fb(e,t,r,n)}finally{pe.p=a,J.T=i}}function Fb(e,t,r,n){if(sf){var i=Eg(n);if(i===null)Yv(e,t,n,lf,r),L1(e,n);else if(V$(i,e,t,r,n))n.stopPropagation();else if(L1(e,n),t&4&&-1<B$.indexOf(e)){for(;i!==null;){var a=Ps(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=ka(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-Ir(o);s.entanglements[1]|=l,o&=~l}Bn(a),!(ve&6)&&(Xd=Rr()+500,Bc(0))}}break;case 31:case 13:s=mo(a,2),s!==null&&gr(s,a,2),Ph(),Gb(a,2)}if(a=Eg(n),a===null&&Yv(e,t,n,lf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Yv(e,t,n,null,r)}}function Eg(e){return e=cb(e),Xb(e)}var lf=null;function Xb(e){if(lf=null,e=No(e),e!==null){var t=Pc(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=QC(t),e!==null)return e;e=null}else if(r===31){if(e=ZC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lf=e,null}function PM(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(CL()){case rO:return 2;case nO:return 8;case Id:case OL:return 32;case iO:return 268435456;default:return 32}default:return 32}}var Ag=!1,ia=null,aa=null,oa=null,tc=new Map,rc=new Map,Wi=[],B$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L1(e,t){switch(e){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(t.pointerId)}}function ll(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ps(t),t!==null&&jM(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function V$(e,t,r,n,i){switch(t){case"focusin":return ia=ll(ia,e,t,r,n,i),!0;case"dragenter":return aa=ll(aa,e,t,r,n,i),!0;case"mouseover":return oa=ll(oa,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return tc.set(a,ll(tc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,rc.set(a,ll(rc.get(a)||null,e,t,r,n,i)),!0}return!1}function NM(e){var t=No(e.target);if(t!==null){var r=Pc(t);if(r!==null){if(t=r.tag,t===13){if(t=QC(r),t!==null){e.blockedOn=t,_S(e.priority,function(){I1(r)});return}}else if(t===31){if(t=ZC(r),t!==null){e.blockedOn=t,_S(e.priority,function(){I1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hp=n,r.target.dispatchEvent(n),Hp=null}else return t=Ps(r),t!==null&&jM(t),e.blockedOn=r,!1;t.shift()}return!0}function z1(e,t,r){Sd(e)&&r.delete(t)}function H$(){Ag=!1,ia!==null&&Sd(ia)&&(ia=null),aa!==null&&Sd(aa)&&(aa=null),oa!==null&&Sd(oa)&&(oa=null),tc.forEach(z1),rc.forEach(z1)}function Bu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ag||(Ag=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,H$)))}var Vu=null;function $1(e){Vu!==e&&(Vu=e,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,function(){Vu===e&&(Vu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Xb(n||r)===null)continue;break}var a=Ps(r);a!==null&&(e.splice(t,3),t-=3,ag(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function gs(e){function t(l){return Bu(l,e)}ia!==null&&Bu(ia,e),aa!==null&&Bu(aa,e),oa!==null&&Bu(oa,e),tc.forEach(t),rc.forEach(t);for(var r=0;r<Wi.length;r++){var n=Wi[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)NM(r),r.blockedOn===null&&Wi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],o=i[yr]||null;if(typeof a=="function")o||$1(r);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[yr]||null)s=o.formAction;else if(Xb(i)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),$1(r)}}}function RM(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Qb(e){this._internalRoot=e}Dh.prototype.render=Qb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var r=t.current,n=Lr();kM(r,n,e,t,null,null)};Dh.prototype.unmount=Qb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kM(e.current,2,null,e,null,null),Ph(),t[js]=null}};function Dh(e){this._internalRoot=e}Dh.prototype.unstable_scheduleHydration=function(e){if(e){var t=cO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wi.length&&t!==0&&t<Wi[r].priority;r++);Wi.splice(r,0,e),r===0&&NM(e)}};var U1=FC.version;if(U1!=="19.2.0")throw Error(D(527,U1,"19.2.0"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=bL(t),e=e!==null?JC(e):null,e=e===null?null:e.stateNode,e};var W$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Nc=Hu.inject(W$),Dr=Hu}catch{}}yh.createRoot=function(e,t){if(!XC(e))throw Error(D(299));var r=!1,n="",i=AT,a=CT,o=OT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=TM(e,1,!1,null,null,r,n,null,i,a,o,RM),e[js]=t.current,qb(e),new Qb(t)};yh.hydrateRoot=function(e,t,r){if(!XC(e))throw Error(D(299));var n=!1,i="",a=AT,o=CT,s=OT,l=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(l=r.formState)),t=TM(e,1,!0,t,r??null,n,i,l,a,o,s,RM),t.context=MM(null),r=t.current,n=Lr(),n=ab(n),i=ea(n),i.callback=null,ta(r,i,n),r=n,t.current.lanes=r,Dc(t,r),Bn(t),e[js]=t.current,qb(e),new Dh(t)};yh.version="19.2.0";function DM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DM)}catch(e){console.error(e)}}DM(),HC.exports=yh;var q$=HC.exports;const K$=un(q$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),B1=e=>{const t=G$(e);return t.charAt(0).toUpperCase()+t.slice(1)},IM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),F$=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>y.createElement("svg",{ref:l,...X$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:IM("lucide",i),...!a&&!F$(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,u])=>y.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=y.forwardRef(({className:n,...i},a)=>y.createElement(Q$,{ref:a,iconNode:t,className:IM(`lucide-${Y$(B1(e))}`,`lucide-${e}`,n),...i}));return r.displayName=B1(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LM=Q("activity",Z$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e4=Q("arrow-right",J$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],r4=Q("bell",t4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],i4=Q("building",n4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],V1=Q("calendar",a4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],s4=Q("chevron-down",o4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zM=Q("circle-alert",l4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u4=Q("circle",c4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cf=Q("clock",d4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],h4=Q("database",f4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],v4=Q("delete",m4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g4=Q("download",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],b4=Q("ellipsis-vertical",y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zb=Q("file-text",x4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],S4=Q("funnel",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],E4=Q("headphones",w4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$M=Q("history",A4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],O4=Q("layers",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],M4=Q("layout-grid",T4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H1=Q("lock",k4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P4=Q("log-out",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UM=Q("mail",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],D4=Q("mic-off",R4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],BM=Q("mic",I4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M5 12h14",key:"1ays0h"}]],z4=Q("minus",L4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],U4=Q("panels-top-left",$4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],VM=Q("pause",B4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],H4=Q("pen-tool",V4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],q4=Q("phone-off",W4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],it=Q("phone",K4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Cg=Q("play",Y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],F4=Q("plus",G4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Q4=Q("save",X4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J4=Q("search",Z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t5=Q("settings",e5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],n5=Q("shield-check",r5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],a5=Q("shield",i5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],s5=Q("skip-forward",o5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HM=Q("sparkles",l5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],u5=Q("square",c5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],f5=Q("target",d5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uf=Q("trash-2",h5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],v5=Q("trending-down",m5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ka=Q("trending-up",p5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WM=Q("upload",g5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],b5=Q("user-plus",y5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jb=Q("user",x5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Og=Q("users",_5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]],w5=Q("voicemail",S5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],A5=Q("volume-2",E5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],e0=Q("zap",C5);function df(e){if(!e)return"";const t=e.replace(/[^\d+]/g,"");if(t.startsWith("+"))return t;const r=t.replace(/\+/g,"");return r.length===11&&r.startsWith("1")?"+"+r:r.length===10?"+1"+r:r.length>0?r.length>10?"+"+r:"+1"+r:e}const O5=({leads:e,onCall:t,onImport:r,onDelete:n,twilioNumbers:i,selectedNumberId:a,onSelectNumber:o,onStartAutoDial:s})=>{var R;const[l,c]=y.useState("All"),[u,d]=y.useState(new Set),[f,h]=y.useState(!1),[v,p]=y.useState(e),[x,g]=y.useState(""),[b,_]=y.useState(""),S=y.useRef(null);y.useEffect(()=>{p(e)},[e]),y.useEffect(()=>{const M=new Set(v.map(T=>T.id));d(T=>{const B=new Set;return T.forEach(ee=>{M.has(ee)&&B.add(ee)}),B.size===T.size?T:B})},[v]);const w=l==="All"?v:v.filter(M=>M.status===l),E=w.length>0&&w.every(M=>u.has(M.id)),A=()=>{const M=new Set(u);E?w.forEach(T=>M.delete(T.id)):w.forEach(T=>M.add(T.id)),d(M)},C=M=>{const T=new Set(u);T.has(M)?T.delete(M):T.add(M),d(T)},O=()=>{u.size!==0&&window.confirm(`Are you sure you want to delete ${u.size} records?`)&&(n(Array.from(u)),d(new Set))},P=(M,T,B)=>{if(M.stopPropagation(),window.confirm(`Are you sure you want to delete ${B}?`)){n([T]);const ee=new Set(u);ee.delete(T),d(ee)}},k=()=>{const M=u.size>0?e.filter(T=>u.has(T.id)):w;if(f&&M.length<3){alert("Parallel dialing requires at least 3 leads.");return}s(M)},N=()=>{const M=[...v].sort((T,B)=>{const ee=T.status==="New"?2:T.status==="Qualified"?1:0;return(B.status==="New"?2:B.status==="Qualified"?1:0)-ee});p(M),alert("Leads re-ordered by AI propensity score.")},V=()=>{if(!x.trim()){alert("Please enter a phone number");return}const M=df(x.trim()),T={id:`manual-${Date.now()}`,name:b.trim()||"Manual Call",title:"Contact",company:"Manual",phone:M,status:"New",lastActivity:"Just now",personaPrompt:`You are calling ${b.trim()||"a prospect"}.`};t(T),g(""),_("")},H=M=>{const T=M.replace(/[^\d+]/g,"");g(T)},$=M=>{var ee;const T=(ee=M.target.files)==null?void 0:ee[0];if(!T)return;const B=new FileReader;B.onload=Ve=>{var bo;const vt=(bo=Ve.target)==null?void 0:bo.result;if(!vt)return;const Dt=vt.split(`
`),Ge=Dt[0].toLowerCase(),Ca=Ge.includes("name")||Ge.includes("phone")?1:0,At=[];for(let L=Ca;L<Dt.length;L++){const ae=Dt[L].trim();if(!ae)continue;const oe=ae.split(",").map(z=>z.trim().replace(/^"|"$/g,""));if(oe.length>=1){const z=oe[0]||"Unknown Prospect",It=oe[1]||"Contact",be=oe[2]||"Unknown Co",er=oe[3]||"",tr=df(er),Wn=`lead-${Date.now()}-${L}-${Math.floor(Math.random()*1e4)}`;At.push({id:Wn,name:z,title:It,company:be,phone:tr,status:"New",lastActivity:"Just imported",personaPrompt:`You are ${z}, ${It} at ${be}.`})}}At.length>0?r(At):alert("No valid leads found in CSV."),S.current&&(S.current.value="")},B.readAsText(T)};return m.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-800 flex items-center",children:[m.jsx(it,{size:16,className:"mr-2 text-blue-600"}),"Quick Dial"]}),m.jsxs("span",{className:"text-xs text-slate-500",children:["Using: ",((R=i.find(M=>M.id===a))==null?void 0:R.label)||"Select number"]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("input",{type:"text",placeholder:"Name (optional)",value:b,onChange:M=>_(M.target.value),className:"flex-1 px-3 py-2 bg-white border border-slate-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),m.jsx("input",{type:"tel",placeholder:"Phone number (e.g., +1234567890)",value:x,onChange:M=>H(M.target.value),onKeyPress:M=>M.key==="Enter"&&V(),className:"flex-1 px-3 py-2 bg-white border border-slate-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 outline-none font-mono"}),m.jsxs("button",{type:"button",onClick:V,disabled:!x.trim()||i.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white text-sm font-bold rounded-md shadow-sm transition-colors",children:[m.jsx(it,{size:16}),m.jsx("span",{children:"Call Now"})]})]})]}),m.jsxs("div",{className:"p-4 border-b border-slate-200 flex flex-col md:flex-row md:items-center justify-between gap-4 bg-slate-50",children:[m.jsx("div",{className:"flex items-center space-x-4",children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:[e.length," Leads"]}),u.size>0&&m.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-xs font-bold",children:[u.size," Selected"]})]})}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[u.size>0&&m.jsxs("button",{type:"button",onClick:O,className:"flex items-center space-x-1 px-3 py-2 bg-red-100 text-red-700 hover:bg-red-200 text-sm font-medium rounded-md transition-colors",children:[m.jsx(uf,{size:16}),m.jsx("span",{children:"Delete Selected"})]}),m.jsx("div",{className:"relative",children:m.jsxs("div",{className:"flex items-center space-x-2 bg-white border border-slate-300 rounded-md px-3 py-2 hover:border-blue-400 transition-colors",children:[m.jsx(it,{size:16,className:"text-slate-500"}),m.jsx("select",{value:a,onChange:M=>o(M.target.value),className:"appearance-none bg-transparent text-sm text-slate-700 font-medium outline-none cursor-pointer pr-6 min-w-[140px]",children:i.map(M=>m.jsx("option",{value:M.id,children:M.label},M.id))}),m.jsx(s4,{size:14,className:"absolute right-3 text-slate-400 pointer-events-none"})]})}),m.jsxs("button",{type:"button",onClick:N,className:"flex items-center space-x-2 px-3 py-2 bg-white border border-purple-200 text-purple-700 hover:bg-purple-50 text-sm font-medium rounded-md transition-colors",title:"Sort by AI Score",children:[m.jsx(HM,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"AI Prioritize"})]}),m.jsxs("button",{type:"button",onClick:()=>h(!f),className:`flex items-center space-x-2 px-3 py-2 border text-sm font-medium rounded-md transition-colors ${f?"bg-indigo-100 border-indigo-300 text-indigo-700":"bg-white border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[m.jsx(O4,{size:16}),m.jsxs("span",{className:"hidden sm:inline",children:["Parallel: ",f?"ON (3x)":"OFF"]})]}),m.jsx("input",{type:"file",accept:".csv",className:"hidden",ref:S,onChange:$}),m.jsxs("button",{type:"button",onClick:()=>{var M;return(M=S.current)==null?void 0:M.click()},className:"flex items-center space-x-2 px-3 py-2 bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 text-sm font-medium rounded-md transition-colors",children:[m.jsx(WM,{size:16}),m.jsx("span",{children:"Import"})]}),m.jsxs("button",{type:"button",onClick:k,className:`flex items-center space-x-2 px-4 py-2 text-white text-sm font-bold rounded-md shadow-sm transition-transform active:scale-95 ${f?"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-200":"bg-green-600 hover:bg-green-700 shadow-green-200"}`,children:[m.jsx(e0,{size:16,className:"fill-current"}),m.jsx("span",{children:u.size>0?`Dial (${u.size})`:f?"Start Parallel Dial":"Start Power Dial"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 bg-slate-100 border-b border-slate-200 text-xs font-bold text-slate-500 uppercase tracking-wider items-center",children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:E,onChange:A})}),m.jsx("div",{className:"col-span-3",children:"Prospect"}),m.jsx("div",{className:"col-span-3",children:"Company"}),m.jsx("div",{className:"col-span-2",children:"Phone"}),m.jsx("div",{className:"col-span-2",children:"Status"}),m.jsx("div",{className:"col-span-1 text-right",children:"Actions"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto bg-white",children:w.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[m.jsx("div",{className:"bg-slate-50 p-6 rounded-full mb-4",children:m.jsx(S4,{size:32,className:"text-slate-300"})}),m.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"No leads found"}),m.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Adjust filters or import a CSV file."}),m.jsx("button",{type:"button",onClick:()=>{var M;return(M=S.current)==null?void 0:M.click()},className:"text-blue-600 hover:text-blue-800 text-sm font-semibold",children:"Upload CSV"})]}):w.map(M=>m.jsxs("div",{className:`grid grid-cols-12 gap-4 px-4 py-3 border-b border-slate-100 transition-colors items-center group ${u.has(M.id)?"bg-blue-50/60":"hover:bg-slate-50"}`,children:[m.jsx("div",{className:"col-span-1 flex justify-center",onClick:T=>T.stopPropagation(),children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer",checked:u.has(M.id),onChange:()=>C(M.id)})}),m.jsxs("div",{className:"col-span-3",children:[m.jsx("div",{className:"font-semibold text-slate-900 text-sm",children:M.name}),m.jsx("div",{className:"text-xs text-slate-500 truncate",children:M.title})]}),m.jsx("div",{className:"col-span-3 text-sm text-slate-700 truncate",children:M.company}),m.jsx("div",{className:"col-span-2 text-sm text-slate-600 font-mono",children:M.phone}),m.jsx("div",{className:"col-span-2",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.status==="Qualified"?"bg-green-100 text-green-800":M.status==="New"?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"}`,children:M.status})}),m.jsxs("div",{className:"col-span-1 flex justify-end space-x-2",children:[m.jsx("button",{type:"button",onClick:T=>P(T,M.id,M.name),className:"flex items-center justify-center w-8 h-8 bg-white border border-slate-200 hover:bg-red-50 text-slate-400 hover:text-red-600 rounded shadow-sm transition-colors",title:"Delete",children:m.jsx(uf,{size:14})}),m.jsx("button",{type:"button",onClick:()=>t(M),className:"flex items-center justify-center w-8 h-8 bg-slate-800 hover:bg-slate-900 text-white rounded shadow-sm transition-colors",title:"Call Now",children:m.jsx(it,{size:14})})]})]},M.id))}),m.jsxs("div",{className:"p-3 bg-slate-50 border-t border-slate-200 text-xs text-slate-500 flex justify-between items-center",children:[m.jsxs("span",{children:[u.size," selected"]}),m.jsx("span",{children:f?"Parallel Dialing (3x)":"Single Line Dialing"})]})]})};function qM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=qM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ge(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=qM(e))&&(n&&(n+=" "),n+=t);return n}var T5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function t0(e){if(typeof e!="string")return!1;var t=T5;return t.includes(e)}var M5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k5=new Set(M5);function KM(e){return typeof e!="string"?!1:k5.has(e)}function YM(e){return typeof e=="string"&&e.startsWith("data-")}function br(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(KM(r)||YM(r))&&(t[r]=e[r]);return t}function no(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return br(t)}return typeof e=="object"&&!Array.isArray(e)?br(e):null}function or(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(KM(r)||YM(r)||t0(r))&&(t[r]=e[r]);return t}function j5(e){return e==null?null:y.isValidElement(e)?or(e.props):typeof e=="object"&&!Array.isArray(e)?or(e):null}var P5=["children","width","height","viewBox","className","style","title","desc"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function N5(e,t){if(e==null)return{};var r,n,i=R5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GM=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=N5(e,P5),d=a||{width:n,height:i,x:0,y:0},f=ge("recharts-surface",o);return y.createElement("svg",Tg({},or(u),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),r)}),D5=["children","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function I5(e,t){if(e==null)return{};var r,n,i=L5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ot=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=I5(e,D5),a=ge("recharts-layer",n);return y.createElement("g",Mg({className:a},or(i),{ref:t}),r)}),z5=y.createContext(null);function Ne(e){return function(){return e}}const FM=Math.cos,ff=Math.sin,An=Math.sqrt,hf=Math.PI,Ih=2*hf,kg=Math.PI,jg=2*kg,Na=1e-6,$5=jg-Na;function XM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function U5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return XM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class B5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?XM:U5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,d=s-r,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Na)if(!(Math.abs(d*l-c*u)>Na)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=i-s,p=l*l+c*c,x=h*h+v*v,g=Math.sqrt(p),b=Math.sqrt(f),_=a*Math.tan((kg-Math.acos((p+f-x)/(2*g*b)))/2),S=_/b,w=_/g;Math.abs(S-1)>Na&&this._append`L${t+S*u},${r+S*d}`,this._append`A${a},${a},0,0,${+(d*h>u*v)},${this._x1=t+w*l},${this._y1=r+w*c}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=t+s,u=r+l,d=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Na||Math.abs(this._y1-u)>Na)&&this._append`L${c},${u}`,n&&(f<0&&(f=f%jg+jg),f>$5?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:f>Na&&this._append`A${n},${n},0,${+(f>=kg)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function r0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new B5(t)}function n0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QM(e){this._context=e}QM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lh(e){return new QM(e)}function ZM(e){return e[0]}function JM(e){return e[1]}function ek(e,t){var r=Ne(!0),n=null,i=Lh,a=null,o=r0(s);e=typeof e=="function"?e:e===void 0?ZM:Ne(e),t=typeof t=="function"?t:t===void 0?JM:Ne(t);function s(l){var c,u=(l=n0(l)).length,d,f=!1,h;for(n==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(d,c,l),+t(d,c,l));if(h)return a=null,h+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ne(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ne(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ne(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Wu(e,t,r){var n=null,i=Ne(!0),a=null,o=Lh,s=null,l=r0(c);e=typeof e=="function"?e:e===void 0?ZM:Ne(+e),t=typeof t=="function"?t:Ne(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?JM:Ne(+r);function c(d){var f,h,v,p=(d=n0(d)).length,x,g=!1,b,_=new Array(p),S=new Array(p);for(a==null&&(s=o(b=l())),f=0;f<=p;++f){if(!(f<p&&i(x=d[f],f,d))===g)if(g=!g)h=f,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=f-1;v>=h;--v)s.point(_[v],S[v]);s.lineEnd(),s.areaEnd()}g&&(_[f]=+e(x,f,d),S[f]=+t(x,f,d),s.point(n?+n(x,f,d):_[f],r?+r(x,f,d):S[f]))}if(b)return s=null,b+""||null}function u(){return ek().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ne(+d),n=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ne(+d),c):e},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ne(+d),c):n},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ne(+d),r=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ne(+d),c):t},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ne(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ne(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class tk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function V5(e){return new tk(e,!0)}function H5(e){return new tk(e,!1)}const i0={draw(e,t){const r=An(t/hf);e.moveTo(r,0),e.arc(0,0,r,0,Ih)}},W5={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},rk=An(1/3),q5=rk*2,K5={draw(e,t){const r=An(t/q5),n=r*rk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Y5={draw(e,t){const r=An(t),n=-r/2;e.rect(n,n,r,r)}},G5=.8908130915292852,nk=ff(hf/10)/ff(7*hf/10),F5=ff(Ih/10)*nk,X5=-FM(Ih/10)*nk,Q5={draw(e,t){const r=An(t*G5),n=F5*r,i=X5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Ih*a/5,s=FM(o),l=ff(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},Xv=An(3),Z5={draw(e,t){const r=-An(t/(Xv*3));e.moveTo(0,r*2),e.lineTo(-Xv*r,-r),e.lineTo(Xv*r,-r),e.closePath()}},qr=-.5,Kr=An(3)/2,Pg=1/An(12),J5=(Pg/2+1)*3,e6={draw(e,t){const r=An(t/J5),n=r/2,i=r*Pg,a=n,o=r*Pg+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(qr*n-Kr*i,Kr*n+qr*i),e.lineTo(qr*a-Kr*o,Kr*a+qr*o),e.lineTo(qr*s-Kr*l,Kr*s+qr*l),e.lineTo(qr*n+Kr*i,qr*i-Kr*n),e.lineTo(qr*a+Kr*o,qr*o-Kr*a),e.lineTo(qr*s+Kr*l,qr*l-Kr*s),e.closePath()}};function t6(e,t){let r=null,n=r0(i);e=typeof e=="function"?e:Ne(e||i0),t=typeof t=="function"?t:Ne(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ne(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ne(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function mf(){}function vf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ik(e){this._context=e}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r6(e){return new ik(e)}function ak(e){this._context=e}ak.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n6(e){return new ak(e)}function ok(e){this._context=e}ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:vf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i6(e){return new ok(e)}function sk(e){this._context=e}sk.prototype={areaStart:mf,areaEnd:mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function a6(e){return new sk(e)}function W1(e){return e<0?-1:1}function q1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(W1(a)+W1(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function K1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Qv(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function pf(e){this._context=e}pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qv(this,this._t0,K1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qv(this,K1(this,r=q1(this,e,t)),r);break;default:Qv(this,this._t0,r=q1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lk(e){this._context=new ck(e)}(lk.prototype=Object.create(pf.prototype)).point=function(e,t){pf.prototype.point.call(this,t,e)};function ck(e){this._context=e}ck.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function o6(e){return new pf(e)}function s6(e){return new lk(e)}function uk(e){this._context=e}uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y1(e),i=Y1(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y1(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function l6(e){return new uk(e)}function zh(e,t){this._context=e,this._t=t}zh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function c6(e){return new zh(e,.5)}function u6(e){return new zh(e,0)}function d6(e){return new zh(e,1)}function ys(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ng(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function f6(e,t){return e[t]}function h6(e){const t=[];return t.key=e,t}function m6(){var e=Ne([]),t=Ng,r=ys,n=f6;function i(a){var o=Array.from(e.apply(this,arguments),h6),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=n0(t(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ne(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ne(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Ng:typeof a=="function"?a:Ne(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ys,i):r},i}function v6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ys(e,t)}}function p6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ys(e,t)}}function g6(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,v=0;v<s;++v){var p=e[t[v]],x=p[n][1]||0,g=p[n-1][1]||0;h+=x-g}l+=d,c+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,ys(e,t)}}var $h={},dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(dk);var a0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(a0);var Uh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Uh);var Bh={},fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk,r=Uh;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];c?d==="\\"&&s+1<o?(s++,l+=i[s]):d===c?c="":l+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,a.push(l),l=""):l+=d:d==="["?(u=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(Bh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk,r=a0,n=Uh,i=Bh;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=a})($h);var y6=$h.get;const io=un(y6);var jt=e=>e===0?0:e>0?1:-1,sn=e=>typeof e=="number"&&e!=+e,xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,W=e=>(typeof e=="number"||e instanceof Number)&&!sn(e),In=e=>W(e)||typeof e=="string",b6=0,nc=e=>{var t=++b6;return"".concat(e||"").concat(t)},Zt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(t)&&typeof t!="string")return n;var a;if(xi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return sn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},hk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ze(e,t,r){return W(e)&&W(t)?e+r*(t-e):t}function mk(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):io(n,t))===r)}var Fe=e=>e===null||typeof e>"u",Wc=e=>Fe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function x6(e){return e!=null}function qc(){}var _6=["type","size","sizeType"];function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){S6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S6(e,t,r){return(t=w6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=E6(e,"string");return typeof t=="symbol"?t:t+""}function E6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A6(e,t){if(e==null)return{};var r,n,i=C6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vk={symbolCircle:i0,symbolCross:W5,symbolDiamond:K5,symbolSquare:Y5,symbolStar:Q5,symbolTriangle:Z5,symbolWye:e6},O6=Math.PI/180,T6=e=>{var t="symbol".concat(Wc(e));return vk[t]||i0},M6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*O6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},k6=(e,t)=>{vk["symbol".concat(Wc(e))]=t},pk=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=A6(e,_6),a=F1(F1({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var f=T6(o),h=t6().type(f).size(M6(r,n,o)),v=h();if(v!==null)return v},{className:l,cx:c,cy:u}=a,d=or(a);return W(c)&&W(u)&&W(r)?y.createElement("path",Rg({},d,{className:ge("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};pk.registerSymbol=k6;var gk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,o0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{t0(i)&&(n[i]=a=>r[i](r,a))}),n},j6=(e,t,r)=>n=>(e(t,r,n),null),Vh=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];t0(i)&&typeof a=="function"&&(n||(n={}),n[i]=j6(a,t,r))}),n};function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){N6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N6(e,t,r){return(t=R6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R6(e){var t=D6(e,"string");return typeof t=="symbol"?t:t+""}function D6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t){var r=P6({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var yk={},bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(bk);var s0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(s0);var xk={},Hh={},_k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Hh);var Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hh,r=Sk;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(xk);var wk={},Ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$h;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Ek);var Ak={},l0={},Ck={},c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(c0);var u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(u0);var d0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(d0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0,r=u0,n=d0;function i(u,d,f){return typeof f!="function"?i(u,d,()=>{}):a(u,d,function h(v,p,x,g,b,_){const S=f(v,p,x,g,b,_);return S!==void 0?!!S:a(v,p,h,_)},new Map)}function a(u,d,f,h){if(d===u)return!0;switch(typeof d){case"object":return o(u,d,f,h);case"function":return Object.keys(d).length>0?a(u,{...d},f,h):n.eq(u,d);default:return t.isObject(u)?typeof d=="string"?d==="":!0:n.eq(u,d)}}function o(u,d,f,h){if(d==null)return!0;if(Array.isArray(d))return l(u,d,f,h);if(d instanceof Map)return s(u,d,f,h);if(d instanceof Set)return c(u,d,f,h);const v=Object.keys(d);if(u==null)return v.length===0;if(v.length===0)return!0;if(h!=null&&h.has(d))return h.get(d)===u;h==null||h.set(d,u);try{for(let p=0;p<v.length;p++){const x=v[p];if(!r.isPrimitive(u)&&!(x in u)||d[x]===void 0&&u[x]!==void 0||d[x]===null&&u[x]!==null||!f(u[x],d[x],x,u,d,h))return!1}return!0}finally{h==null||h.delete(d)}}function s(u,d,f,h){if(d.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,p]of d.entries()){const x=u.get(v);if(f(x,p,v,u,d,h)===!1)return!1}return!0}function l(u,d,f,h){if(d.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let p=0;p<d.length;p++){const x=d[p];let g=!1;for(let b=0;b<u.length;b++){if(v.has(b))continue;const _=u[b];let S=!1;if(f(_,x,p,u,d,h)&&(S=!0),S){v.add(b),g=!0;break}}if(!g)return!1}return!0}function c(u,d,f,h){return d.size===0?!0:u instanceof Set?l([...u],[...d],f,h):!1}e.isMatchWith=i,e.isSetMatch=c})(Ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(l0);var Ok={},f0={},Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Tk);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(h0);var m0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",h="[object Object]",v="[object Error]",p="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",_="[object Uint32Array]",S="[object BigUint64Array]",w="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",C="[object BigInt64Array]",O="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=p,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=O,e.float64ArrayTag=P,e.functionTag=d,e.int16ArrayTag=E,e.int32ArrayTag=A,e.int8ArrayTag=w,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=_,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(m0);var Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,r=h0,n=m0,i=u0,a=Mk;function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,f,h=new Map,v=void 0){const p=v==null?void 0:v(u,d,f,h);if(p!==void 0)return p;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const x=new Array(u.length);h.set(u,x);for(let g=0;g<u.length;g++)x[g]=s(u[g],g,f,h,v);return Object.hasOwn(u,"index")&&(x.index=u.index),Object.hasOwn(u,"input")&&(x.input=u.input),x}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const x=new RegExp(u.source,u.flags);return x.lastIndex=u.lastIndex,x}if(u instanceof Map){const x=new Map;h.set(u,x);for(const[g,b]of u)x.set(g,s(b,g,f,h,v));return x}if(u instanceof Set){const x=new Set;h.set(u,x);for(const g of u)x.add(s(g,void 0,f,h,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const x=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,x);for(let g=0;g<u.length;g++)x[g]=s(u[g],g,f,h,v);return x}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const x=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,x),l(x,u,f,h,v),x}if(typeof File<"u"&&u instanceof File){const x=new File([u],u.name,{type:u.type});return h.set(u,x),l(x,u,f,h,v),x}if(typeof Blob<"u"&&u instanceof Blob){const x=new Blob([u],{type:u.type});return h.set(u,x),l(x,u,f,h,v),x}if(u instanceof Error){const x=new u.constructor;return h.set(u,x),x.message=u.message,x.name=u.name,x.stack=u.stack,x.cause=u.cause,l(x,u,f,h,v),x}if(u instanceof Boolean){const x=new Boolean(u.valueOf());return h.set(u,x),l(x,u,f,h,v),x}if(u instanceof Number){const x=new Number(u.valueOf());return h.set(u,x),l(x,u,f,h,v),x}if(u instanceof String){const x=new String(u.valueOf());return h.set(u,x),l(x,u,f,h,v),x}if(typeof u=="object"&&c(u)){const x=Object.create(Object.getPrototypeOf(u));return h.set(u,x),l(x,u,f,h,v),x}return u}function l(u,d,f=u,h,v){const p=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<p.length;x++){const g=p[x],b=Object.getOwnPropertyDescriptor(u,g);(b==null||b.writable)&&(u[g]=s(d[g],g,f,h,v))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(f0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0,r=Ok;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(Ak);var kk={},jk={},Pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,r=m0;function n(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(jk);var Nk={},v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(v0);var Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a0,r=v0,n=Rk,i=Bh;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=a})(Nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0,r=Uh,n=jk,i=$h,a=Nk;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0,r=Ek,n=Ak,i=kk;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk,r=s0,n=xk,i=wk;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(yk);var I6=yk.uniqBy;const Q1=un(I6);function L6(e,t,r){return t===!0?Q1(e,r):typeof t=="function"?Q1(e,t):e}var Dk={exports:{}},Ik={},Lk={exports:{}},zk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=y;function z6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $6=typeof Object.is=="function"?Object.is:z6,U6=bs.useState,B6=bs.useEffect,V6=bs.useLayoutEffect,H6=bs.useDebugValue;function W6(e,t){var r=t(),n=U6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return V6(function(){i.value=r,i.getSnapshot=t,Zv(i)&&a({inst:i})},[e,r,t]),B6(function(){return Zv(i)&&a({inst:i}),e(function(){Zv(i)&&a({inst:i})})},[e]),H6(r),r}function Zv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$6(e,r)}catch{return!0}}function q6(e,t){return t()}var K6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q6:W6;zk.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:K6;Lk.exports=zk;var Y6=Lk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=y,G6=Y6;function F6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var X6=typeof Object.is=="function"?Object.is:F6,Q6=G6.useSyncExternalStore,Z6=Wh.useRef,J6=Wh.useEffect,e8=Wh.useMemo,t8=Wh.useDebugValue;Ik.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Z6(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=e8(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return d=v}return d=h}if(v=d,X6(u,h))return v;var p=n(h);return i!==void 0&&i(v,p)?(u=h,v):(u=h,d=p)}var c=!1,u,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var s=Q6(e,a[0],a[1]);return J6(function(){o.hasValue=!0,o.value=s},[s]),t8(s),s};Dk.exports=Ik;var r8=Dk.exports,p0=y.createContext(null),n8=e=>e,Ke=()=>{var e=y.useContext(p0);return e?e.store.dispatch:n8},wd=()=>{},i8=()=>wd,a8=(e,t)=>e===t;function K(e){var t=y.useContext(p0);return r8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:i8,t?t.store.getState:wd,t?t.store.getState:wd,t?e:wd,a8)}function o8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function s8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function l8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Z1=e=>Array.isArray(e)?e:[e];function c8(e){const t=Array.isArray(e[0])?e[0]:e;return l8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function u8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var d8=class{constructor(e){this.value=e}deref(){return this.value}},f8=typeof WeakRef<"u"?WeakRef:d8,h8=0,J1=1;function qu(){return{s:h8,v:void 0,o:null,p:null}}function $k(e,t={}){let r=qu();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let p=s.o;p===null&&(s.o=p=new WeakMap);const x=p.get(v);x===void 0?(s=qu(),p.set(v,s)):s=x}else{let p=s.p;p===null&&(s.p=p=new Map);const x=p.get(v);x===void 0?(s=qu(),p.set(v,s)):s=x}}const c=s;let u;if(s.s===J1)u=s.v;else if(u=e.apply(null,arguments),a++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,u)&&(u=f,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new f8(u):u}return c.s=J1,c.v=u,u}return o.clearCache=()=>{r=qu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function m8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),o8(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:h=$k,argsMemoizeOptions:v=[]}=u,p=Z1(f),x=Z1(v),g=c8(i),b=d(function(){return a++,c.apply(null,arguments)},...p),_=h(function(){o++;const w=u8(g,arguments);return s=b.apply(null,w),s},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var j=m8($k),v8=Object.assign((e,t=j)=>{s8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>v8}),Uk={},Bk={},Vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(Vk);var Hk={},g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(g0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(Hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,r=Hk,n=Bh;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(h=>String(h));const c=(h,v)=>{let p=h;for(let x=0;x<v.length&&p!=null;++x)p=p[v[x]];return p},u=(h,v)=>v==null||h==null?v:typeof h=="object"&&"key"in h?Object.hasOwn(v,h.key)?v[h.key]:c(v,h.path):typeof h=="function"?h(v):Array.isArray(h)?c(v,h):typeof v=="object"?v[h]:v,d=o.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:d.map(v=>u(v,h))})).slice().sort((h,v)=>{for(let p=0;p<d.length;p++){const x=t.compareValues(h.criteria[p],v.criteria[p],s[p]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=i})(Bk);var Wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(r,0),i}e.flatten=t})(Wk);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0,r=Hh,n=c0,i=d0;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(y0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk,r=Wk,n=y0;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(Uk);var p8=Uk.sortBy;const qh=un(p8);var qk=e=>e.legend.settings,g8=e=>e.legend.size,y8=e=>e.legend.payload;j([y8,qk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?qh(n,r):n});var Ku=1;function b8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ku||Math.abs(o.left-t.left)>Ku||Math.abs(o.top-t.top)>Ku||Math.abs(o.width-t.width)>Ku)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $t(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var x8=typeof Symbol=="function"&&Symbol.observable||"@@observable",ew=x8,Jv=()=>Math.random().toString(36).substring(7).split("").join("."),_8={INIT:`@@redux/INIT${Jv()}`,REPLACE:`@@redux/REPLACE${Jv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jv()}`},gf=_8;function b0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Kk(e,t,r){if(typeof e!="function")throw new Error($t(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($t(1));return r(Kk)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((x,g)=>{o.set(g,x)}))}function u(){if(l)throw new Error($t(3));return i}function d(x){if(typeof x!="function")throw new Error($t(4));if(l)throw new Error($t(5));let g=!0;c();const b=s++;return o.set(b,x),function(){if(g){if(l)throw new Error($t(6));g=!1,c(),o.delete(b),a=null}}}function f(x){if(!b0(x))throw new Error($t(7));if(typeof x.type>"u")throw new Error($t(8));if(typeof x.type!="string")throw new Error($t(17));if(l)throw new Error($t(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=o).forEach(b=>{b()}),x}function h(x){if(typeof x!="function")throw new Error($t(10));n=x,f({type:gf.REPLACE})}function v(){const x=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error($t(11));function b(){const S=g;S.next&&S.next(u())}return b(),{unsubscribe:x(b)}},[ew](){return this}}}return f({type:gf.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[ew]:v}}function S8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:gf.INIT})>"u")throw new Error($t(12));if(typeof r(void 0,{type:gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function Yk(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{S8(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],f=r[d],h=o[d],v=f(h,s);if(typeof v>"u")throw s&&s.type,new Error($t(14));c[d]=v,l=l||v!==h}return l=l||n.length!==Object.keys(o).length,l?c:o}}function yf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function w8(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error($t(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=yf(...s)(i.dispatch),{...i,dispatch:a}}}function Gk(e){return b0(e)&&"type"in e&&typeof e.type=="string"}var Fk=Symbol.for("immer-nothing"),tw=Symbol.for("immer-draftable"),sr=Symbol.for("immer-state");function vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nr=Object,xs=Nr.getPrototypeOf,bf="constructor",Kh="prototype",Dg="configurable",xf="enumerable",Ed="writable",ic="value",_i=e=>!!e&&!!e[sr];function Ln(e){var t;return e?Xk(e)||Yh(e)||!!e[tw]||!!((t=e[bf])!=null&&t[tw])||Gh(e)||Fh(e):!1}var E8=Nr[Kh][bf].toString(),rw=new WeakMap;function Xk(e){if(!e||!x0(e))return!1;const t=xs(e);if(t===null||t===Nr[Kh])return!0;const r=Nr.hasOwnProperty.call(t,bf)&&t[bf];if(r===Object)return!0;if(!ko(r))return!1;let n=rw.get(r);return n===void 0&&(n=Function.toString.call(r),rw.set(r,n)),n===E8}function Kc(e,t,r=!0){Yc(e)===0?(r?Reflect.ownKeys(e):Nr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Yc(e){const t=e[sr];return t?t.type_:Yh(e)?1:Gh(e)?2:Fh(e)?3:0}var nw=(e,t,r=Yc(e))=>r===2?e.has(t):Nr[Kh].hasOwnProperty.call(e,t),Ig=(e,t,r=Yc(e))=>r===2?e.get(t):e[t],_f=(e,t,r,n=Yc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function A8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Yh=Array.isArray,Gh=e=>e instanceof Map,Fh=e=>e instanceof Set,x0=e=>typeof e=="object",ko=e=>typeof e=="function",ep=e=>typeof e=="boolean",Jn=e=>e.copy_||e.base_,_0=e=>e.modified_?e.copy_:e.base_;function Lg(e,t){if(Gh(e))return new Map(e);if(Fh(e))return new Set(e);if(Yh(e))return Array[Kh].slice.call(e);const r=Xk(e);if(t===!0||t==="class_only"&&!r){const n=Nr.getOwnPropertyDescriptors(e);delete n[sr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[Ed]===!1&&(s[Ed]=!0,s[Dg]=!0),(s.get||s.set)&&(n[o]={[Dg]:!0,[Ed]:!0,[xf]:s[xf],[ic]:e[o]})}return Nr.create(xs(e),n)}else{const n=xs(e);if(n!==null&&r)return{...e};const i=Nr.create(n);return Nr.assign(i,e)}}function S0(e,t=!1){return Xh(e)||_i(e)||(Yc(e)>1&&Nr.defineProperties(e,{set:Yu,add:Yu,clear:Yu,delete:Yu}),Nr.freeze(e),t&&Kc(e,(r,n)=>{S0(n,!0)},!1)),e}function C8(){vn(2)}var Yu={[ic]:C8};function Xh(e){return e===null||!x0(e)?!0:Nr.isFrozen(e)}var Sf="MapSet",zg="Patches",Qk={};function _s(e){const t=Qk[e];return t||vn(0,e),t}var O8=e=>!!Qk[e],ac,Zk=()=>ac,T8=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:O8(Sf)?_s(Sf):void 0});function iw(e,t){t&&(e.patchPlugin_=_s(zg),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $g(e){Ug(e),e.drafts_.forEach(M8),e.drafts_=null}function Ug(e){e===ac&&(ac=e.parent_)}var aw=e=>ac=T8(ac,e);function M8(e){const t=e[sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ow(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[sr].modified_&&($g(t),vn(4)),Ln(e)&&(e=sw(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[sr].base_,e,t)}else e=sw(t,r);return k8(t,e,!0),$g(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Fk?e:void 0}function sw(e,t){if(Xh(t))return t;const r=t[sr];if(!r)return w0(t,e.handledSet_,e);if(!Qh(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);tj(r,e)}return r.copy_}function k8(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S0(t,r)}function Jk(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Qh=(e,t)=>e.scope_===t,j8=[];function ej(e,t,r,n){const i=Jn(e),a=e.type_;if(n!==void 0&&Ig(i,n,a)===t){_f(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Kc(i,(l,c)=>{if(_i(c)){const u=s.get(c)||[];u.push(l),s.set(c,u)}})}const o=e.draftLocations_.get(t)??j8;for(const s of o)_f(i,s,r,a)}function P8(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!Qh(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=_0(a);ej(e,a.draft_??a,o,r),tj(a,i)})}function tj(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}Jk(e)}}function N8(e,t,r){const{scope_:n}=e;if(_i(r)){const i=r[sr];Qh(i,n)&&i.callbacks_.push(function(){Ad(e);const o=_0(i);ej(e,r,o,t)})}else Ln(r)&&e.callbacks_.push(function(){const a=Jn(e);Ig(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&w0(Ig(e.copy_,t,e.type_),n.handledSet_,n)})}function w0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||_i(e)||t.has(e)||!Ln(e)||Xh(e)||(t.add(e),Kc(e,(n,i)=>{if(_i(i)){const a=i[sr];if(Qh(a,r)){const o=_0(a);_f(e,n,o,e.type_),Jk(a)}}else Ln(i)&&w0(i,t,r)})),e}function R8(e,t){const r=Yh(e),n={type_:r?1:0,scope_:t?t.scope_:Zk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=E0;r&&(i=[n],a=oc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var E0={get(e,t){if(t===sr)return e;const r=Jn(e);if(!nw(r,t,e.type_))return D8(e,r,t);const n=r[t];if(e.finalized_||!Ln(n))return n;if(n===tp(e.base_,t)){Ad(e);const i=e.type_===1?+t:t,a=Vg(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in Jn(e)},ownKeys(e){return Reflect.ownKeys(Jn(e))},set(e,t,r){const n=rj(Jn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=tp(Jn(e),t),a=i==null?void 0:i[sr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(A8(r,i)&&(r!==void 0||nw(e.base_,t,e.type_)))return!0;Ad(e),Bg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),N8(e,t,r)),!0},deleteProperty(e,t){return Ad(e),tp(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Bg(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ed]:!0,[Dg]:e.type_!==1||t!=="length",[xf]:n[xf],[ic]:r[t]}},defineProperty(){vn(11)},getPrototypeOf(e){return xs(e.base_)},setPrototypeOf(){vn(12)}},oc={};Kc(E0,(e,t)=>{oc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});oc.deleteProperty=function(e,t){return oc.set.call(this,e,t,void 0)};oc.set=function(e,t,r){return E0.set.call(this,e[0],t,r,e[0])};function tp(e,t){const r=e[sr];return(r?Jn(r):e)[t]}function D8(e,t,r){var i;const n=rj(t,r);return n?ic in n?n[ic]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function rj(e,t){if(!(t in e))return;let r=xs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xs(r)}}function Bg(e){e.modified_||(e.modified_=!0,e.parent_&&Bg(e.parent_))}function Ad(e){e.copy_||(e.assigned_=new Map,e.copy_=Lg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var I8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ko(r)&&!ko(n)){const o=n;n=r;const s=this;return function(c=o,...u){return s.produce(c,d=>n.call(this,d,...u))}}ko(n)||vn(6),i!==void 0&&!ko(i)&&vn(7);let a;if(Ln(r)){const o=aw(this),s=Vg(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?$g(o):Ug(o)}return iw(o,i),ow(a,o)}else if(!r||!x0(r)){if(a=n(r),a===void 0&&(a=r),a===Fk&&(a=void 0),this.autoFreeze_&&S0(a,!0),i){const o=[],s=[];_s(zg).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else vn(1,r)},this.produceWithPatches=(r,n)=>{if(ko(r))return(s,...l)=>this.produceWithPatches(s,c=>r(c,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},ep(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ep(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ep(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ln(t)||vn(8),_i(t)&&(t=bn(t));const r=aw(this),n=Vg(r,t,void 0);return n[sr].isManual_=!0,Ug(r),n}finishDraft(t,r){const n=t&&t[sr];(!n||!n.isManual_)&&vn(9);const{scope_:i}=n;return iw(i,r),ow(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=_s(zg).applyPatches_;return _i(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Vg(e,t,r,n){const[i,a]=Gh(t)?_s(Sf).proxyMap_(t,r):Fh(t)?_s(Sf).proxySet_(t,r):R8(t,r);return((r==null?void 0:r.scope_)??Zk()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?P8(r,a,n):a.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function bn(e){return _i(e)||vn(10,e),nj(e)}function nj(e){if(!Ln(e)||Xh(e))return e;const t=e[sr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Lg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Lg(e,!0);return Kc(r,(i,a)=>{_f(r,i,nj(a))},n),t&&(t.finalized_=!1),r}var L8=new I8,ij=L8.produce;function aj(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var z8=aj(),$8=aj,U8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yf:yf.apply(null,arguments)};function ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(zr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Gk(n)&&n.type===e,r}var oj=class wl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wl.prototype)}static get[Symbol.species](){return wl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wl(...t[0].concat(this)):new wl(...t.concat(this))}};function lw(e){return Ln(e)?ij(e,()=>{}):e}function Gu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function B8(e){return typeof e=="boolean"}var V8=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new oj;return r&&(B8(r)?o.push(z8):o.push($8(r.extraArgument))),o},sj="RTK_autoBatch",We=()=>e=>({payload:e,meta:{[sj]:!0}}),cw=e=>t=>{setTimeout(t,e)},lj=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cw(10):e.type==="callback"?e.queueNotification:cw(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),f=n.subscribe(d);return s.add(u),()=>{f(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[sj]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},H8=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new oj(e);return n&&i.push(lj(typeof n=="object"?n:void 0)),i};function W8(e){const t=V8(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(b0(r))s=Yk(r);else throw new Error(zr(1));let l;typeof n=="function"?l=n(t):l=t();let c=yf;i&&(c=U8({trace:!1,...typeof i=="object"&&i}));const u=w8(...l),d=H8(u);let f=typeof o=="function"?o(d):d();const h=c(...f);return Kk(s,a,h)}function cj(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(zr(28));if(s in t)throw new Error(zr(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function q8(e){return typeof e=="function"}function K8(e,t){let[r,n,i]=cj(t),a;if(q8(e))a=()=>lw(e());else{const s=lw(e);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(_i(u)){const h=d(u,l);return h===void 0?u:h}else{if(Ln(u))return ij(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},s)}return o.getInitialState=a,o}var Y8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",G8=(e=21)=>{let t="",r=e;for(;r--;)t+=Y8[Math.random()*64|0];return t},F8=Symbol.for("rtk-slice-createasyncthunk");function X8(e,t){return`${e}/${t}`}function Q8({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[F8];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(zr(11));const s=(typeof i.reducers=="function"?i.reducers(J8()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,w){const E=typeof S=="string"?S:S.type;if(!E)throw new Error(zr(12));if(E in c.sliceCaseReducersByType)throw new Error(zr(13));return c.sliceCaseReducersByType[E]=w,u},addMatcher(S,w){return c.sliceMatchers.push({matcher:S,reducer:w}),u},exposeAction(S,w){return c.actionCreators[S]=w,u},exposeCaseReducer(S,w){return c.sliceCaseReducersByName[S]=w,u}};l.forEach(S=>{const w=s[S],E={reducerName:S,type:X8(a,S),createNotation:typeof i.reducers=="function"};tU(w)?nU(E,w,u,t):eU(E,w,u)});function d(){const[S={},w=[],E=void 0]=typeof i.extraReducers=="function"?cj(i.extraReducers):[i.extraReducers],A={...S,...c.sliceCaseReducersByType};return K8(i.initialState,C=>{for(let O in A)C.addCase(O,A[O]);for(let O of c.sliceMatchers)C.addMatcher(O.matcher,O.reducer);for(let O of w)C.addMatcher(O.matcher,O.reducer);E&&C.addDefaultCase(E)})}const f=S=>S,h=new Map,v=new WeakMap;let p;function x(S,w){return p||(p=d()),p(S,w)}function g(){return p||(p=d()),p.getInitialState()}function b(S,w=!1){function E(C){let O=C[S];return typeof O>"u"&&w&&(O=Gu(v,E,g)),O}function A(C=f){const O=Gu(h,w,()=>new WeakMap);return Gu(O,C,()=>{const P={};for(const[k,N]of Object.entries(i.selectors??{}))P[k]=Z8(N,C,()=>Gu(v,C,g),w);return P})}return{reducerPath:S,getSelectors:A,get selectors(){return A(E)},selectSlice:E}}const _={name:a,reducer:x,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:g,...b(o),injectInto(S,{reducerPath:w,...E}={}){const A=w??o;return S.inject({reducerPath:A,reducer:x},E),{..._,...b(A,!0)}}};return _}}function Z8(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Sr=Q8();function J8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function eU({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!rU(n))throw new Error(zr(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?ln(e,o):ln(e))}function tU(e){return e._reducerDefinitionType==="asyncThunk"}function rU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(zr(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(t,{fulfilled:o||Fu,pending:s||Fu,rejected:l||Fu,settled:c||Fu})}function Fu(){}var iU="task",uj="listener",dj="completed",A0="cancelled",aU=`task-${A0}`,oU=`task-${dj}`,Hg=`${uj}-${A0}`,sU=`${uj}-${dj}`,Zh=class{constructor(e){fv(this,"name","TaskAbortError");fv(this,"message");this.code=e,this.message=`${iU} ${A0} (reason: ${e})`}},C0=(e,t)=>{if(typeof e!="function")throw new TypeError(zr(32))},wf=()=>{},fj=(e,t=wf)=>(e.catch(t),e),hj=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ya=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ga=e=>{if(e.aborted){const{reason:t}=e;throw new Zh(t)}};function mj(e,t){let r=wf;return new Promise((n,i)=>{const a=()=>i(new Zh(e.reason));if(e.aborted){a();return}r=hj(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=wf})}var lU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Zh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ef=e=>t=>fj(mj(e,t).then(r=>(Ga(e),r))),vj=e=>{const t=Ef(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ns}=Object,uw={},Jh="listenerMiddleware",cU=(e,t)=>{const r=n=>hj(e,()=>Ya(n,e.reason));return(n,i)=>{C0(n);const a=new AbortController;r(a);const o=lU(async()=>{Ga(e),Ga(a.signal);const s=await n({pause:Ef(a.signal),delay:vj(a.signal),signal:a.signal});return Ga(a.signal),s},()=>Ya(a,oU));return i!=null&&i.autoJoin&&t.push(o.catch(wf)),{result:Ef(e)(o),cancel(){Ya(a,aU)}}}},uU=(e,t)=>{const r=async(n,i)=>{Ga(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:n,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await mj(t,Promise.race(s));return Ga(t),l}finally{a()}};return(n,i)=>fj(r(n,i))},pj=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(zr(21));return C0(a),{predicate:i,type:t,effect:a}},gj=ns(e=>{const{type:t,predicate:r,effect:n}=pj(e);return{id:G8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(zr(22))}}},{withTypes:()=>gj}),dw=(e,t)=>{const{type:r,effect:n,predicate:i}=pj(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Wg=e=>{e.pending.forEach(t=>{Ya(t,Hg)})},dU=(e,t)=>()=>{for(const r of t.keys())Wg(r);e.clear()},fw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},yj=ns(ln(`${Jh}/add`),{withTypes:()=>yj}),fU=ln(`${Jh}/removeAll`),bj=ns(ln(`${Jh}/remove`),{withTypes:()=>bj}),hU=(...e)=>{console.error(`${Jh}/error`,...e)},Gc=(e={})=>{const t=new Map,r=new Map,n=h=>{const v=r.get(h)??0;r.set(h,v+1)},i=h=>{const v=r.get(h)??1;v===1?r.delete(h):r.set(h,v-1)},{extra:a,onError:o=hU}=e;C0(o);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),v=>{h.unsubscribe(),v!=null&&v.cancelActive&&Wg(h)}),l=h=>{const v=dw(t,h)??gj(h);return s(v)};ns(l,{withTypes:()=>l});const c=h=>{const v=dw(t,h);return v&&(v.unsubscribe(),h.cancelActive&&Wg(v)),!!v};ns(c,{withTypes:()=>c});const u=async(h,v,p,x)=>{const g=new AbortController,b=uU(l,g.signal),_=[];try{h.pending.add(g),n(h),await Promise.resolve(h.effect(v,ns({},p,{getOriginalState:x,condition:(S,w)=>b(S,w).then(Boolean),take:b,delay:vj(g.signal),pause:Ef(g.signal),extra:a,signal:g.signal,fork:cU(g.signal,_),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,w,E)=>{S!==g&&(Ya(S,Hg),E.delete(S))})},cancel:()=>{Ya(g,Hg),h.pending.delete(g)},throwIfCancelled:()=>{Ga(g.signal)}})))}catch(S){S instanceof Zh||fw(o,S,{raisedBy:"effect"})}finally{await Promise.all(_),Ya(g,sU),i(h),h.pending.delete(g)}},d=dU(t,r);return{middleware:h=>v=>p=>{if(!Gk(p))return v(p);if(yj.match(p))return l(p.payload);if(fU.match(p)){d();return}if(bj.match(p))return c(p.payload);let x=h.getState();const g=()=>{if(x===uw)throw new Error(zr(23));return x};let b;try{if(b=v(p),t.size>0){const _=h.getState(),S=Array.from(t.values());for(const w of S){let E=!1;try{E=w.predicate(p,_,x)}catch(A){E=!1,fw(o,A,{raisedBy:"predicate"})}E&&u(w,p,h,g)}}}finally{x=uw}return b},startListening:l,stopListening:c,clearListeners:d}};function zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xj=Sr({name:"chartLayout",initialState:mU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:vU,setLayout:pU,setChartSize:gU,setScale:yU}=xj.actions,bU=xj.reducer;function _j(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=_U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=SU(e,"string");return typeof t=="symbol"?t:t+""}function SU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oe(e,t,r){return Fe(e)||Fe(t)?r:In(t)?io(e,t,r):typeof t=="function"?t(e):r}var wU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&W(e[a]))return Ho(Ho({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&W(e[o]))return Ho(Ho({},e),{},{[o]:e[o]+(i||0)})}return e},Ti=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Sj=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},wj=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:h}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,p=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(p=h==="angleAxis"&&a&&a.length>=2?jt(a[0]-a[1])*2*p:p,d||f){var x=(d||f||[]).map((g,b)=>{var _=n?n.indexOf(g):g;return{coordinate:o(_)+p,value:g,offset:p,index:b}});return x.filter(g=>!sn(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+p,value:g,index:b,offset:p})):o.ticks&&u!=null?o.ticks(u).map((g,b)=>({coordinate:o(g)+p,value:g,offset:p,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+p,value:n?n[g]:g,index:b,offset:p}))},mw=1e-4,EU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-mw,a=Math.max(n[0],n[1])+mw,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},AU=(e,t)=>{if(!t||t.length!==2||!W(t[0])||!W(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!W(e[0])||e[0]<r)&&(i[0]=r),(!W(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},CU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=sn(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},OU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=sn(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},TU={sign:CU,expand:v6,none:ys,silhouette:p6,wiggle:g6,positive:OU},MU=(e,t,r)=>{var n=TU[r],i=m6().keys(t).value((a,o)=>Number(Oe(a,o,0))).order(Ng).offset(n);return i(e)};function Ej(e){return e==null?void 0:String(e)}function vw(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(i[t.dataKey])){var s=mk(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Oe(i,Fe(o)?t.dataKey:o);return Fe(l)?null:t.scale(l)}var pw=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Oe(a,t.dataKey,t.scale.domain()[o]);return Fe(s)?null:t.scale(s)-i/2+n},kU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},jU=e=>{var t=e.flat(2).filter(W);return[Math.min(...t),Math.max(...t)]},PU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NU=(e,t,r)=>{if(e!=null)return PU(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=_j(c,t,r),d=jU(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},gw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ss=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=qh(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function bw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ho(Ho({},t),{},{dataKey:r,payload:n,value:i,name:a})}function zs(e,t){if(e)return String(e);if(typeof t=="string")return t}var RU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},DU=(e,t)=>t==="centric"?e.angle:e.radius,Mi=e=>e.layout.width,ki=e=>e.layout.height,IU=e=>e.layout.scale,Aj=e=>e.layout.margin,em=j(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),tm=j(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Cj="data-recharts-item-index",Oj="data-recharts-item-data-key",Fc=60;function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UU=e=>e.brush.height;function BU(e){var t=tm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Fc;return r+i}return r},0)}function VU(e){var t=tm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Fc;return r+i}return r},0)}function HU(e){var t=em(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function WU(e){var t=em(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _t=j([Mi,ki,Aj,UU,BU,VU,HU,WU,qk,g8],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},f=Xu(Xu({},d),u),h=f.bottom;f.bottom+=n,f=wU(f,l,c);var v=e-f.left-f.right,p=t-f.top-f.bottom;return Xu(Xu({brushBottom:h},f),{},{width:Math.max(v,0),height:Math.max(p,0)})}),qU=j(_t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),O0=j(Mi,ki,(e,t)=>({x:0,y:0,width:e,height:t})),KU=y.createContext(null),Jt=()=>y.useContext(KU)!=null,rm=e=>e.brush,nm=j([rm,_t,Aj],(e,t,r)=>({height:e.height,x:W(e.x)?e.x:t.left,y:W(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:W(e.width)?e.width:t.width})),Tj={},Mj={},kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),p()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},v=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{v(),o=void 0,s=null},x=()=>{u()},g=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const _=f==null;h(),l&&_&&u()};return g.schedule=h,g.cancel=p,g.flush=x,i==null||i.addEventListener("abort",p,{once:!0}),g}e.debounce=t})(kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const f=t.debounce(function(...p){u=n.apply(this,p),d=null},i,{edges:c}),h=function(...p){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,p),u)},v=()=>(f.flush(),u);return h.cancel=f.cancel,h.flush=v,h}e.debounce=r})(Mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(Tj);var YU=Tj.throttle;const GU=un(YU);var Af=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},jj=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=xi(n)?e:Number(n),l=xi(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},FU={width:0,height:0,overflow:"visible"},XU={width:0,overflowX:"visible"},QU={height:0,overflowY:"visible"},ZU={},JU=e=>{var{width:t,height:r}=e,n=xi(t),i=xi(r);return n&&i?FU:n?XU:i?QU:ZU};function eB(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Be(e){return Number.isFinite(e)}function zn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){tB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tB(e,t,r){return(t=rB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rB(e){var t=nB(e,"string");return typeof t=="symbol"?t:t+""}function nB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pj=y.createContext({width:-1,height:-1});function iB(e){return zn(e.width)&&zn(e.height)}function Nj(e){var{children:t,width:r,height:n}=e,i=y.useMemo(()=>({width:r,height:n}),[r,n]);return iB(i)?y.createElement(Pj.Provider,{value:i},t):null}var T0=()=>y.useContext(Pj),aB=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:h,style:v={}}=e,p=y.useRef(null),x=y.useRef();x.current=h,y.useImperativeHandle(t,()=>p.current);var[g,b]=y.useState({containerWidth:n.width,containerHeight:n.height}),_=y.useCallback((C,O)=>{b(P=>{var k=Math.round(C),N=Math.round(O);return P.containerWidth===k&&P.containerHeight===N?P:{containerWidth:k,containerHeight:N}})},[]);y.useEffect(()=>{if(p.current==null||typeof ResizeObserver>"u")return qc;var C=N=>{var V,{width:H,height:$}=N[0].contentRect;_(H,$),(V=x.current)===null||V===void 0||V.call(x,H,$)};u>0&&(C=GU(C,u,{trailing:!0,leading:!1}));var O=new ResizeObserver(C),{width:P,height:k}=p.current.getBoundingClientRect();return _(P,k),O.observe(p.current),()=>{O.disconnect()}},[_,u]);var{containerWidth:S,containerHeight:w}=g;Af(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:E,calculatedHeight:A}=jj(S,w,{width:i,height:a,aspect:r,maxHeight:l});return Af(E!=null&&E>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,A,i,a,o,s,r),y.createElement("div",{id:d?"".concat(d):void 0,className:ge("recharts-responsive-container",f),style:Sw(Sw({},v),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:p},y.createElement("div",{style:JU({width:i,height:a})},y.createElement(Nj,{width:E,height:A},c)))}),Kg=y.forwardRef((e,t)=>{var r=T0();if(zn(r.width)&&zn(r.height))return e.children;var{width:n,height:i}=eB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=jj(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return W(a)&&W(o)?y.createElement(Nj,{width:a,height:o},e.children):y.createElement(aB,qg({},e,{width:n,height:i,ref:t}))});function Rj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var im=()=>{var e,t=Jt(),r=K(qU),n=K(nm),i=(e=K(rm))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},oB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Dj=()=>{var e;return(e=K(_t))!==null&&e!==void 0?e:oB},Ij=()=>K(Mi),Lj=()=>K(ki),fe=e=>e.layout.layoutType,$s=()=>K(fe),sB=()=>{var e=$s();if(e==="horizontal"||e==="vertical")return e},lB=()=>{var e=$s();return e!==void 0},am=e=>{var t=Ke(),r=Jt(),{width:n,height:i}=e,a=T0(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),y.useEffect(()=>{!r&&zn(o)&&zn(s)&&t(gU({width:o,height:s}))},[t,r,o,s]),null},zj=Symbol.for("immer-nothing"),ww=Symbol.for("immer-draftable"),Vr=Symbol.for("immer-state");function pn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sc=Object.getPrototypeOf;function ws(e){return!!e&&!!e[Vr]}function ao(e){var t;return e?$j(e)||Array.isArray(e)||!!e[ww]||!!((t=e.constructor)!=null&&t[ww])||Xc(e)||sm(e):!1}var cB=Object.prototype.constructor.toString(),Ew=new WeakMap;function $j(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Ew.get(r);return n===void 0&&(n=Function.toString.call(r),Ew.set(r,n)),n===cB}function Cf(e,t,r=!0){om(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function om(e){const t=e[Vr];return t?t.type_:Array.isArray(e)?1:Xc(e)?2:sm(e)?3:0}function Yg(e,t){return om(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Uj(e,t,r){const n=om(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function uB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Xc(e){return e instanceof Map}function sm(e){return e instanceof Set}function Ra(e){return e.copy_||e.base_}function Gg(e,t){if(Xc(e))return new Map(e);if(sm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=$j(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(sc(e),n)}else{const n=sc(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function M0(e,t=!1){return lm(e)||ws(e)||!ao(e)||(om(e)>1&&Object.defineProperties(e,{set:Qu,add:Qu,clear:Qu,delete:Qu}),Object.freeze(e),t&&Object.values(e).forEach(r=>M0(r,!0))),e}function dB(){pn(2)}var Qu={value:dB};function lm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var fB={};function oo(e){const t=fB[e];return t||pn(0,e),t}var lc;function Bj(){return lc}function hB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Aw(e,t){t&&(oo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fg(e){Xg(e),e.drafts_.forEach(mB),e.drafts_=null}function Xg(e){e===lc&&(lc=e.parent_)}function Cw(e){return lc=hB(lc,e)}function mB(e){const t=e[Vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ow(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vr].modified_&&(Fg(t),pn(4)),ao(e)&&(e=Of(t,e),t.parent_||Tf(t,e)),t.patches_&&oo("Patches").generateReplacementPatches_(r[Vr].base_,e,t.patches_,t.inversePatches_)):e=Of(t,r,[]),Fg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zj?e:void 0}function Of(e,t,r){if(lm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Vr];if(!i)return Cf(t,(a,o)=>Tw(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Tf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Cf(o,(l,c)=>Tw(e,i,a,l,c,r,s),n),Tf(e,a,!1),r&&e.patches_&&oo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Tw(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=lm(i);if(!(s&&!o)){if(ws(i)){const l=a&&t&&t.type_!==3&&!Yg(t.assigned_,n)?a.concat(n):void 0,c=Of(e,i,l);if(Uj(r,n,c),ws(c))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ao(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Of(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Xc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Tf(e,i)}}}function Tf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&M0(t,r)}function vB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Bj(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=k0;r&&(i=[n],a=cc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var k0={get(e,t){if(t===Vr)return e;const r=Ra(e);if(!Yg(r,t))return pB(e,r,t);const n=r[t];return e.finalized_||!ao(n)?n:n===rp(e.base_,t)?(np(e),e.copy_[t]=Zg(n,e)):n},has(e,t){return t in Ra(e)},ownKeys(e){return Reflect.ownKeys(Ra(e))},set(e,t,r){const n=Vj(Ra(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=rp(Ra(e),t),a=i==null?void 0:i[Vr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(uB(r,i)&&(r!==void 0||Yg(e.base_,t)))return!0;np(e),Qg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,np(e),Qg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){pn(11)},getPrototypeOf(e){return sc(e.base_)},setPrototypeOf(){pn(12)}},cc={};Cf(k0,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,r){return k0.set.call(this,e[0],t,r,e[0])};function rp(e,t){const r=e[Vr];return(r?Ra(r):e)[t]}function pB(e,t,r){var i;const n=Vj(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Vj(e,t){if(!(t in e))return;let r=sc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sc(r)}}function Qg(e){e.modified_||(e.modified_=!0,e.parent_&&Qg(e.parent_))}function np(e){e.copy_||(e.copy_=Gg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&pn(6),n!==void 0&&typeof n!="function"&&pn(7);let i;if(ao(t)){const a=Cw(this),o=Zg(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Fg(a):Xg(a)}return Aw(a,n),Ow(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===zj&&(i=void 0),this.autoFreeze_&&M0(i,!0),n){const a=[],o=[];oo("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else pn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ao(e)||pn(8),ws(e)&&(e=yB(e));const t=Cw(this),r=Zg(e,void 0);return r[Vr].isManual_=!0,Xg(t),r}finishDraft(e,t){const r=e&&e[Vr];(!r||!r.isManual_)&&pn(9);const{scope_:n}=r;return Aw(n,t),Ow(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=oo("Patches").applyPatches_;return ws(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Zg(e,t){const r=Xc(e)?oo("MapSet").proxyMap_(e,t):sm(e)?oo("MapSet").proxySet_(e,t):vB(e,t);return(t?t.scope_:Bj()).drafts_.push(r),r}function yB(e){return ws(e)||pn(10,e),Hj(e)}function Hj(e){if(!ao(e)||lm(e))return e;const t=e[Vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Gg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Gg(e,!0);return Cf(r,(i,a)=>{Uj(r,i,Hj(a))},n),t&&(t.finalized_=!1),r}var bB=new gB;bB.produce;var xB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Wj=Sr({name:"legend",initialState:xB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:We()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=bn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:We()},removeLegendPayload:{reducer(e,t){var r=bn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:We()}}}),{setLegendSize:_ue,setLegendSettings:Sue,addLegendPayload:qj,replaceLegendPayload:Kj,removeLegendPayload:Yj}=Wj.actions,_B=Wj.reducer;function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){SB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SB(e,t,r){return(t=wB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wB(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AB(e){return Array.isArray(e)&&In(e[0])&&In(e[1])?e.join(" ~ "):e}var CB=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,h=()=>{if(a&&a.length){var w={padding:0,margin:0},E=(s?qh(a,s):a).map((A,C)=>{if(A.type==="none")return null;var O=A.formatter||o||AB,{value:P,name:k}=A,N=P,V=k;if(O){var H=O(P,k,A,C,a);if(Array.isArray(H))[N,V]=H;else if(H!=null)N=H;else return null}var $=ip({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:$},In(V)?y.createElement("span",{className:"recharts-tooltip-item-name"},V):null,In(V)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},N),y.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:w},E)}return null},v=ip({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=ip({margin:0},i),x=!Fe(u),g=x?u:"",b=ge("recharts-default-tooltip",l),_=ge("recharts-tooltip-label",c);x&&d&&a!==void 0&&a!==null&&(g=d(u,a));var S=f?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Jg({className:b,style:v},S),y.createElement("p",{className:_,style:p},y.isValidElement(g)?g:"".concat(g)),h())},cl="recharts-tooltip-wrapper",OB={visibility:"hidden"};function TB(e){var{coordinate:t,translateX:r,translateY:n}=e;return ge(cl,{["".concat(cl,"-right")]:W(r)&&t&&W(t.x)&&r>=t.x,["".concat(cl,"-left")]:W(r)&&t&&W(t.x)&&r<t.x,["".concat(cl,"-bottom")]:W(n)&&t&&W(t.y)&&n>=t.y,["".concat(cl,"-top")]:W(n)&&t&&W(t.y)&&n<t.y})}function kw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&W(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var f=l[n];if(f==null)return 0;if(o[n]){var h=u,v=f;return h<v?Math.max(d,f):Math.max(u,f)}if(c==null)return 0;var p=d+s,x=f+c;return p>x?Math.max(u,f):Math.max(d,f)}function MB(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kB(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,d;return o.height>0&&o.width>0&&r?(u=kw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=kw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=MB({translateX:u,translateY:d,useTranslate3d:s})):c=OB,{cssProperties:c,cssClasses:TB({translateX:u,translateY:d,coordinate:r})}}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ey(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NB extends y.PureComponent{constructor(){super(...arguments),ey(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ey(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:f,viewBox:h,wrapperStyle:v,lastBoundingBox:p,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:_}=kB({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:h}),S=g?{}:Zu(Zu({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),w=Zu(Zu({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:w,ref:x},a)}}var RB=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xa={devToolsEnabled:!1,isSsr:RB()},Gj=()=>{var e;return(e=K(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){DB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t,r){return(t=IB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IB(e){var t=LB(e,"string");return typeof t=="symbol"?t:t+""}function LB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rw={curveBasisClosed:n6,curveBasisOpen:i6,curveBasis:r6,curveBumpX:V5,curveBumpY:H5,curveLinearClosed:a6,curveLinear:Lh,curveMonotoneX:o6,curveMonotoneY:s6,curveNatural:l6,curveStep:c6,curveStepAfter:d6,curveStepBefore:u6},Mf=e=>Be(e.x)&&Be(e.y),Dw=e=>e.base!=null&&Mf(e.base)&&Mf(e),ul=e=>e.x,dl=e=>e.y,zB=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Rw["".concat(r).concat(t==="vertical"?"Y":"X")]:Rw[r]||Lh},$B=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=zB(t,i),s=a?r.filter(Mf):r,l;if(Array.isArray(n)){var c=r.map((h,v)=>Nw(Nw({},h),{},{base:n[v]}));i==="vertical"?l=Wu().y(dl).x1(ul).x0(h=>h.base.x):l=Wu().x(ul).y1(dl).y0(h=>h.base.y);var u=l.defined(Dw).curve(o),d=a?c.filter(Dw):c;return u(d)}i==="vertical"&&W(n)?l=Wu().y(dl).x1(ul).x0(n):W(n)?l=Wu().x(ul).y1(dl).y0(n):l=ek().x(ul).y(dl);var f=l.defined(Mf).curve(o);return f(s)},is=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?$B(e):n;return y.createElement("path",ty({},br(e),o0(e),{className:ge("recharts-curve",t),d:a===null?void 0:a,ref:i}))},UB=["x","y","top","left","width","height","className"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){VB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VB(e,t,r){return(t=HB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){var t=WB(e,"string");return typeof t=="symbol"?t:t+""}function WB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qB(e,t){if(e==null)return{};var r,n,i=KB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YB=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),GB=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=qB(e,UB),c=BB({x:t,y:r,top:n,left:i,width:a,height:o},l);return!W(t)||!W(r)||!W(a)||!W(o)||!W(n)||!W(i)?null:y.createElement("path",ry({},or(c),{className:ge("recharts-cross",s),d:YB(t,r,a,o,n,i)}))};function FB(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=QB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JB=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Fj=(e,t,r)=>e.map(n=>"".concat(JB(n)," ").concat(t,"ms ").concat(r)).join(","),e9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),uc=(e,t)=>Object.keys(t).reduce((r,n)=>zw(zw({},r),{},{[n]:e(n,t[n])}),{});function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kf=(e,t,r)=>e+(t-e)*r,ny=e=>{var{from:t,to:r}=e;return t!==r},Xj=(e,t,r)=>{var n=uc((i,a)=>{if(ny(a)){var[o,s]=e(a.from,a.to,a.velocity);return gt(gt({},a),{},{from:o,velocity:s})}return a},t);return r<1?uc((i,a)=>ny(a)?gt(gt({},a),{},{velocity:kf(a.velocity,n[i].velocity,r),from:kf(a.from,n[i].from,r)}):a,t):Xj(e,n,r-1)};function i9(e,t,r,n,i,a){var o,s=n.reduce((f,h)=>gt(gt({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>uc((f,h)=>h.from,s),c=()=>!Object.values(s).filter(ny).length,u=null,d=f=>{o||(o=f);var h=f-o,v=h/r.dt;s=Xj(r,s,v),i(gt(gt(gt({},e),t),l())),o=f,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{var f;(f=u)===null||f===void 0||f()})}function a9(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,f)=>gt(gt({},d),{},{[f]:[e[f],t[f]]}),{}),c,u=d=>{c||(c=d);var f=(d-c)/n,h=uc((p,x)=>kf(...x,r(f)),l);if(a(gt(gt(gt({},e),t),h)),f<1)s=o.setTimeout(u);else{var v=uc((p,x)=>kf(...x,r(1)),l);a(gt(gt(gt({},e),t),v))}};return()=>(s=o.setTimeout(u),()=>{var d;(d=s)===null||d===void 0||d()})}const o9=(e,t,r,n,i,a)=>{var o=e9(e,t);return r==null?()=>(i(gt(gt({},e),t)),()=>{}):r.isStepper===!0?i9(e,t,r,o,i,a):a9(e,t,r,n,o,i,a)};var jf=1e-4,Qj=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Zj=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Uw=(e,t)=>r=>{var n=Qj(e,t);return Zj(n,r)},s9=(e,t)=>r=>{var n=Qj(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return Zj(i,r)},l9=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},c9=(e,t,r,n)=>{var i=Uw(e,r),a=Uw(t,n),o=s9(e,r),s=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,d=u,f=0;f<8;++f){var h=i(d)-u,v=o(d);if(Math.abs(h-u)<jf||v<jf)return a(d);d=s(d-h/v)}return a(d)};return l.isStepper=!1,l},Bw=function(){return c9(...l9(...arguments))},u9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*r,u=l*n,d=l+(c-u)*i/1e3,f=l*i/1e3+o;return Math.abs(f-s)<jf&&Math.abs(d)<jf?[s,0]:[f,d]};return a.isStepper=!0,a.dt=i,a},d9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Bw(e);case"spring":return u9();default:if(e.split("(")[0]==="cubic-bezier")return Bw(e)}return typeof e=="function"?e:null};function f9(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class h9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function m9(){return f9(new h9)}var v9=y.createContext(m9);function p9(e,t){var r=y.useContext(v9);return y.useMemo(()=>t??r(e),[e,t,r])}var g9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Vw={t:0},ap={t:1};function Qc(e){var t=Nt(e,g9),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=r==="auto"?!xa.isSsr:r,d=p9(t.animationId,t.animationManager),[f,h]=y.useState(u?Vw:ap),v=y.useRef(null);return y.useEffect(()=>{u||h(ap)},[u]),y.useEffect(()=>{if(!u||!n)return qc;var p=o9(Vw,ap,d9(a),i,h,d.getTimeoutController()),x=()=>{v.current=p()};return d.start([l,o,x,i,s]),()=>{d.stop(),v.current&&v.current(),s()}},[u,n,i,a,o,l,s,d]),c(f.t)}function Zc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(nc(t)),n=y.useRef(e);return n.current!==e&&(r.current=nc(t),n.current=e),r.current}var y9=["radius"],b9=["radius"];function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){x9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}function qw(e,t){if(e==null)return{};var r,n,i=w9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kw=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>a?a:i[d];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+r-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+o*u[1])),c+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-s*u[2],",").concat(t+n)),c+="L ".concat(e+s*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(e,",").concat(t+o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+s*h,",").concat(t,`
            L `).concat(e+r-s*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+o*h,`
            L `).concat(e+r,",").concat(t+n-o*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-s*h,",").concat(t+n,`
            L `).concat(e+s*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-o*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Yw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jj=e=>{var t=Nt(e,Yw),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&i(M)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:v,isUpdateAnimationActive:p}=t,x=y.useRef(s),g=y.useRef(l),b=y.useRef(a),_=y.useRef(o),S=y.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),w=Zc(S,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var E=ge("recharts-rectangle",u);if(!p){var A=or(t),{radius:C}=A,O=qw(A,y9);return y.createElement("path",Pf({},O,{radius:typeof c=="number"?c:void 0,className:E,d:Kw(a,o,s,l,c)}))}var P=x.current,k=g.current,N=b.current,V=_.current,H="0px ".concat(n===-1?1:n,"px"),$="".concat(n,"px 0px"),R=Fj(["strokeDasharray"],f,typeof d=="string"?d:Yw.animationEasing);return y.createElement(Qc,{animationId:w,key:w,canBegin:n>0,duration:f,easing:d,isActive:p,begin:h},M=>{var T=ze(P,s,M),B=ze(k,l,M),ee=ze(N,a,M),Ve=ze(V,o,M);r.current&&(x.current=T,g.current=B,b.current=ee,_.current=Ve);var vt;v?M>0?vt={transition:R,strokeDasharray:$}:vt={strokeDasharray:H}:vt={strokeDasharray:$};var Dt=or(t),{radius:Ge}=Dt,Cr=qw(Dt,b9);return y.createElement("path",Pf({},Cr,{radius:typeof c=="number"?c:void 0,className:E,d:Kw(ee,Ve,T,B,c),ref:r,style:Ww(Ww({},vt),t.style)}))})};function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){E9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E9(e,t,r){return(t=A9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nf=Math.PI/180,O9=e=>e*180/Math.PI,ft=(e,t,r,n)=>({x:e+Math.cos(-Nf*n)*r,y:t+Math.sin(-Nf*n)*r}),e2=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},T9=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},M9=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=T9({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:O9(l),angleInRadian:l}},k9=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},j9=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},P9=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=M9({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=k9(t),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?Fw(Fw({},t),{},{radius:i,angle:j9(u,t)}):null};function t2(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=ft(t,r,n,i),s=ft(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(null,arguments)}var N9=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ju=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Nf,d=l?i:i+a*u,f=ft(t,r,c,d),h=ft(t,r,n,d),v=l?i-a*u:i,p=ft(t,r,c*Math.cos(u*Nf),v);return{center:f,circleTangency:h,lineTangency:p,theta:u}},r2=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=N9(a,o),l=a+s,c=ft(t,r,i,a),u=ft(t,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var f=ft(t,r,n,a),h=ft(t,r,n,l);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},R9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=jt(c-l),{circleTangency:d,lineTangency:f,theta:h}=Ju({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:v,lineTangency:p,theta:x}=Ju({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-h-x;if(g<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):r2({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:_,lineTangency:S,theta:w}=Ju({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:E,lineTangency:A,theta:C}=Ju({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),O=s?Math.abs(l-c):Math.abs(l-c)-w-C;if(O<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},D9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n2=e=>{var t=Nt(e,D9),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var f=ge("recharts-sector",d),h=a-i,v=Zt(o,h,0,!0),p;return v>0&&Math.abs(c-u)<360?p=R9({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,h/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):p=r2({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),y.createElement("path",iy({},or(t),{className:f,d:p}))};function I9(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(gk(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=ft(n,i,a,s),c=ft(n,i,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return t2(t)}}var i2={},a2={},o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(o2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(a2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0,r=a2;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=n})(i2);var L9=i2.range;const s2=un(L9);function sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j0(e){let t,r,n;e.length!==2?(t=sa,r=(s,l)=>sa(e(s),l),n=(s,l)=>e(s)-l):(t=e===sa||e===z9?e:$9,r=e,n=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function $9(){return 0}function l2(e){return e===null?NaN:+e}function*U9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const B9=j0(sa),Jc=B9.right;j0(l2).center;class Xw extends Map{constructor(t,r=W9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Qw(this,t))}has(t){return super.has(Qw(this,t))}set(t,r){return super.set(V9(this,t),r)}delete(t){return super.delete(H9(this,t))}}function Qw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function V9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function H9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function W9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q9(e=sa){if(e===sa)return c2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function c2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const K9=Math.sqrt(50),Y9=Math.sqrt(10),G9=Math.sqrt(2);function Rf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=K9?10:a>=Y9?5:a>=G9?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Rf(e,t,r*2):[s,l,c]}function ay(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Rf(t,e,r):Rf(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function oy(e,t,r){return t=+t,e=+e,r=+r,Rf(e,t,r)[2]}function sy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?oy(t,e,r):oy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Zw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Jw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u2(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?c2:q9(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*d/l+f)),v=Math.min(n,Math.floor(t+(l-c)*d/l+f));u2(e,t,h,v,i)}const a=e[t];let o=r,s=n;for(fl(e,r,t),i(e[n],a)>0&&fl(e,r,n);o<s;){for(fl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?fl(e,r,s):(++s,fl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function fl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function F9(e,t,r){if(e=Float64Array.from(U9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Jw(e);if(t>=1)return Zw(e);var n,i=(n-1)*t,a=Math.floor(i),o=Zw(u2(e,a).subarray(0,a+1)),s=Jw(e.subarray(a+1));return o+(s-o)*(i-a)}}function X9(e,t,r=l2){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Q9(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function dn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ly=Symbol("implicit");function P0(){var e=new Xw,t=[],r=[],n=ly;function i(a){let o=e.get(a);if(o===void 0){if(n!==ly)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Xw;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return P0(t,r).unknown(n)},dn.apply(i,arguments),i}function N0(){var e=P0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<n,v=h?i:n,p=h?n:i;a=(p-v)/Math.max(1,f-l+c*2),s&&(a=Math.floor(a)),v+=(p-v-a*(f-l))*u,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var x=Q9(f).map(function(g){return v+a*g});return r(h?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(s=!!f,d()):s},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return N0(t(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},dn.apply(d(),arguments)}function d2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d2(t())},e}function Z9(){return d2(N0.apply(null,arguments).paddingInner(1))}function R0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function f2(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eu(){}var dc=.7,Df=1/dc,as="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J9=/^#([0-9a-f]{3,8})$/,e7=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),t7=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),r7=new RegExp(`^rgba\\(${as},${as},${as},${fc}\\)$`),n7=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${fc}\\)$`),i7=new RegExp(`^hsl\\(${fc},${Dn},${Dn}\\)$`),a7=new RegExp(`^hsla\\(${fc},${Dn},${Dn},${fc}\\)$`),eE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};R0(eu,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tE,formatHex:tE,formatHex8:o7,formatHsl:s7,formatRgb:rE,toString:rE});function tE(){return this.rgb().formatHex()}function o7(){return this.rgb().formatHex8()}function s7(){return h2(this).formatHsl()}function rE(){return this.rgb().formatRgb()}function hc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=J9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nE(t):r===3?new pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ed(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ed(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=e7.exec(e))?new pr(t[1],t[2],t[3],1):(t=t7.exec(e))?new pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r7.exec(e))?ed(t[1],t[2],t[3],t[4]):(t=n7.exec(e))?ed(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=i7.exec(e))?oE(t[1],t[2]/100,t[3]/100,1):(t=a7.exec(e))?oE(t[1],t[2]/100,t[3]/100,t[4]):eE.hasOwnProperty(e)?nE(eE[e]):e==="transparent"?new pr(NaN,NaN,NaN,0):null}function nE(e){return new pr(e>>16&255,e>>8&255,e&255,1)}function ed(e,t,r,n){return n<=0&&(e=t=r=NaN),new pr(e,t,r,n)}function l7(e){return e instanceof eu||(e=hc(e)),e?(e=e.rgb(),new pr(e.r,e.g,e.b,e.opacity)):new pr}function cy(e,t,r,n){return arguments.length===1?l7(e):new pr(e,t,r,n??1)}function pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}R0(pr,cy,f2(eu,{brighter(e){return e=e==null?Df:Math.pow(Df,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pr(Fa(this.r),Fa(this.g),Fa(this.b),If(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iE,formatHex:iE,formatHex8:c7,formatRgb:aE,toString:aE}));function iE(){return`#${za(this.r)}${za(this.g)}${za(this.b)}`}function c7(){return`#${za(this.r)}${za(this.g)}${za(this.b)}${za((isNaN(this.opacity)?1:this.opacity)*255)}`}function aE(){const e=If(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function If(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function za(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function oE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gn(e,t,r,n)}function h2(e){if(e instanceof gn)return new gn(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=hc(e)),!e)return new gn;if(e instanceof gn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new gn(o,s,l,e.opacity)}function u7(e,t,r,n){return arguments.length===1?h2(e):new gn(e,t,r,n??1)}function gn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}R0(gn,u7,f2(eu,{brighter(e){return e=e==null?Df:Math.pow(Df,e),new gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new pr(op(e>=240?e-240:e+120,i,n),op(e,i,n),op(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new gn(sE(this.h),td(this.s),td(this.l),If(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=If(this.opacity);return`${e===1?"hsl(":"hsla("}${sE(this.h)}, ${td(this.s)*100}%, ${td(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sE(e){return e=(e||0)%360,e<0?e+360:e}function td(e){return Math.max(0,Math.min(1,e||0))}function op(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const D0=e=>()=>e;function d7(e,t){return function(r){return e+r*t}}function f7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function h7(e){return(e=+e)==1?m2:function(t,r){return r-t?f7(t,r,e):D0(isNaN(t)?r:t)}}function m2(e,t){var r=t-e;return r?d7(e,r):D0(isNaN(e)?t:e)}const lE=function e(t){var r=h7(t);function n(i,a){var o=r((i=cy(i)).r,(a=cy(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=m2(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function m7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function v7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Us(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function g7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Lf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function y7(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Us(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sp=new RegExp(uy.source,"g");function b7(e){return function(){return e}}function x7(e){return function(t){return e(t)+""}}function _7(e,t){var r=uy.lastIndex=sp.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=uy.exec(e))&&(i=sp.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Lf(n,i)})),r=sp.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?x7(l[0].x):b7(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function Us(e,t){var r=typeof t,n;return t==null||r==="boolean"?D0(t):(r==="number"?Lf:r==="string"?(n=hc(t))?(t=n,lE):_7:t instanceof hc?lE:t instanceof Date?g7:v7(t)?m7:Array.isArray(t)?p7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?y7:Lf)(e,t)}function I0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function S7(e,t){t===void 0&&(t=e,e=Us);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function w7(e){return function(){return e}}function zf(e){return+e}var cE=[0,1];function ar(e){return e}function dy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:w7(isNaN(t)?NaN:.5)}function E7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function A7(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=dy(i,n),a=r(o,a)):(n=dy(n,i),a=r(a,o)),function(s){return a(n(s))}}function C7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=dy(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Jc(e,s,1,n)-1;return a[l](i[l](s))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cm(){var e=cE,t=cE,r=Us,n,i,a,o=ar,s,l,c;function u(){var f=Math.min(e.length,t.length);return o!==ar&&(o=E7(e[0],e[f-1])),s=f>2?C7:A7,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=s(e.map(n),t,r)))(n(o(f)))}return d.invert=function(f){return o(i((c||(c=s(t,e.map(n),Lf)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,zf),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=I0,u()},d.clamp=function(f){return arguments.length?(o=f?!0:ar,u()):o!==ar},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,u()}}function L0(){return cm()(ar,ar)}function O7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $f(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Es(e){return e=$f(Math.abs(e)),e?e[1]:NaN}function T7(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function M7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var k7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(e){if(!(t=k7.exec(e)))throw new Error("invalid format: "+e);var t;return new z0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mc.prototype=z0.prototype;function z0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function j7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var v2;function P7(e,t){var r=$f(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(v2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+$f(e,Math.max(0,t+a-1))[0]}function uE(e,t){var r=$f(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const dE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:O7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uE(e*100,t),r:uE,s:P7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fE(e){return e}var hE=Array.prototype.map,mE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N7(e){var t=e.grouping===void 0||e.thousands===void 0?fE:T7(hE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?fE:M7(hE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=mc(d);var f=d.fill,h=d.align,v=d.sign,p=d.symbol,x=d.zero,g=d.width,b=d.comma,_=d.precision,S=d.trim,w=d.type;w==="n"?(b=!0,w="g"):dE[w]||(_===void 0&&(_=12),S=!0,w="g"),(x||f==="0"&&h==="=")&&(x=!0,f="0",h="=");var E=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=p==="$"?n:/[%p]/.test(w)?o:"",C=dE[w],O=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(k){var N=E,V=A,H,$,R;if(w==="c")V=C(k)+V,k="";else{k=+k;var M=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),_),S&&(k=j7(k)),M&&+k==0&&v!=="+"&&(M=!1),N=(M?v==="("?v:s:v==="-"||v==="("?"":v)+N,V=(w==="s"?mE[8+v2/3]:"")+V+(M&&v==="("?")":""),O){for(H=-1,$=k.length;++H<$;)if(R=k.charCodeAt(H),48>R||R>57){V=(R===46?i+k.slice(H+1):k.slice(H))+V,k=k.slice(0,H);break}}}b&&!x&&(k=t(k,1/0));var T=N.length+k.length+V.length,B=T<g?new Array(g-T+1).join(f):"";switch(b&&x&&(k=t(B+k,B.length?g-V.length:1/0),B=""),h){case"<":k=N+k+V+B;break;case"=":k=N+B+k+V;break;case"^":k=B.slice(0,T=B.length>>1)+N+k+V+B.slice(T);break;default:k=B+N+k+V;break}return a(k)}return P.toString=function(){return d+""},P}function u(d,f){var h=c((d=mc(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Es(f)/3)))*3,p=Math.pow(10,-v),x=mE[8+v/3];return function(g){return h(p*g)+x}}return{format:c,formatPrefix:u}}var rd,$0,p2;R7({thousands:",",grouping:[3],currency:["$",""]});function R7(e){return rd=N7(e),$0=rd.format,p2=rd.formatPrefix,rd}function D7(e){return Math.max(0,-Es(Math.abs(e)))}function I7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Es(t)/3)))*3-Es(Math.abs(e)))}function L7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Es(t)-Es(e))+1}function g2(e,t,r,n){var i=sy(e,t,r),a;switch(n=mc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=I7(i,o))&&(n.precision=a),p2(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=L7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=D7(i))&&(n.precision=a-(n.type==="%")*2);break}}return $0(n)}function _a(e){var t=e.domain;return e.ticks=function(r){var n=t();return ay(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return g2(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=oy(o,s,r),c===l)return n[i]=o,n[a]=s,t(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function y2(){var e=L0();return e.copy=function(){return tu(e,y2())},dn.apply(e,arguments),_a(e)}function b2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return b2(e).unknown(t)},e=arguments.length?Array.from(e,zf):[0,1],_a(r)}function x2(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function vE(e){return Math.log(e)}function pE(e){return Math.exp(e)}function z7(e){return-Math.log(-e)}function $7(e){return-Math.exp(-e)}function U7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function B7(e){return e===10?U7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function V7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gE(e){return(t,r)=>-e(-t,r)}function U0(e){const t=e(vE,pE),r=t.domain;let n=10,i,a;function o(){return i=V7(n),a=B7(n),r()[0]<0?(i=gE(i),a=gE(a),e(z7,$7)):e(vE,pE),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),v,p;const x=s==null?10:+s;let g=[];if(!(n%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(v=1;v<n;++v)if(p=f<0?v/a(-f):v*a(f),!(p<c)){if(p>u)break;g.push(p)}}else for(;f<=h;++f)for(v=n-1;v>=1;--v)if(p=f>0?v/a(-f):v*a(f),!(p<c)){if(p>u)break;g.push(p)}g.length*2<x&&(g=ay(c,u,x))}else g=ay(f,h,Math.min(h-f,x)).map(a);return d?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=mc(l)).precision==null&&(l.trim=!0),l=$0(l)),s===1/0)return l;const c=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=()=>r(x2(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function _2(){const e=U0(cm()).domain([1,10]);return e.copy=()=>tu(e,_2()).base(e.base()),dn.apply(e,arguments),e}function yE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function B0(e){var t=1,r=e(yE(t),bE(t));return r.constant=function(n){return arguments.length?e(yE(t=+n),bE(t)):t},_a(r)}function S2(){var e=B0(cm());return e.copy=function(){return tu(e,S2()).constant(e.constant())},dn.apply(e,arguments)}function xE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function H7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function W7(e){return e<0?-e*e:e*e}function V0(e){var t=e(ar,ar),r=1;function n(){return r===1?e(ar,ar):r===.5?e(H7,W7):e(xE(r),xE(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},_a(t)}function H0(){var e=V0(cm());return e.copy=function(){return tu(e,H0()).exponent(e.exponent())},dn.apply(e,arguments),e}function q7(){return H0.apply(null,arguments).exponent(.5)}function _E(e){return Math.sign(e)*e*e}function K7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function w2(){var e=L0(),t=[0,1],r=!1,n;function i(a){var o=K7(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(_E(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,zf)).map(_E)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return w2(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},dn.apply(i,arguments),_a(i)}function E2(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=X9(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Jc(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(sa),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return E2().domain(e).range(t).unknown(n)},dn.apply(a,arguments)}function A2(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Jc(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return A2().domain([e,t]).range(i).unknown(a)},dn.apply(_a(o),arguments)}function C2(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Jc(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C2().domain(e).range(t).unknown(r)},dn.apply(i,arguments)}const lp=new Date,cp=new Date;function St(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>St(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(lp.setTime(+a),cp.setTime(+o),e(lp),e(cp),Math.floor(r(lp,cp))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Uf=St(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?St(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uf);Uf.range;const si=1e3,rn=si*60,li=rn*60,Si=li*24,W0=Si*7,SE=Si*30,up=Si*365,$a=St(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCSeconds());$a.range;const q0=St(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getMinutes());q0.range;const K0=St(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*rn)},(e,t)=>(t-e)/rn,e=>e.getUTCMinutes());K0.range;const Y0=St(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si-e.getMinutes()*rn)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getHours());Y0.range;const G0=St(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCHours());G0.range;const ru=St(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*rn)/Si,e=>e.getDate()-1);ru.range;const um=St(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>e.getUTCDate()-1);um.range;const O2=St(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>Math.floor(e/Si));O2.range;function po(e){return St(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*rn)/W0)}const dm=po(0),Bf=po(1),Y7=po(2),G7=po(3),As=po(4),F7=po(5),X7=po(6);dm.range;Bf.range;Y7.range;G7.range;As.range;F7.range;X7.range;function go(e){return St(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/W0)}const fm=go(0),Vf=go(1),Q7=go(2),Z7=go(3),Cs=go(4),J7=go(5),eV=go(6);fm.range;Vf.range;Q7.range;Z7.range;Cs.range;J7.range;eV.range;const F0=St(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F0.range;const X0=St(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());X0.range;const wi=St(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:St(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wi.range;const Ei=St(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:St(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ei.range;function T2(e,t,r,n,i,a){const o=[[$a,1,si],[$a,5,5*si],[$a,15,15*si],[$a,30,30*si],[a,1,rn],[a,5,5*rn],[a,15,15*rn],[a,30,30*rn],[i,1,li],[i,3,3*li],[i,6,6*li],[i,12,12*li],[n,1,Si],[n,2,2*Si],[r,1,W0],[t,1,SE],[t,3,3*SE],[e,1,up]];function s(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),v=h?h.range(c,+u+1):[];return f?v.reverse():v}function l(c,u,d){const f=Math.abs(u-c)/d,h=j0(([,,x])=>x).right(o,f);if(h===o.length)return e.every(sy(c/up,u/up,d));if(h===0)return Uf.every(Math.max(sy(c,u,d),1));const[v,p]=o[f/o[h-1][2]<o[h][2]/f?h-1:h];return v.every(p)}return[s,l]}const[tV,rV]=T2(Ei,X0,fm,O2,G0,K0),[nV,iV]=T2(wi,F0,dm,ru,Y0,q0);function dp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function aV(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ml(i),u=vl(i),d=ml(a),f=vl(a),h=ml(o),v=vl(o),p=ml(s),x=vl(s),g=ml(l),b=vl(l),_={a:M,A:T,b:B,B:ee,c:null,d:TE,e:TE,f:TV,g:zV,G:UV,H:AV,I:CV,j:OV,L:M2,m:MV,M:kV,p:Ve,q:vt,Q:jE,s:PE,S:jV,u:PV,U:NV,V:RV,w:DV,W:IV,x:null,X:null,y:LV,Y:$V,Z:BV,"%":kE},S={a:Dt,A:Ge,b:Cr,B:Ca,c:null,d:ME,e:ME,f:qV,g:tH,G:nH,H:VV,I:HV,j:WV,L:j2,m:KV,M:YV,p:At,q:bo,Q:jE,s:PE,S:GV,u:FV,U:XV,V:QV,w:ZV,W:JV,x:null,X:null,y:eH,Y:rH,Z:iH,"%":kE},w={a:P,A:k,b:N,B:V,c:H,d:CE,e:CE,f:_V,g:AE,G:EE,H:OE,I:OE,j:gV,L:xV,m:pV,M:yV,p:O,q:vV,Q:wV,s:EV,S:bV,u:uV,U:dV,V:fV,w:cV,W:hV,x:$,X:R,y:AE,Y:EE,Z:mV,"%":SV};_.x=E(r,_),_.X=E(n,_),_.c=E(t,_),S.x=E(r,S),S.X=E(n,S),S.c=E(t,S);function E(L,ae){return function(oe){var z=[],It=-1,be=0,er=L.length,tr,Wn,fS;for(oe instanceof Date||(oe=new Date(+oe));++It<er;)L.charCodeAt(It)===37&&(z.push(L.slice(be,It)),(Wn=wE[tr=L.charAt(++It)])!=null?tr=L.charAt(++It):Wn=tr==="e"?" ":"0",(fS=ae[tr])&&(tr=fS(oe,Wn)),z.push(tr),be=It+1);return z.push(L.slice(be,It)),z.join("")}}function A(L,ae){return function(oe){var z=hl(1900,void 0,1),It=C(z,L,oe+="",0),be,er;if(It!=oe.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ae&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(be=fp(hl(z.y,0,1)),er=be.getUTCDay(),be=er>4||er===0?Vf.ceil(be):Vf(be),be=um.offset(be,(z.V-1)*7),z.y=be.getUTCFullYear(),z.m=be.getUTCMonth(),z.d=be.getUTCDate()+(z.w+6)%7):(be=dp(hl(z.y,0,1)),er=be.getDay(),be=er>4||er===0?Bf.ceil(be):Bf(be),be=ru.offset(be,(z.V-1)*7),z.y=be.getFullYear(),z.m=be.getMonth(),z.d=be.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),er="Z"in z?fp(hl(z.y,0,1)).getUTCDay():dp(hl(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(er+5)%7:z.w+z.U*7-(er+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,fp(z)):dp(z)}}function C(L,ae,oe,z){for(var It=0,be=ae.length,er=oe.length,tr,Wn;It<be;){if(z>=er)return-1;if(tr=ae.charCodeAt(It++),tr===37){if(tr=ae.charAt(It++),Wn=w[tr in wE?ae.charAt(It++):tr],!Wn||(z=Wn(L,oe,z))<0)return-1}else if(tr!=oe.charCodeAt(z++))return-1}return z}function O(L,ae,oe){var z=c.exec(ae.slice(oe));return z?(L.p=u.get(z[0].toLowerCase()),oe+z[0].length):-1}function P(L,ae,oe){var z=h.exec(ae.slice(oe));return z?(L.w=v.get(z[0].toLowerCase()),oe+z[0].length):-1}function k(L,ae,oe){var z=d.exec(ae.slice(oe));return z?(L.w=f.get(z[0].toLowerCase()),oe+z[0].length):-1}function N(L,ae,oe){var z=g.exec(ae.slice(oe));return z?(L.m=b.get(z[0].toLowerCase()),oe+z[0].length):-1}function V(L,ae,oe){var z=p.exec(ae.slice(oe));return z?(L.m=x.get(z[0].toLowerCase()),oe+z[0].length):-1}function H(L,ae,oe){return C(L,t,ae,oe)}function $(L,ae,oe){return C(L,r,ae,oe)}function R(L,ae,oe){return C(L,n,ae,oe)}function M(L){return o[L.getDay()]}function T(L){return a[L.getDay()]}function B(L){return l[L.getMonth()]}function ee(L){return s[L.getMonth()]}function Ve(L){return i[+(L.getHours()>=12)]}function vt(L){return 1+~~(L.getMonth()/3)}function Dt(L){return o[L.getUTCDay()]}function Ge(L){return a[L.getUTCDay()]}function Cr(L){return l[L.getUTCMonth()]}function Ca(L){return s[L.getUTCMonth()]}function At(L){return i[+(L.getUTCHours()>=12)]}function bo(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var ae=E(L+="",_);return ae.toString=function(){return L},ae},parse:function(L){var ae=A(L+="",!1);return ae.toString=function(){return L},ae},utcFormat:function(L){var ae=E(L+="",S);return ae.toString=function(){return L},ae},utcParse:function(L){var ae=A(L+="",!0);return ae.toString=function(){return L},ae}}}var wE={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,oV=/^%/,sV=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function lV(e){return e.replace(sV,"\\$&")}function ml(e){return new RegExp("^(?:"+e.map(lV).join("|")+")","i")}function vl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function EE(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AE(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vV(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CE(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gV(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OE(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bV(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xV(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _V(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function SV(e,t,r){var n=oV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function wV(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function EV(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function TE(e,t){return me(e.getDate(),t,2)}function AV(e,t){return me(e.getHours(),t,2)}function CV(e,t){return me(e.getHours()%12||12,t,2)}function OV(e,t){return me(1+ru.count(wi(e),e),t,3)}function M2(e,t){return me(e.getMilliseconds(),t,3)}function TV(e,t){return M2(e,t)+"000"}function MV(e,t){return me(e.getMonth()+1,t,2)}function kV(e,t){return me(e.getMinutes(),t,2)}function jV(e,t){return me(e.getSeconds(),t,2)}function PV(e){var t=e.getDay();return t===0?7:t}function NV(e,t){return me(dm.count(wi(e)-1,e),t,2)}function k2(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function RV(e,t){return e=k2(e),me(As.count(wi(e),e)+(wi(e).getDay()===4),t,2)}function DV(e){return e.getDay()}function IV(e,t){return me(Bf.count(wi(e)-1,e),t,2)}function LV(e,t){return me(e.getFullYear()%100,t,2)}function zV(e,t){return e=k2(e),me(e.getFullYear()%100,t,2)}function $V(e,t){return me(e.getFullYear()%1e4,t,4)}function UV(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),me(e.getFullYear()%1e4,t,4)}function BV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function ME(e,t){return me(e.getUTCDate(),t,2)}function VV(e,t){return me(e.getUTCHours(),t,2)}function HV(e,t){return me(e.getUTCHours()%12||12,t,2)}function WV(e,t){return me(1+um.count(Ei(e),e),t,3)}function j2(e,t){return me(e.getUTCMilliseconds(),t,3)}function qV(e,t){return j2(e,t)+"000"}function KV(e,t){return me(e.getUTCMonth()+1,t,2)}function YV(e,t){return me(e.getUTCMinutes(),t,2)}function GV(e,t){return me(e.getUTCSeconds(),t,2)}function FV(e){var t=e.getUTCDay();return t===0?7:t}function XV(e,t){return me(fm.count(Ei(e)-1,e),t,2)}function P2(e){var t=e.getUTCDay();return t>=4||t===0?Cs(e):Cs.ceil(e)}function QV(e,t){return e=P2(e),me(Cs.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function ZV(e){return e.getUTCDay()}function JV(e,t){return me(Vf.count(Ei(e)-1,e),t,2)}function eH(e,t){return me(e.getUTCFullYear()%100,t,2)}function tH(e,t){return e=P2(e),me(e.getUTCFullYear()%100,t,2)}function rH(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function nH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Cs(e):Cs.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function iH(){return"+0000"}function kE(){return"%"}function jE(e){return+e}function PE(e){return Math.floor(+e/1e3)}var So,N2,R2;aH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aH(e){return So=aV(e),N2=So.format,So.parse,R2=So.utcFormat,So.utcParse,So}function oH(e){return new Date(e)}function sH(e){return e instanceof Date?+e:+new Date(+e)}function Q0(e,t,r,n,i,a,o,s,l,c){var u=L0(),d=u.invert,f=u.domain,h=c(".%L"),v=c(":%S"),p=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),_=c("%B"),S=c("%Y");function w(E){return(l(E)<E?h:s(E)<E?v:o(E)<E?p:a(E)<E?x:n(E)<E?i(E)<E?g:b:r(E)<E?_:S)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?f(Array.from(E,sH)):f().map(oH)},u.ticks=function(E){var A=f();return e(A[0],A[A.length-1],E??10)},u.tickFormat=function(E,A){return A==null?w:c(A)},u.nice=function(E){var A=f();return(!E||typeof E.range!="function")&&(E=t(A[0],A[A.length-1],E??10)),E?f(x2(A,E)):u},u.copy=function(){return tu(u,Q0(e,t,r,n,i,a,o,s,l,c))},u}function lH(){return dn.apply(Q0(nV,iV,wi,F0,dm,ru,Y0,q0,$a,N2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cH(){return dn.apply(Q0(tV,rV,Ei,X0,fm,um,G0,K0,$a,R2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hm(){var e=0,t=1,r,n,i,a,o=ar,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(f){var h,v;return arguments.length?([h,v]=f,o=d(h,v),c):[o(0),o(1)]}}return c.range=u(Us),c.rangeRound=u(I0),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D2(){var e=_a(hm()(ar));return e.copy=function(){return Sa(e,D2())},ji.apply(e,arguments)}function I2(){var e=U0(hm()).domain([1,10]);return e.copy=function(){return Sa(e,I2()).base(e.base())},ji.apply(e,arguments)}function L2(){var e=B0(hm());return e.copy=function(){return Sa(e,L2()).constant(e.constant())},ji.apply(e,arguments)}function Z0(){var e=V0(hm());return e.copy=function(){return Sa(e,Z0()).exponent(e.exponent())},ji.apply(e,arguments)}function uH(){return Z0.apply(null,arguments).exponent(.5)}function z2(){var e=[],t=ar;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>F9(e,a/n))},r.copy=function(){return z2(t).domain(e)},ji.apply(r,arguments)}function mm(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,c=ar,u,d=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-a)*(n*p<n*a?s:l),c(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,i=u(e=+e),a=u(t=+t),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(c=p,h):c};function v(p){return function(x){var g,b,_;return arguments.length?([g,b,_]=x,c=S7(p,[g,b,_]),h):[c(0),c(.5),c(1)]}}return h.range=v(Us),h.rangeRound=v(I0),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return u=p,i=p(e),a=p(t),o=p(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,h}}function $2(){var e=_a(mm()(ar));return e.copy=function(){return Sa(e,$2())},ji.apply(e,arguments)}function U2(){var e=U0(mm()).domain([.1,1,10]);return e.copy=function(){return Sa(e,U2()).base(e.base())},ji.apply(e,arguments)}function B2(){var e=B0(mm());return e.copy=function(){return Sa(e,B2()).constant(e.constant())},ji.apply(e,arguments)}function J0(){var e=V0(mm());return e.copy=function(){return Sa(e,J0()).exponent(e.exponent())},ji.apply(e,arguments)}function dH(){return J0.apply(null,arguments).exponent(.5)}const El=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:N0,scaleDiverging:$2,scaleDivergingLog:U2,scaleDivergingPow:J0,scaleDivergingSqrt:dH,scaleDivergingSymlog:B2,scaleIdentity:b2,scaleImplicit:ly,scaleLinear:y2,scaleLog:_2,scaleOrdinal:P0,scalePoint:Z9,scalePow:H0,scaleQuantile:E2,scaleQuantize:A2,scaleRadial:w2,scaleSequential:D2,scaleSequentialLog:I2,scaleSequentialPow:Z0,scaleSequentialQuantile:z2,scaleSequentialSqrt:uH,scaleSequentialSymlog:L2,scaleSqrt:q7,scaleSymlog:S2,scaleThreshold:C2,scaleTime:lH,scaleUtc:cH,tickFormat:g2},Symbol.toStringTag,{value:"Module"}));var wa=e=>e.chartData,ex=j([wa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vm=(e,t,r,n)=>n?ex(e):wa(e);function fa(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Be(t)&&Be(r))return!0}return!1}function NE(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Be(r))i=r;else if(typeof r=="function")return;if(Be(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(fa(o))return o}}function fH(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fa(n))return NE(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(W(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&gw.test(i)){var l=gw.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(W(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&yw.test(a)){var u=yw.exec(a);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t==null?void 0:t[1];var f=[o,s];if(fa(f))return t==null?f:NE(f,t,r)}}}var Bs=1e9,hH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rx,qe=!0,cn="[DecimalError] ",Xa=cn+"Invalid argument: ",tx=cn+"Exponent out of range: ",Vs=Math.floor,Da=Math.pow,mH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr,Tt=1e7,Ie=7,H2=9007199254740991,Hf=Vs(H2/Ie),q={};q.absoluteValue=q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};q.comparedTo=q.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};q.decimalPlaces=q.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ie;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};q.dividedBy=q.div=function(e){return fi(this,new this.constructor(e))};q.dividedToIntegerBy=q.idiv=function(e){var t=this,r=t.constructor;return Te(fi(t,new r(e),0,1),r.precision)};q.equals=q.eq=function(e){return!this.cmp(e)};q.exponent=function(){return mt(this)};q.greaterThan=q.gt=function(e){return this.cmp(e)>0};q.greaterThanOrEqualTo=q.gte=function(e){return this.cmp(e)>=0};q.isInteger=q.isint=function(){return this.e>this.d.length-2};q.isNegative=q.isneg=function(){return this.s<0};q.isPositive=q.ispos=function(){return this.s>0};q.isZero=function(){return this.s===0};q.lessThan=q.lt=function(e){return this.cmp(e)<0};q.lessThanOrEqualTo=q.lte=function(e){return this.cmp(e)<1};q.logarithm=q.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jr))throw Error(cn+"NaN");if(r.s<1)throw Error(cn+(r.s?"NaN":"-Infinity"));return r.eq(jr)?new n(0):(qe=!1,t=fi(vc(r,a),vc(e,a),a),qe=!0,Te(t,i))};q.minus=q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?K2(t,e):W2(t,(e.s=-e.s,e))};q.modulo=q.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(cn+"NaN");return r.s?(qe=!1,t=fi(r,e,0,1).times(e),qe=!0,r.minus(t)):Te(new n(r),i)};q.naturalExponential=q.exp=function(){return q2(this)};q.naturalLogarithm=q.ln=function(){return vc(this)};q.negated=q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};q.plus=q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?W2(t,e):K2(t,(e.s=-e.s,e))};q.precision=q.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xa+e);if(t=mt(i)+1,n=i.d.length-1,r=n*Ie+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};q.squareRoot=q.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(cn+"NaN")}for(e=mt(s),qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Nn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(fi(s,a,o+2)).times(.5),Nn(a.d).slice(0,o)===(t=Nn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Te(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return qe=!0,Te(n,r)};q.times=q.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,l=f.length,c=h.length,l<c&&(a=f,f=h,h=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*f[i-n-1]+t,a[i--]=s%Tt|0,t=s/Tt|0;a[i]=(a[i]+t)%Tt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,qe?Te(e,d.precision):e};q.toDecimalPlaces=q.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:($n(e,0,Bs),t===void 0?t=n.rounding:$n(t,0,8),Te(r,e+mt(r)+1,t))};q.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=so(n,!0):($n(e,0,Bs),t===void 0?t=i.rounding:$n(t,0,8),n=Te(new i(n),e+1,t),r=so(n,!0,e+1)),r};q.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?so(i):($n(e,0,Bs),t===void 0?t=a.rounding:$n(t,0,8),n=Te(new a(i),e+mt(i)+1,t),r=so(n.abs(),!1,e+mt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};q.toInteger=q.toint=function(){var e=this,t=e.constructor;return Te(new t(e),mt(e)+1,t.rounding)};q.toNumber=function(){return+this};q.toPower=q.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(jr);if(s=new l(s),!s.s){if(e.s<1)throw Error(cn+"Infinity");return s}if(s.eq(jr))return s;if(n=l.precision,e.eq(jr))return Te(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=u<0?-u:u)<=H2){for(i=new l(jr),t=Math.ceil(n/Ie+4),qe=!1;r%2&&(i=i.times(s),DE(i.d,t)),r=Vs(r/2),r!==0;)s=s.times(s),DE(s.d,t);return qe=!0,e.s<0?new l(jr).div(i):Te(i,n)}}else if(a<0)throw Error(cn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,qe=!1,i=e.times(vc(s,n+c)),qe=!0,i=q2(i),i.s=a,i};q.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=mt(i),n=so(i,r<=a.toExpNeg||r>=a.toExpPos)):($n(e,1,Bs),t===void 0?t=a.rounding:$n(t,0,8),i=Te(new a(i),e,t),r=mt(i),n=so(i,e<=r||r<=a.toExpNeg,e)),n};q.toSignificantDigits=q.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):($n(e,1,Bs),t===void 0?t=n.rounding:$n(t,0,8)),Te(new n(r),e,t)};q.toString=q.valueOf=q.val=q.toJSON=q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mt(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function W2(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qe?Te(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/Ie),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Tt|0,l[a]%=Tt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,qe?Te(t,d):t}function $n(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xa+e)}function Nn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ie-n.length,r&&(a+=$i(r)),a+=n;o=e[t],n=o+"",r=Ie-n.length,r&&(a+=$i(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var fi=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Tt|0,o=a/Tt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Tt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,f,h,v,p,x,g,b,_,S,w,E,A,C,O=n.constructor,P=n.s==i.s?1:-1,k=n.d,N=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(cn+"Division by zero");for(l=n.e-i.e,A=N.length,w=k.length,h=new O(P),v=h.d=[],c=0;N[c]==(k[c]||0);)++c;if(N[c]>(k[c]||0)&&--l,a==null?b=a=O.precision:o?b=a+(mt(n)-mt(i))+1:b=a,b<0)return new O(0);if(b=b/Ie+2|0,c=0,A==1)for(u=0,N=N[0],b++;(c<w||u)&&b--;c++)_=u*Tt+(k[c]||0),v[c]=_/N|0,u=_%N|0;else{for(u=Tt/(N[0]+1)|0,u>1&&(N=e(N,u),k=e(k,u),A=N.length,w=k.length),S=A,p=k.slice(0,A),x=p.length;x<A;)p[x++]=0;C=N.slice(),C.unshift(0),E=N[0],N[1]>=Tt/2&&++E;do u=0,s=t(N,p,A,x),s<0?(g=p[0],A!=x&&(g=g*Tt+(p[1]||0)),u=g/E|0,u>1?(u>=Tt&&(u=Tt-1),d=e(N,u),f=d.length,x=p.length,s=t(d,p,f,x),s==1&&(u--,r(d,A<f?C:N,f))):(u==0&&(s=u=1),d=N.slice()),f=d.length,f<x&&d.unshift(0),r(p,d,x),s==-1&&(x=p.length,s=t(N,p,A,x),s<1&&(u++,r(p,A<x?C:N,x))),x=p.length):s===0&&(u++,p=[0]),v[c++]=u,s&&p[0]?p[x++]=k[S]||0:(p=[k[S]],x=1);while((S++<w||p[0]!==void 0)&&b--)}return v[0]||v.shift(),h.e=l,Te(h,o?a+mt(h)+1:a)}}();function q2(e,t){var r,n,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(mt(e)>16)throw Error(tx+mt(e));if(!e.s)return new u(jr);for(qe=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(n=Math.log(Da(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(jr),u.precision=s;;){if(i=Te(i.times(e),s),r=r.times(++l),o=a.plus(fi(i,r,s)),Nn(o.d).slice(0,s)===Nn(a.d).slice(0,s)){for(;c--;)a=Te(a.times(a),s);return u.precision=d,t==null?(qe=!0,Te(a,d)):a}a=o}}function mt(e){for(var t=e.e*Ie,r=e.d[0];r>=10;r/=10)t++;return t}function hp(e,t,r){if(t>e.LN10.sd())throw qe=!0,r&&(e.precision=r),Error(cn+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function $i(e){for(var t="";e--;)t+="0";return t}function vc(e,t){var r,n,i,a,o,s,l,c,u,d=1,f=10,h=e,v=h.d,p=h.constructor,x=p.precision;if(h.s<1)throw Error(cn+(h.s?"NaN":"-Infinity"));if(h.eq(jr))return new p(0);if(t==null?(qe=!1,c=x):c=t,h.eq(10))return t==null&&(qe=!0),hp(p,c);if(c+=f,p.precision=c,r=Nn(v),n=r.charAt(0),a=mt(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Nn(h.d),n=r.charAt(0),d++;a=mt(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1))}else return l=hp(p,c+2,x).times(a+""),h=vc(new p(n+"."+r.slice(1)),c-f).plus(l),p.precision=x,t==null?(qe=!0,Te(h,x)):h;for(s=o=h=fi(h.minus(jr),h.plus(jr),c),u=Te(h.times(h),c),i=3;;){if(o=Te(o.times(u),c),l=s.plus(fi(o,new p(i),c)),Nn(l.d).slice(0,c)===Nn(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(hp(p,c+2,x).times(a+""))),s=fi(s,new p(d),c),p.precision=x,t==null?(qe=!0,Te(s,x)):s;s=l,i+=2}}function RE(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Vs(r/Ie),e.d=[],n=(r+1)%Ie,r<0&&(n+=Ie),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ie;n<i;)e.d.push(+t.slice(n,n+=Ie));t=t.slice(n),n=Ie-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),qe&&(e.e>Hf||e.e<-Hf))throw Error(tx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ie,i=t,c=d[u=0];else{if(u=Math.ceil((n+1)/Ie),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=Ie,i=n-Ie+o}if(r!==void 0&&(a=Da(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/Da(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=mt(e),d.length=1,t=t-a-1,d[0]=Da(10,(Ie-t%Ie)%Ie),e.e=Vs(-t/Ie)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=Da(10,Ie-n),d[u]=i>0?(c/Da(10,o-i)%Da(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==Tt&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=Tt)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(qe&&(e.e>Hf||e.e<-Hf))throw Error(tx+mt(e));return e}function K2(e,t){var r,n,i,a,o,s,l,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),qe?Te(t,h):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(h/Ie),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Tt-1;--l[a],l[i]+=Tt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,qe?Te(t,h):t):new f(0)}function so(e,t,r){var n,i=mt(e),a=Nn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+$i(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$i(-i-1)+a,r&&(n=r-o)>0&&(a+=$i(n))):i>=o?(a+=$i(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+$i(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=$i(n))),e.s<0?"-"+a:a}function DE(e,t){if(e.length>t)return e.length=t,!0}function Y2(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return RE(o,a.toString())}else if(typeof a!="string")throw Error(Xa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,mH.test(a))RE(o,a);else throw Error(Xa+a)}if(i.prototype=q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y2,i.config=i.set=vH,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function vH(e){if(!e||typeof e!="object")throw Error(cn+"Object expected");var t,r,n,i=["precision",1,Bs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Vs(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Xa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xa+r+": "+n);return this}var rx=Y2(hH);jr=new rx(1);const _e=rx;var pH=e=>e,G2={},F2=e=>e===G2,IE=e=>function t(){return arguments.length===0||arguments.length===1&&F2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},X2=(e,t)=>e===1?t:IE(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==G2).length;return a>=e?t(...n):X2(e-a,IE(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=n.map(u=>F2(u)?s.shift():u);return t(...c,...s)}))}),gH=e=>X2(e.length,e),fy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yH=gH((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),bH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pH;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},hy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function Q2(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function Z2(e,t,r){for(var n=new _e(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var J2=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},eP=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=Q2(e.toNumber()),i=new _e(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new _e(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new _e(l.toNumber()):new _e(Math.ceil(l.toNumber()))},xH=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new _e(10).pow(Q2(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var o=Math.floor((t-1)/2),s=bH(yH(l=>i.add(new _e(l-o).mul(n)).toNumber()),fy);return s(0,t)},tP=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var o=eP(new _e(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new _e(0):(s=new _e(t).add(r).div(2),s=s.sub(new _e(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new _e(r).sub(s).div(o).toNumber()),u=l+c+1;return u>n?tP(t,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:o,tickMin:s.sub(new _e(l).mul(o)),tickMax:s.add(new _e(c).mul(o))})},_H=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=J2([r,n]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...fy(0,i-1).map(()=>1/0)]:[...fy(0,i-1).map(()=>-1/0),l];return r>n?hy(c):c}if(s===l)return xH(s,i,a);var{step:u,tickMin:d,tickMax:f}=tP(s,l,o,a,0),h=Z2(d,f.add(new _e(.1).mul(u)),u);return r>n?hy(h):h},SH=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=J2([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),c=eP(new _e(s).sub(o).div(l-1),a,0),u=[...Z2(new _e(o),new _e(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),n>i?hy(u):u},rP=e=>e.rootProps.maxBarSize,wH=e=>e.rootProps.barGap,nP=e=>e.rootProps.barCategoryGap,EH=e=>e.rootProps.barSize,nu=e=>e.rootProps.stackOffset,iP=e=>e.rootProps.reverseStackOrder,nx=e=>e.options.chartName,ix=e=>e.rootProps.syncId,aP=e=>e.rootProps.syncMethod,ax=e=>e.options.eventEmitter,AH=e=>e.rootProps.baseValue,ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ti={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},pm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},CH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:ti.type,unit:void 0},OH={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:Tr.type,unit:void 0},TH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ti.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ti.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ti.scale,tick:ti.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MH={allowDataOverflow:Tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tr.scale,tick:Tr.tick,tickCount:Tr.tickCount,ticks:void 0,type:"category",unit:void 0},ox=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?TH:CH,sx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MH:OH,gm=e=>e.polarOptions,lx=j([Mi,ki,_t],e2),oP=j([gm,lx],(e,t)=>{if(e!=null)return Zt(e.innerRadius,t,0)}),sP=j([gm,lx],(e,t)=>{if(e!=null)return Zt(e.outerRadius,t,t*.8)}),kH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},lP=j([gm],kH);j([ox,lP],pm);var cP=j([lx,oP,sP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});j([sx,cP],pm);var uP=j([fe,gm,oP,sP,Mi,ki],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Zt(o,i,i/2),cy:Zt(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Ye=(e,t)=>t,iu=(e,t,r)=>r;function ym(e){return e==null?void 0:e.id}function dP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=ym(s);c.forEach((d,f)=>{var h=a==null||i?f:String(Oe(d,a,null)),v=Oe(d,s.dataKey,0),p;o.has(h)?p=o.get(h):p={},Object.assign(p,{[u]:v}),o.set(h,p)})}}),Array.from(o.values())}function bm(e){return e.stackId!=null&&e.dataKey!=null}var xm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function _m(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wt=e=>{var t=fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hs=e=>e.tooltip.settings.axisId;function LE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LE(Object(r),!0).forEach(function(n){PH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=[0,"auto"],Ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fP=(e,t)=>e.cartesianAxis.xAxis[t],Pi=(e,t)=>{var r=fP(e,t);return r??Ct},Ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:my,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fc},hP=(e,t)=>e.cartesianAxis.yAxis[t],Ni=(e,t)=>{var r=hP(e,t);return r??Ot},DH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},cx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??DH},Xe=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ni(e,r);case"zAxis":return cx(e,r);case"angleAxis":return ox(e,r);case"radiusAxis":return sx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},IH=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ni(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},au=(e,t,r)=>{switch(t){case"xAxis":return Pi(e,r);case"yAxis":return Ni(e,r);case"angleAxis":return ox(e,r);case"radiusAxis":return sx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ux(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Sm=e=>e.graphicalItems.cartesianItems,LH=j([Ye,iu],ux),dx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ou=j([Sm,Xe,LH],dx,{memoizeOptions:{resultEqualityCheck:_m}}),vP=j([ou],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(bm)),pP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zH=j([ou],pP),fx=e=>e.map(t=>t.data).filter(Boolean).flat(1),$H=j([ou],fx,{memoizeOptions:{resultEqualityCheck:_m}}),hx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},mx=j([$H,vm],hx),vx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Oe(i,n)}))):e.map(n=>({value:n})),wm=j([mx,Xe,ou],vx);function gP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cd(e){if(In(e)||e instanceof Date){var t=Number(e);if(Be(t))return t}}function zE(e){if(Array.isArray(e)){var t=[Cd(e[0]),Cd(e[1])];return fa(t)?t:void 0}var r=Cd(e);if(r!=null)return[r,r]}function Ai(e){return e.map(Cd).filter(x6)}function UH(e,t,r){return!r||typeof t!="number"||sn(t)?[]:r.length?Ai(r.flatMap(n=>{var i=Oe(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Be(a)||!Be(o)))return[t-a,t+o]})):[]}var Et=e=>{var t=wt(e),r=Hs(e);return au(e,t,r)},su=j([Et],e=>e==null?void 0:e.dataKey),BH=j([vP,vm,Et],dP),yP=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,c=n?[...l].reverse():l,u=c.map(ym);return[s,{stackedData:MU(e,u,r),graphicalItems:c}]}))},pc=j([BH,vP,nu,iP],yP),bP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=NU(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},VH=j([Xe],e=>e.allowDataOverflow),px=e=>{var t;if(e==null||!("domain"in e))return my;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ai(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:my},gx=j([Xe],px),yx=j([gx,VH],V2),HH=j([pc,wa,Ye,yx],bP,{memoizeOptions:{resultEqualityCheck:xm}}),Em=e=>e.errorBars,WH=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>gP(r,n)),qf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},bx=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var c,u,d=(c=n[l.id])===null||c===void 0?void 0:c.filter(g=>gP(i,g)),f=Oe(s,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),h=UH(s,f,d);if(h.length>=2){var v=Math.min(...h),p=Math.max(...h);(a==null||v<a)&&(a=v),(o==null||p>o)&&(o=p)}var x=zE(f);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=zE(Oe(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Be(a)&&Be(o))return[a,o]},qH=j([mx,Xe,zH,Em,Ye],bx,{memoizeOptions:{resultEqualityCheck:xm}});function KH(e){var{value:t}=e;if(In(t)||t instanceof Date)return t}var YH=(e,t,r)=>{var n=e.map(KH).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&hk(n))?s2(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xP=e=>e.referenceElements.dots,Ws=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),GH=j([xP,Ye,iu],Ws),_P=e=>e.referenceElements.areas,FH=j([_P,Ye,iu],Ws),SP=e=>e.referenceElements.lines,XH=j([SP,Ye,iu],Ws),wP=(e,t)=>{var r=Ai(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},QH=j(GH,Ye,wP),EP=(e,t)=>{var r=Ai(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZH=j([FH,Ye],EP);function JH(e){var t;if(e.x!=null)return Ai([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ai(r)}function eW(e){var t;if(e.y!=null)return Ai([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ai(r)}var AP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?JH(n):eW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tW=j([XH,Ye],AP),rW=j(QH,tW,ZH,(e,t,r)=>qf(e,r,t)),xx=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?qf(n,a,i):qf(a,i);return fH(t,c,e.allowDataOverflow)},nW=j([Xe,gx,yx,HH,qH,rW,fe,Ye],xx,{memoizeOptions:{resultEqualityCheck:xm}}),iW=[0,1],_x=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=Ti(t,a);if(c&&s==null){var u;return s2(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return l==="category"?YH(n,e,c):i==="expand"?iW:o}},Sx=j([Xe,fe,mx,wm,nu,Ye,nW],_x),CP=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Wc(a));return s in El?s:"point"}}},qs=j([Xe,fe,mP,nx,Ye],CP);function aW(e){if(e!=null){if(e in El)return El[e]();var t="scale".concat(Wc(e));if(t in El)return El[t]()}}function wx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=aW(t);if(i!=null){var a=i.domain(r).range(n);return EU(a),a}}}var Ex=(e,t,r)=>{var n=px(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fa(e))return _H(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fa(e))return SH(e,t.tickCount,t.allowDecimals)}},Ax=j([Sx,au,qs],Ex),Cx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fa(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},oW=j([Xe,Sx,Ax,Ye],Cx),sW=j(wm,Xe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ai(e.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),OP=j(sW,fe,nP,_t,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Be(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Zt(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),lW=(e,t)=>{var r=Pi(e,t);return r==null||typeof r.padding!="string"?0:OP(e,"xAxis",t,r.padding)},cW=(e,t)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:OP(e,"yAxis",t,r.padding)},uW=j(Pi,lW,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),dW=j(Ni,cW,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),fW=j([_t,uW,nm,rm,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),hW=j([_t,fe,dW,nm,rm,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lu=(e,t,r,n)=>{var i;switch(t){case"xAxis":return fW(e,r,n);case"yAxis":return hW(e,r,n);case"zAxis":return(i=cx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return lP(e);case"radiusAxis":return cP(e,r);default:return}},TP=j([Xe,lu],pm),Ks=j([Xe,qs,oW,TP],wx);j([ou,Em,Ye],WH);function MP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Am=(e,t)=>t,Cm=(e,t,r)=>r,mW=j(em,Am,Cm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MP)),vW=j(tm,Am,Cm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(MP)),kP=(e,t)=>({width:e.width,height:t.height}),pW=(e,t)=>{var r=typeof t.width=="number"?t.width:Fc;return{width:r,height:e.height}},jP=j(_t,Pi,kP),gW=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yW=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},bW=j(ki,_t,mW,Am,Cm,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=kP(t,s);o==null&&(o=gW(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),xW=j(Mi,_t,vW,Am,Cm,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=pW(t,s);o==null&&(o=yW(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),_W=(e,t)=>{var r=Pi(e,t);if(r!=null)return bW(e,r.orientation,r.mirror)},SW=j([_t,Pi,_W,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),wW=(e,t)=>{var r=Ni(e,t);if(r!=null)return xW(e,r.orientation,r.mirror)},EW=j([_t,Ni,wW,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),PP=j(_t,Ni,(e,t)=>{var r=typeof t.width=="number"?t.width:Fc;return{width:r,height:e.height}}),$E=(e,t,r)=>{switch(t){case"xAxis":return jP(e,r).width;case"yAxis":return PP(e,r).height;default:return}},NP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=Ti(e,n),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&hk(l))return l}},Ox=j([fe,wm,Xe,Ye],NP),RP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Ti(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},Tx=j([fe,wm,au,Ye],RP),UE=j([fe,IH,qs,Ks,Ox,Tx,lu,Ax,Ye],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var c=Ti(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}}),AW=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var c=Ti(e,l),{type:u,ticks:d,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=u==="category"&&n.bandwidth?n.bandwidth()/h:0;v=l==="angleAxis"&&a!=null&&a.length>=2?jt(a[0]-a[1])*2*v:v;var p=d||i;if(p){var x=p.map((g,b)=>{var _=o?o.indexOf(g):g;return{index:b,coordinate:n(_)+v,value:g,offset:v}});return x.filter(g=>Be(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:n(g)+v,value:g,index:b,offset:v})).filter(g=>Be(g.coordinate)):n.ticks?n.ticks(f).map(g=>({coordinate:n(g)+v,value:g,offset:v})):n.domain().map((g,b)=>({coordinate:n(g)+v,value:o?o[g]:g,index:b,offset:v}))}},DP=j([fe,au,qs,Ks,Ax,lu,Ox,Tx,Ye],AW),CW=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Ti(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?jt(n[0]-n[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},ha=j([fe,au,Ks,lu,Ox,Tx,Ye],CW),ma=j(Xe,Ks,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})}),OW=j([Xe,qs,Sx,TP],wx);j((e,t,r)=>cx(e,r),OW,(e,t)=>{if(!(e==null||t==null))return Wf(Wf({},e),{},{scale:t})});var TW=j([fe,em,tm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IP=e=>e.options.defaultTooltipEventType,LP=e=>e.options.validateTooltipEventTypes;function zP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Mx(e,t){var r=IP(e),n=LP(e);return zP(t,r,n)}function MW(e){return K(t=>Mx(t,e))}var $P=(e,t)=>{var r,n=Number(t);if(!(sn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kW=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,coordinate:void 0},jW={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UP=Sr({name:"tooltip",initialState:jW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:We()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=bn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:We()},removeTooltipEntrySettings:{reducer(e,t){var r=bn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:We()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:PW,replaceTooltipEntrySettings:NW,removeTooltipEntrySettings:RW,setTooltipSettingsState:DW,setActiveMouseOverItemIndex:BP,mouseLeaveItem:IW,mouseLeaveChart:VP,setActiveClickItemIndex:LW,setMouseOverAxisIndex:HP,setMouseClickAxisIndex:zW,setSyncInteraction:vy,setKeyboardInteraction:py}=UP.actions,$W=UP.reducer;function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){UW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WW(e){return e.index!=null}var WP=(e,t,r,n)=>{if(t==null)return qi;var i=HW(e,t,r);if(i==null)return qi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(WW(i)){if(a)return nd(nd({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return nd(nd({},qi),{},{coordinate:i.coordinate})};function qW(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function KW(e,t){var r=qW(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function YW(e,t,r){if(r==null||t==null)return!0;var n=Oe(e,t);return n==null||!fa(r)?!0:KW(n,r)}var kx=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Be(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),c=t[l];return c==null||YW(c,r,n)?String(l):null},qP=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},KP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},cu=e=>e.options.tooltipPayloadSearcher,Ys=e=>e.tooltip;function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return(t=FW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t){return e??t}var YP=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return e.reduce((f,h)=>{var v,{dataDefinedOnItem:p,settings:x}=h,g=QW(p,s),b=Array.isArray(g)?_j(g,c,u):g,_=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,S=x==null?void 0:x.nameKey,w;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?w=mk(b,n,i):w=a(b,t,l,S),Array.isArray(w))w.forEach(A=>{var C=HE(HE({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});f.push(bw({tooltipEntrySettings:C,dataKey:A.dataKey,payload:A.payload,value:Oe(A.payload,A.dataKey),name:A.name}))});else{var E;f.push(bw({tooltipEntrySettings:x,dataKey:_,payload:w,value:Oe(w,_),name:(E=Oe(w,S))!==null&&E!==void 0?E:x==null?void 0:x.name}))}return f},d)}},jx=j([Et,fe,mP,nx,wt],CP),ZW=j([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JW=j([wt,Hs],ux),uu=j([ZW,Et,JW],dx,{memoizeOptions:{resultEqualityCheck:_m}}),eq=j([uu],e=>e.filter(bm)),tq=j([uu],fx,{memoizeOptions:{resultEqualityCheck:_m}}),Gs=j([tq,wa],hx),rq=j([eq,wa,Et],dP),Px=j([Gs,Et,uu],vx),GP=j([Et],px),nq=j([Et],e=>e.allowDataOverflow),FP=j([GP,nq],V2),iq=j([uu],e=>e.filter(bm)),aq=j([rq,iq,nu,iP],yP),oq=j([aq,wa,wt,FP],bP),sq=j([uu],pP),lq=j([Gs,Et,sq,Em,wt],bx,{memoizeOptions:{resultEqualityCheck:xm}}),cq=j([xP,wt,Hs],Ws),uq=j([cq,wt],wP),dq=j([_P,wt,Hs],Ws),fq=j([dq,wt],EP),hq=j([SP,wt,Hs],Ws),mq=j([hq,wt],AP),vq=j([uq,mq,fq],qf),pq=j([Et,GP,FP,oq,lq,vq,fe,wt],xx),du=j([Et,fe,Gs,Px,nu,wt,pq],_x),gq=j([du,Et,jx],Ex),yq=j([Et,du,gq,wt],Cx),XP=e=>{var t=wt(e),r=Hs(e),n=!1;return lu(e,t,r,n)},QP=j([Et,XP],pm),ZP=j([Et,jx,yq,QP],wx),bq=j([fe,Px,Et,wt],NP),xq=j([fe,Px,Et,wt],RP),_q=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=Ti(e,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jt(i[0]-i[1])*2*d:d,c&&o?o.map((f,h)=>({coordinate:n(f)+d,value:f,index:h,offset:d})):n.domain().map((f,h)=>({coordinate:n(f)+d,value:a?a[f]:f,index:h,offset:d}))}}},Ri=j([fe,Et,jx,ZP,XP,bq,xq,wt],_q),Nx=j([IP,LP,kW],(e,t,r)=>zP(r.shared,e,t)),JP=e=>e.tooltip.settings.trigger,Rx=e=>e.tooltip.settings.defaultIndex,Om=j([Ys,Nx,JP,Rx],WP),va=j([Om,Gs,su,du],kx),eN=j([Ri,va],$P),tN=j([Om],e=>{if(e)return e.dataKey}),rN=j([Ys,Nx,JP,Rx],KP),Sq=j([Mi,ki,fe,_t,Ri,Rx,rN,cu],qP),wq=j([Om,Sq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Eq=j([Om],e=>e.active),Aq=j([rN,va,wa,su,eN,cu,Nx],YP),Cq=j([Aq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kq=()=>K(Et),jq=()=>{var e=kq(),t=K(Ri),r=K(ZP);return Ss(!e||!r?void 0:qE(qE({},e),{},{scale:r}),t)};function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dq=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Iq=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return wo(wo(wo({},n),ft(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return wo(wo(wo({},n),ft(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lq(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var nN=(e,t,r,n,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(jt(u-c)!==jt(d-u)){var h=[];if(jt(d-u)===jt(i[1]-i[0])){f=d;var v=u+i[1]-i[0];h[0]=Math.min(v,(v+c)/2),h[1]=Math.max(v,(v+c)/2)}else{f=c;var p=d+i[1]-i[0];h[0]=Math.min(u,(p+u)/2),h[1]=Math.max(u,(p+u)/2)}var x=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){({index:o}=r[l]);break}}else{var g=Math.min(c,d),b=Math.max(c,d);if(e>(g+u)/2&&e<=(b+u)/2){({index:o}=r[l]);break}}}else if(t){for(var _=0;_<s;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<s-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===s-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:o}=t[_]);break}}return o},iN=()=>K(nx),Dx=(e,t)=>t,aN=(e,t,r)=>r,Ix=(e,t,r,n)=>n,zq=j(Ri,e=>qh(e,t=>t.coordinate)),Lx=j([Ys,Dx,aN,Ix],WP),zx=j([Lx,Gs,su,du],kx),$q=(e,t,r)=>{if(t!=null){var n=Ys(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},oN=j([Ys,Dx,aN,Ix],KP),Kf=j([Mi,ki,fe,_t,Ri,Ix,oN,cu],qP),Uq=j([Lx,Kf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),sN=j([Ri,zx],$P),Bq=j([oN,zx,wa,su,sN,cu,Dx],YP),Vq=j([Lx,zx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Hq=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&Lq(e,o)){var s=RU(e,t),l=nN(s,a,i,r,n),c=Dq(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},Wq=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=P9(e,r);if(s){var l=DU(s,t),c=nN(l,o,a,n,i),u=Iq(t,a,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},qq=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Hq(e,t,n,i,a,o,s):Wq(e,t,r,n,i,a,o)},Kq=j(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Yq=j(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ht)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:jH}});function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qq={},Zq={zIndexMap:Object.values(ht).reduce((e,t)=>GE(GE({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Qq)},Jq=new Set(Object.values(ht));function eK(e){return Jq.has(e)}var lN=Sr({name:"zIndex",initialState:Zq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:We()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!eK(r)&&delete e.zIndexMap[r])},prepare:We()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:We()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:We()}}}),{registerZIndexPortal:tK,unregisterZIndexPortal:rK,registerZIndexPortalId:nK,unregisterZIndexPortalId:iK}=lN.actions,aK=lN.reducer;function wr(e){var{zIndex:t,children:r}=e,n=lB(),i=n&&t!==void 0&&t!==0,a=Jt(),o=Ke();y.useLayoutEffect(()=>i?(o(tK({zIndex:t})),()=>{o(rK({zIndex:t}))}):qc,[o,t,i]);var s=K(c=>Kq(c,t,a));if(!i)return r;if(!s)return null;var l=document.getElementById(s);return l?tb.createPortal(r,l):null}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function uK(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=r,f=n,h=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var v,p,x;if(u==="ScatterChart")v=d,p=GB,x=ht.cursorLine;else if(u==="BarChart")v=FB(s,d,a,o),p=Jj,x=ht.cursorRectangle;else if(s==="radial"&&gk(d)){var{cx:g,cy:b,radius:_,startAngle:S,endAngle:w}=t2(d);v={cx:g,cy:b,startAngle:S,endAngle:w,innerRadius:_,outerRadius:_},p=n2,x=ht.cursorLine}else v={points:I9(s,d,a)},p=is,x=ht.cursorLine;var E=typeof l=="object"&&"className"in l?l.className:void 0,A=id(id(id(id({stroke:"#ccc",pointerEvents:"none"},a),v),no(l)),{},{payload:f,payloadIndex:h,className:ge("recharts-tooltip-cursor",E)});return y.createElement(wr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement(cK,{cursor:l,cursorComp:p,cursorProps:A}))}function dK(e){var t=jq(),r=Dj(),n=$s(),i=iN();return t==null||r==null||n==null||i==null?null:y.createElement(uK,gy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var cN=y.createContext(null),fK=()=>y.useContext(cN),uN={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),v=r?r+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],h]:l._events[v].push(h):(l._events[v]=h,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,v=new Array(h);f<h;f++)v[f]=d[f].fn;return v},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,f,h,v){var p=r?r+c:c;if(!this._events[p])return!1;var x=this._events[p],g=arguments.length,b,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,f),!0;case 5:return x.fn.call(x.context,u,d,f,h),!0;case 6:return x.fn.call(x.context,u,d,f,h,v),!0}for(_=1,b=new Array(g-1);_<g;_++)b[_-1]=arguments[_];x.fn.apply(x.context,b)}else{var S=x.length,w;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),g){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,d);break;case 4:x[_].fn.call(x[_].context,u,d,f);break;default:if(!b)for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];x[_].fn.apply(x[_].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,f){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var v=this._events[h];if(v.fn)v.fn===u&&(!f||v.once)&&(!d||v.context===d)&&o(this,h);else{for(var p=0,x=[],g=v.length;p<g;p++)(v[p].fn!==u||f&&!v[p].once||d&&v[p].context!==d)&&x.push(v[p]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(uN);var hK=uN.exports;const Di=un(hK);var gc=new Di,yy="recharts.syncEvent.tooltip",XE="recharts.syncEvent.brush";function $x(e,t){if(t){var r=Number.parseInt(t,10);if(!sn(r))return e==null?void 0:e[r]}}var mK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dN=Sr({name:"options",initialState:mK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vK=dN.reducer,{createEventEmitter:pK}=dN.actions;function gK(e){return e.tooltip.syncInteraction}var yK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fN=Sr({name:"chartData",initialState:yK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:QE,setDataStartEndIndexes:bK,setComputedData:wue}=fN.actions,xK=fN.reducer,_K=["x","y"];function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){SK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AK(e,t){if(e==null)return{};var r,n,i=CK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OK(){var e=K(ix),t=K(ax),r=Ke(),n=K(aP),i=K(Ri),a=$s(),o=im(),s=K(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return qc;var l=(c,u,d)=>{if(t!==d&&e===c){if(n==="index"){var f;if(o&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate&&u.payload.sourceViewBox){var h=u.payload.coordinate,{x:v,y:p}=h,x=AK(h,_K),{x:g,y:b,width:_,height:S}=u.payload.sourceViewBox,w=Eo(Eo({},x),{},{x:o.x+(_?(v-g)/_:0)*o.width,y:o.y+(S?(p-b)/S:0)*o.height});r(Eo(Eo({},u),{},{payload:Eo(Eo({},u.payload),{},{coordinate:w})}))}else r(u);return}if(i!=null){var E;if(typeof n=="function"){var A={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(i,A);E=i[C]}else n==="value"&&(E=i.find(R=>String(R.value)===u.payload.label));var{coordinate:O}=u.payload;if(E==null||u.payload.active===!1||O==null||o==null){r(vy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:P,y:k}=O,N=Math.min(P,o.x+o.width),V=Math.min(k,o.y+o.height),H={x:a==="horizontal"?E.coordinate:N,y:a==="horizontal"?V:E.coordinate},$=vy({active:u.payload.active,coordinate:H,dataKey:u.payload.dataKey,index:String(E.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});r($)}}};return gc.on(yy,l),()=>{gc.off(yy,l)}},[s,r,t,e,n,i,a,o])}function TK(){var e=K(ix),t=K(ax),r=Ke();y.useEffect(()=>{if(e==null)return qc;var n=(i,a,o)=>{t!==o&&e===i&&r(bK(a))};return gc.on(XE,n),()=>{gc.off(XE,n)}},[r,t,e])}function MK(){var e=Ke();y.useEffect(()=>{e(pK())},[e]),OK(),TK()}function kK(e,t,r,n,i,a){var o=K(h=>$q(h,e,t)),s=K(ax),l=K(ix),c=K(aP),u=K(gK),d=u==null?void 0:u.active,f=im();y.useEffect(()=>{if(!d&&l!=null&&s!=null){var h=vy({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:f});gc.emit(yy,l,h,s)}},[d,r,o,i,n,s,l,c,a,f])}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=PK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RK(e){return e.dataKey}function DK(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(CB,t)}var tA=[],IK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function by(e){var t,r,n=Nt(e,IK),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:f,position:h,reverseDirection:v,useTranslate3d:p,wrapperStyle:x,cursor:g,shared:b,trigger:_,defaultIndex:S,portal:w,axisId:E}=n,A=Ke(),C=typeof S=="number"?String(S):S;y.useEffect(()=>{A(DW({shared:b,trigger:_,axisId:E,active:i,defaultIndex:C}))},[A,b,_,E,i,C]);var O=im(),P=Gj(),k=MW(b),{activeIndex:N,isActive:V}=(t=K(At=>Vq(At,k,_,C)))!==null&&t!==void 0?t:{},H=K(At=>Bq(At,k,_,C)),$=K(At=>sN(At,k,_,C)),R=K(At=>Uq(At,k,_,C)),M=H,T=fK(),B=(r=i??V)!==null&&r!==void 0?r:!1,[ee,Ve]=b8([M,B]),vt=k==="axis"?$:void 0;kK(k,_,R,vt,N,B);var Dt=w??T;if(Dt==null||O==null||k==null)return null;var Ge=M??tA;B||(Ge=tA),c&&Ge.length&&(Ge=L6(Ge.filter(At=>At.value!=null&&(At.hide!==!0||n.includeHidden)),f,RK));var Cr=Ge.length>0,Ca=y.createElement(NB,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:u,active:B,coordinate:R,hasPayload:Cr,offset:d,position:h,reverseDirection:v,useTranslate3d:p,viewBox:O,wrapperStyle:x,lastBoundingBox:ee,innerRef:Ve,hasPortalFromProps:!!w},DK(l,eA(eA({},n),{},{payload:Ge,label:vt,active:B,activeIndex:N,coordinate:R,accessibilityLayer:P})));return y.createElement(y.Fragment,null,tb.createPortal(Ca,Dt),B&&y.createElement(dK,{cursor:g,tooltipEventType:k,coordinate:R,payload:Ge,index:N}))}var fu=e=>null;fu.displayName="Cell";function LK(e,t,r){return(t=zK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class UK{constructor(t){LK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){VK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VK(e,t,r){return(t=HK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qK={cacheSize:2e3,enableCache:!0},hN=BK({},qK),nA=new UK(hN.cacheSize),KK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iA="recharts_measurement_span";function YK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var aA=(e,t)=>{try{var r=document.getElementById(iA);r||(r=document.createElement("span"),r.setAttribute("id",iA),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,KK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ul=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xa.isSsr)return{width:0,height:0};if(!hN.enableCache)return aA(t,r);var n=YK(t,r),i=nA.get(n);if(i)return i;var a=aA(t,r);return nA.set(n,a),a},oA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XK=Object.keys(mN),Wo="NaN";function QK(e,t){return e*mN[t]}class vr{static parse(t){var r,[,n,i]=(r=FK.exec(t))!==null&&r!==void 0?r:[];return new vr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,sn(t)&&(this.unit=""),r!==""&&!GK.test(r)&&(this.num=NaN,this.unit=""),XK.includes(r)&&(this.num=QK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vr(NaN,""):new vr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vr(NaN,""):new vr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return sn(this.num)}}function vN(e){if(e.includes(Wo))return Wo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=oA.exec(t))!==null&&r!==void 0?r:[],o=vr.parse(n??""),s=vr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Wo;t=t.replace(oA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,f]=(c=sA.exec(t))!==null&&c!==void 0?c:[],h=vr.parse(u??""),v=vr.parse(f??""),p=d==="+"?h.add(v):h.subtract(v);if(p.isNaN())return Wo;t=t.replace(sA,p.toString())}return t}var lA=/\(([^()]*)\)/;function ZK(e){for(var t=e,r;(r=lA.exec(t))!=null;){var[,n]=r;t=t.replace(lA,vN(n))}return t}function JK(e){var t=e.replace(/\s+/g,"");return t=ZK(t),t=vN(t),t}function eY(e){try{return JK(e)}catch{return Wo}}function mp(e){var t=eY(e.slice(5,-1));return t===Wo?"":t}var tY=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rY=["dx","dy","angle","className","breakAll"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function cA(e,t){if(e==null)return{};var r,n,i=nY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pN=/[ \f\n\r\t\v\u2028\u2029]+/,gN=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Fe(t)||(r?i=t.toString().split(""):i=t.toString().split(pN));var a=i.map(s=>({word:s,width:Ul(s,n).width})),o=r?0:Ul("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function iY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var yN=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var c={words:[o],width:s};i.push(c)}return i},[]),bN=e=>e.reduce((t,r)=>t.width>r.width?t:r),aY="",uA=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),c=gN({breakAll:r,style:n,children:l+aY});if(!c)return[!1,[]];var u=yN(c.wordsWithComputedWidth,a,o,s),d=u.length>i||bN(u).width>Number(a);return[d,u]},oY=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=W(a),u=String(o),d=yN(t,n,r,i);if(!c||i)return d;var f=d.length>a||bN(d).width>Number(n);if(!f)return d;for(var h=0,v=u.length-1,p=0,x;h<=v&&p<=u.length-1;){var g=Math.floor((h+v)/2),b=g-1,[_,S]=uA(u,b,l,s,a,n,r,i),[w]=uA(u,g,l,s,a,n,r,i);if(!_&&!w&&(h=g+1),_&&w&&(v=g-1),!_&&w){x=S;break}p++}return x||d},dA=e=>{var t=Fe(e)?[]:e.toString().split(pN);return[{words:t,width:void 0}]},sY=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!xa.isSsr){var s,l,c=gN({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return dA(n);return oY({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return dA(n)},xN="#808080",lY={angle:0,breakAll:!1,capHeight:"0.71em",fill:xN,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Tm=y.forwardRef((e,t)=>{var r=Nt(e,lY),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,d=cA(r,tY),f=y.useMemo(()=>sY({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:h,dy:v,angle:p,className:x,breakAll:g}=d,b=cA(d,rY);if(!In(n)||!In(i)||f.length===0)return null;var _=Number(n)+(W(h)?h:0),S=Number(i)+(W(v)?v:0);if(!Be(_)||!Be(S))return null;var w;switch(u){case"start":w=mp("calc(".concat(o,")"));break;case"middle":w=mp("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:w=mp("calc(".concat(f.length-1," * -").concat(a,")"));break}var E=[];if(l){var A=f[0].width,{width:C}=d;E.push("scale(".concat(W(C)&&W(A)?C/A:1,")"))}return p&&E.push("rotate(".concat(p,", ").concat(_,", ").concat(S,")")),E.length&&(b.transform=E.join(" ")),y.createElement("text",xy({},or(b),{ref:t,x:_,y:S,className:ge("recharts-text",x),textAnchor:c,fill:s.includes("url")?xN:s}),f.map((O,P)=>{var k=O.words.join(g?"":" ");return y.createElement("tspan",{x:_,dy:P===0?w:a,key:"".concat(k,"-").concat(P)},k)}))});Tm.displayName="Text";var cY=["labelRef"];function uY(e,t){if(e==null)return{};var r,n,i=dY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){fY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}var _N=y.createContext(null),vY=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return y.createElement(_N.Provider,{value:l},s)},SN=()=>{var e=y.useContext(_N),t=im();return e||Rj(t)},pY=y.createContext(null),gY=()=>{var e=y.useContext(pY),t=K(uP);return e||t},yY=e=>{var{value:t,formatter:r}=e,n=Fe(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ux=e=>e!=null&&typeof e=="function",bY=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},xY=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:f,clockWise:h}=i,v=(c+u)/2,p=bY(d,f),x=p>=0?1:-1,g,b;switch(t){case"insideStart":g=d+x*a,b=h;break;case"insideEnd":g=f-x*a,b=!h;break;case"end":g=f+x*a,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=p<=0?b:!b;var _=ft(s,l,v,g),S=ft(s,l,v,g+(b?1:-1)*359),w="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Fe(e.id)?nc("recharts-radial-line-"):e.id;return y.createElement("text",ri({},n,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:E,d:w})),y.createElement("textPath",{xlinkHref:"#".concat(E)},r))},_Y=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=ft(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+o)/2,{x:h,y:v}=ft(n,i,f,c);return{x:h,y:v,textAnchor:"middle",verticalAnchor:"middle"}},_y=e=>"cx"in e&&W(e.cx),SY=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!_y(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=t,d=o,f=o+(l-c)/2,h=(d+f)/2,v=(l+c)/2,p=d+l/2,x=u>=0?1:-1,g=x*n,b=x>0?"end":"start",_=x>0?"start":"end",S=l>=0?1:-1,w=S*n,E=S>0?"end":"start",A=S>0?"start":"end";if(i==="top"){var C={x:d+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return rt(rt({},C),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var O={x:f+c/2,y:s+u+g,textAnchor:"middle",verticalAnchor:_};return rt(rt({},O),a?{height:Math.max(a.y+a.height-(s+u),0),width:c}:{})}if(i==="left"){var P={x:h-w,y:s+u/2,textAnchor:E,verticalAnchor:"middle"};return rt(rt({},P),a?{width:Math.max(P.x-a.x,0),height:u}:{})}if(i==="right"){var k={x:h+v+w,y:s+u/2,textAnchor:A,verticalAnchor:"middle"};return rt(rt({},k),a?{width:Math.max(a.x+a.width-k.x,0),height:u}:{})}var N=a?{width:v,height:u}:{};return i==="insideLeft"?rt({x:h+w,y:s+u/2,textAnchor:A,verticalAnchor:"middle"},N):i==="insideRight"?rt({x:h+v-w,y:s+u/2,textAnchor:E,verticalAnchor:"middle"},N):i==="insideTop"?rt({x:d+l/2,y:s+g,textAnchor:"middle",verticalAnchor:_},N):i==="insideBottom"?rt({x:f+c/2,y:s+u-g,textAnchor:"middle",verticalAnchor:b},N):i==="insideTopLeft"?rt({x:d+w,y:s+g,textAnchor:A,verticalAnchor:_},N):i==="insideTopRight"?rt({x:d+l-w,y:s+g,textAnchor:E,verticalAnchor:_},N):i==="insideBottomLeft"?rt({x:f+w,y:s+u-g,textAnchor:A,verticalAnchor:b},N):i==="insideBottomRight"?rt({x:f+c-w,y:s+u-g,textAnchor:E,verticalAnchor:b},N):i&&typeof i=="object"&&(W(i.x)||xi(i.x))&&(W(i.y)||xi(i.y))?rt({x:o+Zt(i.x,v),y:s+Zt(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):rt({x:p,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},wY={angle:0,offset:5,zIndex:ht.label,position:"middle",textBreakAll:!1};function Ui(e){var t=Nt(e,wY),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=gY(),d=SN(),f=n==="center"?d:u??d,h,v,p;if(r==null?h=f:_y(r)?h=r:h=Rj(r),!h||Fe(i)&&Fe(a)&&!y.isValidElement(o)&&typeof o!="function")return null;var x=rt(rt({},t),{},{viewBox:h});if(y.isValidElement(o)){var{labelRef:g}=x,b=uY(x,cY);return y.cloneElement(o,b)}if(typeof o=="function"){if(v=y.createElement(o,x),y.isValidElement(v))return v}else v=yY(t);var _=or(t);if(_y(h)){if(n==="insideStart"||n==="insideEnd"||n==="end")return xY(t,n,v,_,h);p=_Y(h,t.offset,t.position)}else p=SY(t,h);return y.createElement(wr,{zIndex:t.zIndex},y.createElement(Tm,ri({ref:c,className:ge("recharts-label",s)},_,p,{textAnchor:iY(_.textAnchor)?_.textAnchor:p.textAnchor,breakAll:l}),v))}Ui.displayName="Label";var EY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Ui,ri({key:"label-implicit"},n)):In(e)?y.createElement(Ui,ri({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Ui?y.cloneElement(e,rt({key:"label-implicit"},n)):y.createElement(Ui,ri({key:"label-implicit",content:e},n)):Ux(e)?y.createElement(Ui,ri({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Ui,ri({},e,{key:"label-implicit"},n)):null};function AY(e){var{label:t,labelRef:r}=e,n=SN();return EY(t,n,r)||null}var wN={},EN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(EN);var AN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(AN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EN,r=AN,n=Hh;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(wN);var CY=wN.last;const OY=un(CY);var TY=["valueAccessor"],MY=["dataKey","clockWise","id","textBreakAll","zIndex"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(null,arguments)}function hA(e,t){if(e==null)return{};var r,n,i=kY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jY=e=>Array.isArray(e.value)?OY(e.value):e.value,CN=y.createContext(void 0),ON=CN.Provider,TN=y.createContext(void 0),PY=TN.Provider;function NY(){return y.useContext(CN)}function RY(){return y.useContext(TN)}function Od(e){var{valueAccessor:t=jY}=e,r=hA(e,TY),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=hA(r,MY),c=NY(),u=RY(),d=c||u;return!d||!d.length?null:y.createElement(wr,{zIndex:s??ht.label},y.createElement(ot,{className:"recharts-label-list"},d.map((f,h)=>{var v,p=Fe(n)?t(f,h):Oe(f&&f.payload,n),x=Fe(a)?{}:{id:"".concat(a,"-").concat(h)};return y.createElement(Ui,Yf({key:"label-".concat(h)},or(f),l,x,{fill:(v=r.fill)!==null&&v!==void 0?v:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:o,viewBox:f.viewBox,index:h,zIndex:0}))})))}Od.displayName="LabelList";function Bx(e){var{label:t}=e;return t?t===!0?y.createElement(Od,{key:"labelList-implicit"}):y.isValidElement(t)||Ux(t)?y.createElement(Od,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Od,Yf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}var MN=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=ge("recharts-dot",i);return W(t)&&W(r)&&W(n)?y.createElement("circle",Sy({},br(e),o0(e),{className:a,cx:t,cy:r,r:n})):null},kN=e=>e.graphicalItems.polarItems,DY=j([Ye,iu],ux),Mm=j([kN,Xe,DY],dx),IY=j([Mm],fx),km=j([IY,ex],hx),LY=j([km,Xe,Mm],vx);j([km,Xe,Mm],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Oe(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Oe(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var mA=()=>{},zY=j([km,Xe,Mm,Em,Ye],bx),$Y=j([Xe,gx,yx,mA,zY,mA,fe,Ye],xx),jN=j([Xe,fe,km,LY,nu,Ye,$Y],_x),UY=j([jN,Xe,qs],Ex);j([Xe,jN,UY,Ye],Cx);var BY={radiusAxis:{},angleAxis:{}},PN=Sr({name:"polarAxis",initialState:BY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Eue,removeRadiusAxis:Aue,addAngleAxis:Cue,removeAngleAxis:Oue}=PN.actions,VY=PN.reducer;function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KY=(e,t)=>t,Vx=j([kN,KY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),YY=[],Hx=(e,t,r)=>(r==null?void 0:r.length)===0?YY:r,NN=j([ex,Vx,Hx],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>pA(pA({},t.presentationProps),a.props))),i!=null)return i}}),GY=j([NN,Vx,Hx],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Oe(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:zs(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),FY=j([NN,Vx,Hx,_t],(e,t,r,n)=>{if(!(t==null||e==null))return GG({offset:n,pieSettings:t,displayedData:e,cells:r})}),RN={exports:{}},ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=Symbol.for("react.transitional.element"),qx=Symbol.for("react.portal"),jm=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),Rm=Symbol.for("react.consumer"),Dm=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),Um=Symbol.for("react.lazy"),XY=Symbol.for("react.view_transition"),QY=Symbol.for("react.client.reference");function fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Wx:switch(e=e.type,e){case jm:case Nm:case Pm:case Lm:case zm:case XY:return e;default:switch(e=e&&e.$$typeof,e){case Dm:case Im:case Um:case $m:return e;case Rm:return e;default:return t}}case qx:return t}}}ke.ContextConsumer=Rm;ke.ContextProvider=Dm;ke.Element=Wx;ke.ForwardRef=Im;ke.Fragment=jm;ke.Lazy=Um;ke.Memo=$m;ke.Portal=qx;ke.Profiler=Nm;ke.StrictMode=Pm;ke.Suspense=Lm;ke.SuspenseList=zm;ke.isContextConsumer=function(e){return fn(e)===Rm};ke.isContextProvider=function(e){return fn(e)===Dm};ke.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wx};ke.isForwardRef=function(e){return fn(e)===Im};ke.isFragment=function(e){return fn(e)===jm};ke.isLazy=function(e){return fn(e)===Um};ke.isMemo=function(e){return fn(e)===$m};ke.isPortal=function(e){return fn(e)===qx};ke.isProfiler=function(e){return fn(e)===Nm};ke.isStrictMode=function(e){return fn(e)===Pm};ke.isSuspense=function(e){return fn(e)===Lm};ke.isSuspenseList=function(e){return fn(e)===zm};ke.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===jm||e===Nm||e===Pm||e===Lm||e===zm||typeof e=="object"&&e!==null&&(e.$$typeof===Um||e.$$typeof===$m||e.$$typeof===Dm||e.$$typeof===Rm||e.$$typeof===Im||e.$$typeof===QY||e.getModuleId!==void 0)};ke.typeOf=fn;RN.exports=ke;var ZY=RN.exports,gA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",yA=null,vp=null,DN=e=>{if(e===yA&&Array.isArray(vp))return vp;var t=[];return y.Children.forEach(e,r=>{Fe(r)||(ZY.isFragment(r)?t=t.concat(DN(r.props.children)):t.push(r))}),vp=t,yA=e,t};function Kx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>gA(i)):n=[gA(t)],DN(e).forEach(i=>{var a=io(i,"type.displayName")||io(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var IN=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,LN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(LN);var JY=LN.isPlainObject;const eG=un(JY);function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}var _A=(e,t,r,n,i)=>{var a=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-a/2,",").concat(t+i),o+="L ".concat(e+r-a/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},iG={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aG=e=>{var t=Nt(e,iG),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,f=y.useRef(null),[h,v]=y.useState(-1),p=y.useRef(i),x=y.useRef(a),g=y.useRef(o),b=y.useRef(r),_=y.useRef(n),S=Zc(e,"trapezoid-");if(y.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var H=f.current.getTotalLength();H&&v(H)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var w=ge("recharts-trapezoid",s);if(!d)return y.createElement("g",null,y.createElement("path",Gf({},or(t),{className:w,d:_A(r,n,i,a,o)})));var E=p.current,A=x.current,C=g.current,O=b.current,P=_.current,k="0px ".concat(h===-1?1:h,"px"),N="".concat(h,"px 0px"),V=Fj(["strokeDasharray"],c,l);return y.createElement(Qc,{animationId:S,key:S,canBegin:h>0,duration:c,easing:l,isActive:d,begin:u},H=>{var $=ze(E,i,H),R=ze(A,a,H),M=ze(C,o,H),T=ze(O,r,H),B=ze(P,n,H);f.current&&(p.current=$,x.current=R,g.current=M,b.current=T,_.current=B);var ee=H>0?{transition:V,strokeDasharray:N}:{strokeDasharray:k};return y.createElement("path",Gf({},or(t),{className:w,d:_A(T,B,$,R,M),ref:f,style:xA(xA({},ee),t.style)}))})},oG=["option","shapeType","propTransformer","activeClassName"];function sG(e,t){if(e==null)return{};var r,n,i=lG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t){return Ff(Ff({},t),e)}function hG(e,t){return e==="symbols"}function wA(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(Jj,r);case"trapezoid":return y.createElement(aG,r);case"sector":return y.createElement(n2,r);case"symbols":if(hG(t))return y.createElement(pk,r);break;case"curve":return y.createElement(is,r);default:return null}}function mG(e){return y.isValidElement(e)?e.props:e}function zN(e){var{option:t,shapeType:r,propTransformer:n=fG,activeClassName:i="recharts-active-shape"}=e,a=sG(e,oG),o;if(y.isValidElement(t))o=y.cloneElement(t,Ff(Ff({},a),mG(t)));else if(typeof t=="function")o=t(a);else if(eG(t)&&typeof t!="boolean"){var s=n(t,a);o=y.createElement(wA,{shapeType:r,elementProps:s})}else{var l=a;o=y.createElement(wA,{shapeType:r,elementProps:l})}return a.isActive?y.createElement(ot,{className:i},o):o}var Yx=(e,t)=>{var r=Ke();return(n,i)=>a=>{e==null||e(n,i,a),r(BP({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Gx=e=>{var t=Ke();return(r,n)=>i=>{e==null||e(r,n,i),t(IW())}},Fx=(e,t)=>{var r=Ke();return(n,i)=>a=>{e==null||e(n,i,a),r(LW({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Xx(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=Jt(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(PW(t)):i.current!==t&&r(NW({prev:i.current,next:t})),i.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{i.current&&(r(RW(i.current)),i.current=null)},[r]),null}function $N(e){var{legendPayload:t}=e,r=Ke(),n=Jt(),i=y.useRef(null);return y.useLayoutEffect(()=>{n||(i.current===null?r(qj(t)):i.current!==t&&r(Kj({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(Yj(i.current)),i.current=null)},[r]),null}function vG(e){var{legendPayload:t}=e,r=Ke(),n=K(fe),i=y.useRef(null);return y.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(qj(t)):i.current!==t&&r(Kj({prev:i.current,next:t})),i.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{i.current&&(r(Yj(i.current)),i.current=null)},[r]),null}var pp,pG=()=>{var[e]=y.useState(()=>nc("uid-"));return e},gG=(pp=hL.useId)!==null&&pp!==void 0?pp:pG;function UN(e,t){var r=gG();return t||(e?"".concat(e,"-").concat(r):r)}var yG=y.createContext(void 0),Qx=e=>{var{id:t,type:r,children:n}=e,i=UN("recharts-".concat(r),t);return y.createElement(yG.Provider,{value:i},n(i))},bG={cartesianItems:[],polarItems:[]},BN=Sr({name:"graphicalItems",initialState:bG,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:We()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=bn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:We()},removeCartesianGraphicalItem:{reducer(e,t){var r=bn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:We()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:We()},removePolarGraphicalItem:{reducer(e,t){var r=bn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:We()}}}),{addCartesianGraphicalItem:xG,replaceCartesianGraphicalItem:_G,removeCartesianGraphicalItem:SG,addPolarGraphicalItem:wG,removePolarGraphicalItem:EG}=BN.actions,AG=BN.reducer,CG=e=>{var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(xG(e)):r.current!==e&&t(_G({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(SG(r.current)),r.current=null)},[t]),null},VN=y.memo(CG);function OG(e){var t=Ke();return y.useLayoutEffect(()=>(t(wG(e)),()=>{t(EG(e))}),[t,e]),null}var TG=["key"],MG=["onMouseEnter","onClick","onMouseLeave"],kG=["id"],jG=["id"];function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function Bm(e,t){if(e==null)return{};var r,n,i=DG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IG(e){var t=y.useMemo(()=>Kx(e.children,fu),[e.children]),r=K(n=>GY(n,e.id,t));return r==null?null:y.createElement(vG,{legendPayload:r})}var LG=y.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:zs(s,t),hide:l,type:c,color:o,unit:""}};return y.createElement(Xx,{tooltipEntrySettings:u})}),zG=(e,t)=>e>t?"start":e<t?"end":"middle",$G=(e,t,r)=>Zt(typeof t=="function"?t(e):t,r,r*.8),UG=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=e2(a,o),l=i+Zt(e.cx,a,a/2),c=n+Zt(e.cy,o,o/2),u=Zt(e.innerRadius,s,0),d=$G(r,e.outerRadius,s),f=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}},BG=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function VG(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var HG=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ge("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Bm(t,TG);return y.createElement(is,pa({},i,{type:"linear",className:r}))},WG=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=ge("recharts-pie-label-text",VG(e));return y.createElement(Tm,pa({},t,{alignmentBaseline:"middle",className:i}),n)};function qG(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=br(r),l=no(i),c=no(a),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((f,h)=>{var v=(f.startAngle+f.endAngle)/2,p=ft(f.cx,f.cy,f.outerRadius+u,v),x=Je(Je(Je(Je({},s),f),{},{stroke:"none"},l),{},{index:h,textAnchor:zG(p.x,f.cx)},p),g=Je(Je(Je(Je({},s),f),{},{fill:"none",stroke:f.fill},c),{},{index:h,points:[ft(f.cx,f.cy,f.outerRadius,v),p],key:"line"});return y.createElement(wr,{zIndex:ht.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},y.createElement(ot,null,a&&HG(a,g),WG(i,x,Oe(f,o))))});return y.createElement(ot,{className:"recharts-pie-labels"},d)}function KG(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?y.createElement(Bx,{label:i}):y.createElement(qG,{sectors:t,props:r,showLabels:n})}function YG(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a}=e,o=K(va),{onMouseEnter:s,onClick:l,onMouseLeave:c}=i,u=Bm(i,MG),d=Yx(s,i.dataKey),f=Gx(c),h=Fx(l,i.dataKey);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((v,p)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var x=String(p)===o,g=o?n:null,b=r&&x?r:g,_=Je(Je({},v),{},{stroke:v.stroke,tabIndex:-1,[Cj]:p,[Oj]:i.dataKey});return y.createElement(ot,pa({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(p),tabIndex:-1,className:"recharts-pie-sector"},Vh(u,v,p),{onMouseEnter:d(v,p),onMouseLeave:f(v,p),onClick:h(v,p)}),y.createElement(zN,pa({option:a??b,shapeType:"sector",isActive:x},_)))}))}function GG(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:u,tooltipType:d}=r,f=Math.abs(r.minAngle),h=BG(s,l),v=Math.abs(h),p=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(E=>Oe(E,c,0)!==0).length,g=(v>=360?x:x-1)*p,b=v-x*f-g,_=n.reduce((E,A)=>{var C=Oe(A,c,0);return E+(W(C)?C:0)},0),S;if(_>0){var w;S=n.map((E,A)=>{var C=Oe(E,c,0),O=Oe(E,u,A),P=UG(r,a,E),k=(W(C)?C:0)/_,N,V=Je(Je({},E),i&&i[A]&&i[A].props);A?N=w.endAngle+jt(h)*p*(C!==0?1:0):N=s;var H=N+jt(h)*((C!==0?f:0)+k*b),$=(N+H)/2,R=(P.innerRadius+P.outerRadius)/2,M=[{name:O,value:C,payload:V,dataKey:c,type:d}],T=ft(P.cx,P.cy,R,$);return w=Je(Je(Je(Je({},r.presentationProps),{},{percent:k,cornerRadius:typeof o=="string"?parseFloat(o):o,name:O,tooltipPayload:M,midAngle:$,middleRadius:R,tooltipPosition:T},V),P),{},{value:C,startAngle:N,endAngle:H,payload:V,paddingAngle:jt(h)*p}),w})}return S}function FG(e){var{showLabels:t,sectors:r,children:n}=e,i=y.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return y.createElement(PY,{value:t?i:void 0},n)}function XG(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,f=Zc(t,"recharts-pie-"),h=r.current,[v,p]=y.useState(!1),x=y.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),g=y.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return y.createElement(FG,{showLabels:!v,sectors:n},y.createElement(Qc,{animationId:f,begin:a,duration:o,isActive:i,easing:s,onAnimationStart:g,onAnimationEnd:x,key:f},b=>{var _=[],S=n&&n[0],w=S==null?void 0:S.startAngle;return n==null||n.forEach((E,A)=>{var C=h&&h[A],O=A>0?io(E,"paddingAngle",0):0;if(C){var P=ze(C.endAngle-C.startAngle,E.endAngle-E.startAngle,b),k=Je(Je({},E),{},{startAngle:w+O,endAngle:w+P+O});_.push(k),w=k.endAngle}else{var{endAngle:N,startAngle:V}=E,H=ze(0,N-V,b),$=Je(Je({},E),{},{startAngle:w+O,endAngle:w+H+O});_.push($),w=$.endAngle}}),r.current=_,y.createElement(ot,null,y.createElement(YG,{sectors:_,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),y.createElement(KG,{showLabels:!v,sectors:n,props:t}),t.children)}var QG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ht.area};function ZG(e){var{id:t}=e,r=Bm(e,kG),{hide:n,className:i,rootTabIndex:a}=e,o=y.useMemo(()=>Kx(e.children,fu),[e.children]),s=K(u=>FY(u,t,o)),l=y.useRef(null),c=ge("recharts-pie",i);return n||s==null?(l.current=null,y.createElement(ot,{tabIndex:a,className:c})):y.createElement(wr,{zIndex:e.zIndex},y.createElement(LG,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(ot,{tabIndex:a,className:c},y.createElement(XG,{props:Je(Je({},r),{},{sectors:s}),previousSectorsRef:l})))}function HN(e){var t=Nt(e,QG),{id:r}=t,n=Bm(t,jG),i=br(n);return y.createElement(Qx,{id:r,type:"pie"},a=>y.createElement(y.Fragment,null,y.createElement(OG,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),y.createElement(IG,pa({},n,{id:a})),y.createElement(ZG,pa({},n,{id:a}))))}HN.displayName="Pie";var JG=["points"];function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){eF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eF(e,t,r){return(t=tF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tF(e){var t=rF(e,"string");return typeof t=="symbol"?t:t+""}function rF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(null,arguments)}function nF(e,t){if(e==null)return{};var r,n,i=iF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aF(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var i=ge(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,s=nF(a,JG);return y.createElement(MN,Xf({},s,{className:i}))}function oF(e,t){return e==null?!1:t?!0:e.length===1}function sF(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:c=ht.scatter}=e;if(!oF(t,r))return null;var u=IN(r),d=j5(r),f=t.map((v,p)=>{var x,g,b=gp(gp(gp({r:3},o),d),{},{index:p,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(g=v.y)!==null&&g!==void 0?g:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return y.createElement(aF,{key:"dot-".concat(p),option:r,dotProps:b,className:i})}),h={};return s&&l!=null&&(h.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),y.createElement(wr,{zIndex:c},y.createElement(ot,Xf({className:n},h),f))}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){lF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lF(e,t,r){return(t=cF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=uF(e,"string");return typeof t=="symbol"?t:t+""}function uF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dF={xAxis:{},yAxis:{},zAxis:{}},WN=Sr({name:"cartesianAxis",initialState:dF,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:We()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:We()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:We()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:We()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:We()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:We()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:We()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:We()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:We()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=OA(OA({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:fF,replaceXAxis:hF,removeXAxis:mF,addYAxis:vF,replaceYAxis:pF,removeYAxis:gF,addZAxis:Tue,replaceZAxis:Mue,removeZAxis:kue,updateYAxisWidth:yF}=WN.actions,bF=WN.reducer,xF=j([_t],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_F=j([xF,Mi,ki],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Zx=()=>K(_F),SF=()=>K(Cq);function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return(t=EF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=yp(yp(yp({},s),no(i)),o0(i)),c;return y.isValidElement(i)?c=y.cloneElement(i,l):typeof i=="function"?c=i(l):c=y.createElement(MN,l),y.createElement(ot,{className:"recharts-active-dot",clipPath:o},c)};function MA(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=ht.activeDot}=e,s=K(va),l=SF();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return Fe(c)?null:y.createElement(wr,{zIndex:o},y.createElement(CF,{point:c,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var OF="Invariant failed";function TF(e,t){throw new Error(OF)}var MF=["x","y"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){kF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t,r){return(t=jF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NF(e,t){if(e==null)return{};var r,n,i=RF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DF(e,t){var{x:r,y:n}=e,i=NF(e,MF),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return pl(pl(pl(pl(pl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function Qf(e){return y.createElement(zN,wy({shapeType:"rectangle",propTransformer:DF,activeClassName:"recharts-active-bar"},e))}var IF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(W(t))return t;var a=W(n)||Fe(n);return a?t(n,i):(a||TF(),r)}},LF={},qN=Sr({name:"errorBars",initialState:LF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:jue,replaceErrorBar:Pue,removeErrorBar:Nue}=qN.actions,zF=qN.reducer,$F=["children"];function UF(e,t){if(e==null)return{};var r,n,i=BF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HF=y.createContext(VF);function WF(e){var{children:t}=e,r=UF(e,$F);return y.createElement(HF.Provider,{value:r},t)}function Jx(e,t){var r,n,i=K(c=>Pi(c,e)),a=K(c=>Ni(c,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ct.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Ot.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function KN(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Zx(),{needClipX:a,needClipY:o,needClip:s}=Jx(t,r);if(!s||!i)return null;var{x:l,y:c,width:u,height:d}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}function qF(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Be(e.zIndex)?e.zIndex:t}var KF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=y;function YF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GF=typeof Object.is=="function"?Object.is:YF,FF=hu.useSyncExternalStore,XF=hu.useRef,QF=hu.useEffect,ZF=hu.useMemo,JF=hu.useDebugValue;KF.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=XF(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=ZF(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&o.hasValue){var v=o.value;if(i(v,h))return d=v}return d=h}if(v=d,GF(u,h))return v;var p=n(h);return i!==void 0&&i(v,p)?(u=h,v):(u=h,d=p)}var c=!1,u,d,f=r===void 0?null:r;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,r,n,i]);var s=FF(e,a[0],a[1]);return QF(function(){o.hasValue=!0,o.value=s},[s]),JF(s),s};function eX(e){e()}function tX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eX(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var jA={notify(){},get:()=>[]};function rX(e,t){let r,n=jA,i=0,a=!1;function o(p){u();const x=n.subscribe(p);let g=!1;return()=>{g||(g=!0,x(),d())}}function s(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function u(){i++,r||(r=e.subscribe(l),n=tX())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=jA)}function f(){a||(a=!0,u())}function h(){a&&(a=!1,d())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return v}var nX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iX=nX(),aX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oX=aX(),sX=()=>iX||oX?y.useLayoutEffect:y.useEffect,lX=sX();function PA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cX(e,t){if(PA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!PA(e[r[i]],t[r[i]]))return!1;return!0}var bp=Symbol.for("react-redux-context"),xp=typeof globalThis<"u"?globalThis:{};function uX(){if(!y.createContext)return{};const e=xp[bp]??(xp[bp]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var dX=uX();function fX(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const l=rX(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=y.useMemo(()=>i.getState(),[i]);lX(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||dX;return y.createElement(s.Provider,{value:a},t)}var hX=fX,mX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(mX.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cX(e[n],t[n]))return!1}else if(!vX(e[n],t[n]))return!1;return!0}var pX=["onMouseEnter","onMouseLeave","onClick"],gX=["value","background","tooltipPosition"],yX=["id"],bX=["onMouseEnter","onClick","onMouseLeave"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(null,arguments)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){xX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zf(e,t){if(e==null)return{};var r,n,i=wX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EX=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:zs(r,t),payload:e}]},AX=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:zs(a,t),hide:o,type:l,color:i,unit:s}};return y.createElement(Xx,{tooltipEntrySettings:c})});function CX(e){var t=K(va),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=Zf(a,pX),u=Yx(o,n),d=Gx(s),f=Fx(l,n);if(!i||r==null)return null;var h=no(i);return y.createElement(wr,{zIndex:qF(i,ht.barBackground)},r.map((v,p)=>{var{value:x,background:g,tooltipPosition:b}=v,_=Zf(v,gX);if(!g)return null;var S=u(v,p),w=d(v,p),E=f(v,p),A=nr(nr(nr(nr(nr({option:i,isActive:String(p)===t},_),{},{fill:"#eee"},g),h),Vh(c,v,p)),{},{onMouseEnter:S,onMouseLeave:w,onClick:E,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return y.createElement(Qf,Ci({key:"background-bar-".concat(p)},A))}))}function OX(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return nr(nr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return y.createElement(ON,{value:t?i:void 0},r)}function TX(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=K(va),l=K(tN),c=r&&String(a)===s&&(l==null||o===l),u=c?r:t;return c?y.createElement(wr,{zIndex:ht.activeBar},y.createElement(Qf,Ci({},n,{name:String(n.name)},i,{isActive:c,option:u,index:a,dataKey:o}))):y.createElement(Qf,Ci({},n,{name:String(n.name)},i,{isActive:c,option:u,index:a,dataKey:o}))}function MX(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return y.createElement(Qf,Ci({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function kX(e){var t,{data:r,props:n}=e,i=(t=br(n))!==null&&t!==void 0?t:{},{id:a}=i,o=Zf(i,yX),{shape:s,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:d,onMouseLeave:f}=n,h=Zf(n,bX),v=Yx(u,l),p=Gx(f),x=Fx(d,l);return r?y.createElement(y.Fragment,null,r.map((g,b)=>y.createElement(ot,Ci({key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(b),className:"recharts-bar-rectangle"},Vh(h,g,b),{onMouseEnter:v(g,b),onMouseLeave:p(g,b),onClick:x(g,b)}),c?y.createElement(TX,{shape:s,activeBar:c,baseProps:o,entry:g,index:b,dataKey:l}):y.createElement(MX,{shape:s,baseProps:o,entry:g,index:b,dataKey:l})))):null}function jX(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Zc(t,"recharts-bar-"),[h,v]=y.useState(!1),p=!h,x=y.useCallback(()=>{typeof c=="function"&&c(),v(!1)},[c]),g=y.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return y.createElement(OX,{showLabels:p,rects:n},y.createElement(Qc,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:g,key:f},b=>{var _=b===1?n:n==null?void 0:n.map((S,w)=>{var E=d&&d[w];if(E)return nr(nr({},S),{},{x:ze(E.x,S.x,b),y:ze(E.y,S.y,b),width:ze(E.width,S.width,b),height:ze(E.height,S.height,b)});if(i==="horizontal"){var A=ze(0,S.height,b),C=ze(S.stackedBarStart,S.y,b);return nr(nr({},S),{},{y:C,height:A})}var O=ze(0,S.width,b),P=ze(S.stackedBarStart,S.x,b);return nr(nr({},S),{},{width:O,x:P})});return b>0&&(r.current=_??null),_==null?null:y.createElement(ot,null,y.createElement(kX,{props:t,data:_}))}),y.createElement(Bx,{label:t.label}),t.children)}function PX(e){var t=y.useRef(null);return y.createElement(jX,{previousRectanglesRef:t,props:e})}var YN=0,NX=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Oe(e,t)}};class RX extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||r==null)return null;var u=ge("recharts-bar",i),d=c;return y.createElement(ot,{className:u,id:c},s&&y.createElement("defs",null,y.createElement(KN,{clipPathId:d,xAxisId:a,yAxisId:o})),y.createElement(ot,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},y.createElement(CX,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),y.createElement(PX,this.props)))}}var DX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:YN,xAxisId:0,yAxisId:0,zIndex:ht.bar};function IX(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=Jx(t,r),f=$s(),h=Jt(),v=Kx(e.children,fu),p=K(b=>uQ(b,t,r,h,e.id,v));if(f!=="vertical"&&f!=="horizontal")return null;var x,g=p==null?void 0:p[0];return g==null||g.height==null||g.width==null?x=0:x=f==="vertical"?g.height/2:g.width/2,y.createElement(WF,{xAxisId:t,yAxisId:r,data:p,dataPointFormatter:NX,errorBarOffset:x},y.createElement(RX,Ci({},e,{layout:f,needClip:d,data:p,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function LX(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:f,cells:h,parentViewBox:v,dataStartIndex:p}=e,x=t==="horizontal"?s:o,g=u?x.scale.domain():null,b=kU({numericAxis:x}),_=x.scale(b);return d.map((S,w)=>{var E,A,C,O,P,k;u?E=AU(u[w+p],g):(E=Oe(S,r),Array.isArray(E)||(E=[b,E]));var N=IF(n,YN)(E[1],w);if(t==="horizontal"){var V,[H,$]=[s.scale(E[0]),s.scale(E[1])];A=pw({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:S,index:w}),C=(V=$??H)!==null&&V!==void 0?V:void 0,O=i.size;var R=H-$;if(P=sn(R)?0:R,k={x:A,y:f.top,width:O,height:f.height},Math.abs(N)>0&&Math.abs(P)<Math.abs(N)){var M=jt(P||N)*(Math.abs(N)-Math.abs(P));C-=M,P+=M}}else{var[T,B]=[o.scale(E[0]),o.scale(E[1])];if(A=T,C=pw({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:S,index:w}),O=B-T,P=i.size,k={x:f.left,y:C,width:f.width,height:P},Math.abs(N)>0&&Math.abs(O)<Math.abs(N)){var ee=jt(O||N)*(Math.abs(N)-Math.abs(O));O+=ee}}if(A==null||C==null||O==null||P==null)return null;var Ve=nr(nr({},S),{},{stackedBarStart:_,x:A,y:C,width:O,height:P,value:u?E:E[1],payload:S,background:k,tooltipPosition:{x:A+O/2,y:C+P/2},parentViewBox:v},h&&h[w]&&h[w].props);return Ve}).filter(Boolean)}function zX(e){var t=Nt(e,DX),r=Jt();return y.createElement(Qx,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement($N,{legendPayload:EX(t)}),y.createElement(AX,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(VN,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Ej(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(wr,{zIndex:t.zIndex},y.createElement(IX,Ci({},t,{id:n})))))}var Ey=y.memo(zX,Vm);Ey.displayName="Bar";function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VX=(e,t)=>t,HX=(e,t,r)=>r,WX=(e,t,r,n)=>n,qX=(e,t,r,n,i)=>i,mu=j([Sm,qX],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),KX=j([mu],e=>e==null?void 0:e.maxBarSize),YX=(e,t,r,n,i,a)=>a,DA=(e,t,r)=>{var n=r??e;if(!Fe(n))return Zt(n,t,0)},GX=j([fe,Sm,VX,HX,WX],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),FX=(e,t,r,n)=>{var i=fe(e);return i==="horizontal"?pc(e,"yAxis",r,n):pc(e,"xAxis",t,n)},XX=(e,t,r)=>{var n=fe(e);return n==="horizontal"?$E(e,"xAxis",t):$E(e,"yAxis",r)},QX=(e,t,r)=>{var n={},i=e.filter(bm),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(o).map(c=>{var[u,d]=c,f=d.map(v=>v.dataKey),h=DA(t,r,d[0].barSize);return{stackId:u,dataKeys:f,barSize:h}}),l=a.map(c=>{var u=[c.dataKey].filter(f=>f!=null),d=DA(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},ZX=j([GX,EH,XX],QX),JX=(e,t,r,n,i)=>{var a,o,s=mu(e,t,r,n,i);if(s!=null){var l=fe(e),c=rP(e),{maxBarSize:u}=s,d=Fe(u)?c:u,f,h;return l==="horizontal"?(f=ma(e,"xAxis",t,n),h=ha(e,"xAxis",t,n)):(f=ma(e,"yAxis",r,n),h=ha(e,"yAxis",r,n)),(a=(o=Ss(f,h,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},GN=(e,t,r,n)=>{var i=fe(e),a,o;return i==="horizontal"?(a=ma(e,"xAxis",t,n),o=ha(e,"xAxis",t,n)):(a=ma(e,"yAxis",r,n),o=ha(e,"yAxis",r,n)),Ss(a,o)};function eQ(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Zt(e,r,0,!0),s,l=[];if(Be(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((g,b)=>g+(b.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&u>0&&(c=!0,u*=.9,d=a*u);var f=(r-d)/2>>0,h={offset:f-o,size:0};s=n.reduce((g,b)=>{var _,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+o,size:c?u:(_=b.barSize)!==null&&_!==void 0?_:0}},w=[...g,S];return h=w[w.length-1].position,w},l)}else{var v=Zt(t,r,0,!0);r-2*v-(a-1)*o<=0&&(o=0);var p=(r-2*v-(a-1)*o)/a;p>1&&(p>>=0);var x=Be(i)?Math.min(p,i):p;s=n.reduce((g,b,_)=>[...g,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:v+(p+o)*_+(p-x)/2,size:x}}],l)}return s}}var tQ=(e,t,r,n,i,a,o)=>{var s=Fe(o)?t:o,l=eQ(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>ad(ad({},c),{},{position:ad(ad({},c.position),{},{offset:c.position.offset-i/2})}))),l},rQ=j([ZX,rP,wH,nP,JX,GN,KX],tQ),nQ=(e,t,r,n)=>ma(e,"xAxis",t,n),iQ=(e,t,r,n)=>ma(e,"yAxis",r,n),aQ=(e,t,r,n)=>ha(e,"xAxis",t,n),oQ=(e,t,r,n)=>ha(e,"yAxis",r,n),sQ=j([rQ,mu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),lQ=(e,t)=>{var r=ym(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},cQ=j([FX,mu],lQ),uQ=j([_t,O0,nQ,iQ,aQ,oQ,sQ,fe,vm,GN,cQ,mu,YX],(e,t,r,n,i,a,o,s,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:v,dataEndIndex:p}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:x}=d,g;if(x!=null&&x.length>0?g=x:g=h==null?void 0:h.slice(v,p+1),g!=null)return LX({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:f,dataStartIndex:v})}}),FN=e=>{var{chartData:t}=e,r=Ke(),n=Jt();return y.useEffect(()=>n?()=>{}:(r(QE(t)),()=>{r(QE(void 0))}),[t,r,n]),null},IA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XN=Sr({name:"brush",initialState:IA,reducers:{setBrushSettings(e,t){return t.payload==null?IA:t.payload}}}),{setBrushSettings:Rue}=XN.actions,dQ=XN.reducer;function fQ(e,t,r){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class e_{static create(t){return new e_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}fQ(e_,"EPS",1e-4);function vQ(e){return(e%180+180)%180}var pQ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vQ(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},gQ={dots:[],areas:[],lines:[]},QN=Sr({name:"referenceElements",initialState:gQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=bn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=bn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=bn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Due,removeDot:Iue,addArea:Lue,removeArea:zue,addLine:$ue,removeLine:Uue}=QN.actions,yQ=QN.reducer,bQ=y.createContext(void 0),xQ=e=>{var{children:t}=e,[r]=y.useState("".concat(nc("recharts"),"-clip")),n=Zx();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return y.createElement(bQ.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function ZN(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function _Q(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pQ(n,r)}function SQ(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Jf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function wQ(e,t){return ZN(e,t+1)}function EQ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:ZN(n,c)};var p=l,x,g=()=>(x===void 0&&(x=r(v,p)),x),b=v.coordinate,_=l===0||Jf(e,b,g,u,s);_||(l=0,u=o,c+=1),_&&(u=b+e*(g()/2+i),l+=c)},f;c<=a.length;)if(f=d(),f)return f.v;return[]}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TQ(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(f){var h=a[f],v,p=()=>(v===void 0&&(v=r(h,f)),v);if(f===o-1){var x=e*(h.coordinate+e*p()/2-l);a[f]=h=Xt(Xt({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else a[f]=h=Xt(Xt({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var g=Jf(e,h.tickCoord,p,s,l);g&&(l=h.tickCoord-e*(p()/2+i),a[f]=Xt(Xt({},h),{},{isShow:!0}))}},u=o-1;u>=0;u--)c(u);return a}function MQ(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);if(o[s-1]=u=Xt(Xt({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),u.tickCoord!=null){var h=Jf(e,u.tickCoord,()=>d,l,c);h&&(c=u.tickCoord-e*(d/2+i),o[s-1]=Xt(Xt({},u),{},{isShow:!0}))}}for(var v=a?s-1:s,p=function(b){var _=o[b],S,w=()=>(S===void 0&&(S=r(_,b)),S);if(b===0){var E=e*(_.coordinate-e*w()/2-l);o[b]=_=Xt(Xt({},_),{},{tickCoord:E<0?_.coordinate-E*e:_.coordinate})}else o[b]=_=Xt(Xt({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var A=Jf(e,_.tickCoord,w,l,c);A&&(l=_.tickCoord+e*(w()/2+i),o[b]=Xt(Xt({},_),{},{isShow:!0}))}},x=0;x<v;x++)p(x);return o}function t_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!n)return[];if(W(l)||xa.isSsr){var f;return(f=wQ(i,W(l)?l:0))!==null&&f!==void 0?f:[]}var h=[],v=s==="top"||s==="bottom"?"width":"height",p=u&&v==="width"?Ul(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(_,S)=>{var w=typeof c=="function"?c(_.value,S):_.value;return v==="width"?_Q(Ul(w,{fontSize:t,letterSpacing:r}),p,d):Ul(w,{fontSize:t,letterSpacing:r})[v]},g=i.length>=2?jt(i[1].coordinate-i[0].coordinate):1,b=SQ(a,g,v);return l==="equidistantPreserveStart"?EQ(g,b,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=MQ(g,b,x,i,o,l==="preserveStartEnd"):h=TQ(g,b,x,i,o),h.filter(_=>_.isShow))}var kQ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(r?n:0);return Math.round(c)}return 0},jQ=["axisLine","width","height","className","hide","ticks","axisType"];function PQ(e,t){if(e==null)return{};var r,n,i=NQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ht.axis};function LQ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=st(st(st({},l),br(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=st(st({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=st(st({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",lo({},c,{className:ge("recharts-cartesian-axis-line",io(s,"className"))}))}function zQ(e,t,r,n,i,a,o,s,l){var c,u,d,f,h,v,p=s?-1:1,x=e.tickSize||o,g=W(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,f=r+ +!s*i,d=f-p*x,v=d-p*l,h=g;break;case"left":d=f=e.coordinate,u=t+ +!s*n,c=u-p*x,h=c-p*l,v=g;break;case"right":d=f=e.coordinate,u=t+ +s*n,c=u+p*x,h=c+p*l,v=g;break;default:c=u=e.coordinate,f=r+ +s*i,d=f+p*x,v=d+p*l,h=g;break}return{line:{x1:c,y1:d,x2:u,y2:f},tick:{x:h,y:v}}}function $Q(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function UQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function BQ(e){var{option:t,tickProps:r,value:n}=e,i,a=ge(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,st(st({},r),{},{className:a}));else if(typeof t=="function")i=t(st(st({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ge(o,t==null?void 0:t.className)),i=y.createElement(Tm,lo({},r,{className:o}),n)}return i}var VQ=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:v,height:p,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:_,getTicksConfig:S,events:w,axisType:E}=e,A=t_(st(st({},S),{},{ticks:r}),b,_),C=$Q(u,d),O=UQ(u,d),P=br(S),k=no(n),N={};typeof i=="object"&&(N=i);var V=st(st({},P),{},{fill:"none"},N),H=A.map(M=>st({entry:M},zQ(M,f,h,v,p,u,x,d,g))),$=H.map(M=>{var{entry:T,line:B}=M;return y.createElement(ot,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},i&&y.createElement("line",lo({},V,B,{className:ge("recharts-cartesian-axis-tick-line",io(i,"className"))})))}),R=H.map((M,T)=>{var{entry:B,tick:ee}=M,Ve=st(st(st(st({textAnchor:C,verticalAnchor:O},P),{},{stroke:"none",fill:a},k),ee),{},{index:T,payload:B,visibleTicksCount:A.length,tickFormatter:o,padding:l},c);return y.createElement(ot,lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},Vh(w,B,T)),n&&y.createElement(BQ,{option:n,tickProps:Ve,value:"".concat(typeof o=="function"?o(B.value,T):B.value).concat(s||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(E,"-ticks")},R.length>0&&y.createElement(wr,{zIndex:ht.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(E,"-tick-labels"),ref:t},R)),$.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(E,"-tick-lines")},$))}),HQ=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,c=PQ(e,jQ),[u,d]=y.useState(""),[f,h]=y.useState(""),v=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return kQ({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=g;var b=g[0];if(b){var _=window.getComputedStyle(b),S=_.fontSize,w=_.letterSpacing;(S!==u||w!==f)&&(d(S),h(w))}}},[u,f]);return o||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(wr,{zIndex:e.zIndex},y.createElement(ot,{className:ge("recharts-cartesian-axis",a)},y.createElement(LQ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:br(e)}),y.createElement(VQ,{ref:p,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(vY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(AY,{label:e.label,labelRef:e.labelRef}),e.children)))}),r_=y.forwardRef((e,t)=>{var r=Nt(e,hi);return y.createElement(HQ,lo({},r,{ref:t}))});r_.displayName="CartesianAxis";var WQ=["x1","y1","x2","y2","key"],qQ=["offset"],KQ=["xAxisId","yAxisId"],YQ=["xAxisId","yAxisId"];function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(null,arguments)}function eh(e,t){if(e==null)return{};var r,n,i=QQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return y.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JN(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:c}=r,u=eh(r,WQ),d=(i=br(u))!==null&&i!==void 0?i:{},{offset:f}=d,h=eh(d,qQ);n=y.createElement("line",Ua({},h,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:c}))}return n}function JQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=eh(e,KQ),l=i.map((c,u)=>{var d=Qt(Qt({},s),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return y.createElement(JN,{key:"line-".concat(u),option:n,lineItemProps:d})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function eZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=eh(e,YQ),l=i.map((c,u)=>{var d=Qt(Qt({},s),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return y.createElement(JN,{option:n,lineItemProps:d,key:"line-".concat(u)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function tZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],v=h?i+o-d:c[f+1]-d;if(v<=0)return null;var p=f%t.length;return y.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:v,width:a,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function rZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var h=!c[f+1],v=h?i+o-d:c[f+1]-d;if(v<=0)return null;var p=f%r.length;return y.createElement("rect",{key:"react-".concat(f),x:d,y:a,width:v,height:s,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var nZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Sj(t_(Qt(Qt(Qt({},hi),r),{},{ticks:wj(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},iZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Sj(t_(Qt(Qt(Qt({},hi),r),{},{ticks:wj(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},aZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ht.grid};function n_(e){var t=Ij(),r=Lj(),n=Dj(),i=Qt(Qt({},Nt(e,aZ)),{},{x:W(e.x)?e.x:n.left,y:W(e.y)?e.y:n.top,width:W(e.width)?e.width:n.width,height:W(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,v=Jt(),p=K(O=>UE(O,"xAxis",a,v)),x=K(O=>UE(O,"yAxis",o,v));if(!zn(c)||!zn(u)||!W(s)||!W(l))return null;var g=i.verticalCoordinatesGenerator||nZ,b=i.horizontalCoordinatesGenerator||iZ,{horizontalPoints:_,verticalPoints:S}=i;if((!_||!_.length)&&typeof b=="function"){var w=f&&f.length,E=b({yAxis:x?Qt(Qt({},x),{},{ticks:w?f:x.ticks}):void 0,width:t??c,height:r??u,offset:n},w?!0:d);Af(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}if((!S||!S.length)&&typeof g=="function"){var A=h&&h.length,C=g({xAxis:p?Qt(Qt({},p),{},{ticks:A?h:p.ticks}):void 0,width:t??c,height:r??u,offset:n},A?!0:d);Af(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(S=C)}return y.createElement(wr,{zIndex:i.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(ZQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(tZ,Ua({},i,{horizontalPoints:_})),y.createElement(rZ,Ua({},i,{verticalPoints:S})),y.createElement(JQ,Ua({},i,{offset:n,horizontalPoints:_,xAxis:p,yAxis:x})),y.createElement(eZ,Ua({},i,{offset:n,verticalPoints:S,xAxis:p,yAxis:x}))))}n_.displayName="CartesianGrid";function oZ(e){var t=no(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r,strokeWidth:n}}var eR=(e,t,r,n)=>ma(e,"xAxis",t,n),tR=(e,t,r,n)=>ha(e,"xAxis",t,n),rR=(e,t,r,n)=>ma(e,"yAxis",r,n),nR=(e,t,r,n)=>ha(e,"yAxis",r,n),sZ=j([fe,eR,rR,tR,nR],(e,t,r,n,i)=>Ti(e,"xAxis")?Ss(t,n,!1):Ss(r,i,!1)),lZ=(e,t,r,n,i)=>i,iR=j([Sm,lZ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),cZ=(e,t,r,n,i)=>{var a,o=iR(e,t,r,n,i);if(o!=null){var s=fe(e),l=Ti(s,"xAxis"),c;if(l?c=pc(e,"yAxis",r,n):c=pc(e,"xAxis",t,n),c!=null){var{stackId:u}=o,d=ym(o);if(!(u==null||d==null)){var f=(a=c[u])===null||a===void 0?void 0:a.stackedData;return f==null?void 0:f.find(h=>h.key===d)}}}},uZ=j([fe,eR,rR,tR,nR,cZ,vm,sZ,iR,AH],(e,t,r,n,i,a,o,s,l,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:h}=l,v;if(h&&h.length>0?v=h:v=u==null?void 0:u.slice(d,f+1),v!=null)return MZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:c,bandSize:s})}}),dZ=["id"],fZ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function aR(e,t){if(e==null)return{};var r,n,i=hZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(e,t){return e&&e!=="none"?e:t}var gZ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:th(n,i),value:zs(r,t),payload:e}]},yZ=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:zs(o,t),hide:s,type:c,color:th(n,a),unit:l}};return y.createElement(Xx,{tooltipEntrySettings:u})});function bZ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n,s=br(n);return y.createElement(sF,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:t})}function xZ(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qo(qo({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return y.createElement(ON,{value:t?i:void 0},r)}function BA(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:o,type:s,stroke:l,connectNulls:c,isRange:u}=a,{id:d}=a,f=aR(a,dZ),h=br(f),v=or(f);return y.createElement(y.Fragment,null,(t==null?void 0:t.length)>1&&y.createElement(ot,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},y.createElement(is,Qa({},v,{id:d,points:t,connectNulls:c,type:s,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&y.createElement(is,Qa({},h,{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&y.createElement(is,Qa({},h,{className:"recharts-area-curve",layout:o,type:s,connectNulls:c,fill:"none",points:r}))),y.createElement(bZ,{points:t,props:f,clipPathId:i}))}function _Z(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].y,o=n[n.length-1].y;if(!Be(a)||!Be(o))return null;var s=t*Math.abs(a-o),l=Math.max(...n.map(c=>c.x||0));return W(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),W(l)?y.createElement("rect",{x:0,y:a<o?a:a-s,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(s)}):null}function SZ(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].x,o=n[n.length-1].x;if(!Be(a)||!Be(o))return null;var s=t*Math.abs(a-o),l=Math.max(...n.map(c=>c.y||0));return W(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),W(l)?y.createElement("rect",{x:a<o?a:a-s,y:0,width:s,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function wZ(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?y.createElement(_Z,{alpha:t,points:n,baseLine:i,strokeWidth:a}):y.createElement(SZ,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function EZ(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationStart:f,onAnimationEnd:h}=n,v=y.useMemo(()=>({points:o,baseLine:s}),[o,s]),p=Zc(v,"recharts-area-"),x=sB(),[g,b]=y.useState(!1),_=!g,S=y.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),w=y.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);if(x==null)return null;var E=i.current,A=a.current;return y.createElement(xZ,{showLabels:_,points:o},n.children,y.createElement(Qc,{animationId:p,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:S,onAnimationStart:w,key:p},C=>{if(E){var O=E.length/o.length,P=C===1?o:o.map((N,V)=>{var H=Math.floor(V*O);if(E[H]){var $=E[H];return qo(qo({},N),{},{x:ze($.x,N.x,C),y:ze($.y,N.y,C)})}return N}),k;return W(s)?k=ze(A,s,C):Fe(s)||sn(s)?k=ze(A,0,C):k=s.map((N,V)=>{var H=Math.floor(V*O);if(Array.isArray(A)&&A[H]){var $=A[H];return qo(qo({},N),{},{x:ze($.x,N.x,C),y:ze($.y,N.y,C)})}return N}),C>0&&(i.current=P,a.current=k),y.createElement(BA,{points:P,baseLine:k,needClip:t,clipPathId:r,props:n})}return C>0&&(i.current=o,a.current=s),y.createElement(ot,null,l&&y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(r)},y.createElement(wZ,{alpha:C,points:o,baseLine:s,layout:x,strokeWidth:n.strokeWidth}))),y.createElement(ot,{clipPath:"url(#animationClipPath-".concat(r,")")},y.createElement(BA,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n})))}),y.createElement(Bx,{label:n.label}))}function AZ(e){var{needClip:t,clipPathId:r,props:n}=e,i=y.useRef(null),a=y.useRef();return y.createElement(EZ,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class CZ extends y.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:o,needClip:s,xAxisId:l,yAxisId:c,width:u,height:d,id:f,baseLine:h,zIndex:v}=this.props;if(t)return null;var p=ge("recharts-area",i),x=f,{r:g,strokeWidth:b}=oZ(r),_=IN(r),S=g*2+b,w=s?"url(#clipPath-".concat(_?"":"dots-").concat(x,")"):void 0;return y.createElement(wr,{zIndex:v},y.createElement(ot,{className:p},s&&y.createElement("defs",null,y.createElement(KN,{clipPathId:x,xAxisId:l,yAxisId:c}),!_&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:o-S/2,y:a-S/2,width:u+S,height:d+S}))),y.createElement(AZ,{needClip:s,clipPathId:x,props:this.props})),y.createElement(MA,{points:n,mainColor:th(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}),this.props.isRange&&Array.isArray(h)&&y.createElement(MA,{points:h,mainColor:th(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}))}}var oR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ht.area};function OZ(e){var t,r=Nt(e,oR),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:c,fillOpacity:u,hide:d,isAnimationActive:f,legendType:h,stroke:v,xAxisId:p,yAxisId:x}=r,g=aR(r,fZ),b=$s(),_=iN(),{needClip:S}=Jx(p,x),w=Jt(),{points:E,isRange:A,baseLine:C}=(t=K(H=>uZ(H,p,x,w,e.id)))!==null&&t!==void 0?t:{},O=Zx();if(b!=="horizontal"&&b!=="vertical"||O==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:P,width:k,x:N,y:V}=O;return!E||!E.length?null:y.createElement(CZ,Qa({},g,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:C,connectNulls:s,dot:l,fill:c,fillOpacity:u,height:P,hide:d,layout:b,isAnimationActive:f==="auto"?!xa.isSsr:f,isRange:A,legendType:h,needClip:S,points:E,stroke:v,width:k,left:N,top:V,xAxisId:p,yAxisId:x}))}var TZ=(e,t,r,n,i)=>{var a=r??t;if(W(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function MZ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:d,yAxisTicks:f,bandSize:h}=e,v=i&&i.length,p=TZ(a,o,r,s,l),x=a==="horizontal",g=!1,b=c.map((S,w)=>{var E;v?E=i[u+w]:(E=Oe(S,n),Array.isArray(E)?g=!0:E=[p,E]);var A=E[1]==null||v&&!t&&Oe(S,n)==null;return x?{x:vw({axis:s,ticks:d,bandSize:h,entry:S,index:w}),y:A?null:l.scale(E[1]),value:E,payload:S}:{x:A?null:s.scale(E[1]),y:vw({axis:l,ticks:f,bandSize:h,entry:S,index:w}),value:E,payload:S}}),_;return v||g?_=b.map(S=>{var w=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:w!=null&&S.y!=null?l.scale(w):null,payload:S.payload}:{x:w!=null?s.scale(w):null,y:S.y,payload:S.payload}}):_=x?l.scale(p):s.scale(p),{points:b,baseLine:_,isRange:g}}function kZ(e){var t=Nt(e,oR),r=Jt();return y.createElement(Qx,{id:t.id,type:"area"},n=>y.createElement(y.Fragment,null,y.createElement($N,{legendPayload:gZ(t)}),y.createElement(yZ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),y.createElement(VN,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ej(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),y.createElement(OZ,Qa({},t,{id:n}))))}var sR=y.memo(kZ,Vm);sR.displayName="Area";var jZ=["domain","range"],PZ=["domain","range"];function VA(e,t){if(e==null)return{};var r,n,i=NZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function lR(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=VA(e,jZ),{domain:a,range:o}=t,s=VA(t,PZ);return!HA(r,a)||!HA(n,o)?!1:Vm(i,s)}var RZ=["dangerouslySetInnerHTML","ticks"],DZ=["id"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function WA(e,t){if(e==null)return{};var r,n,i=IZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LZ(e){var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(fF(e)):r.current!==e&&t(hF({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(mF(r.current)),r.current=null)},[t]),null}var zZ=e=>{var{xAxisId:t,className:r}=e,n=K(O0),i=Jt(),a="xAxis",o=K(x=>Ks(x,a,t,i)),s=K(x=>DP(x,a,t,i)),l=K(x=>jP(x,t)),c=K(x=>SW(x,t)),u=K(x=>fP(x,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=e,h=WA(e,RZ),{id:v}=u,p=WA(u,DZ);return y.createElement(r_,Ay({},h,p,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:ge("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},$Z={allowDataOverflow:Ct.allowDataOverflow,allowDecimals:Ct.allowDecimals,allowDuplicatedCategory:Ct.allowDuplicatedCategory,angle:Ct.angle,axisLine:hi.axisLine,height:Ct.height,hide:!1,includeHidden:Ct.includeHidden,interval:Ct.interval,minTickGap:Ct.minTickGap,mirror:Ct.mirror,orientation:Ct.orientation,padding:Ct.padding,reversed:Ct.reversed,scale:Ct.scale,tick:Ct.tick,tickCount:Ct.tickCount,tickLine:hi.tickLine,tickSize:hi.tickSize,type:Ct.type,xAxisId:0},UZ=e=>{var t=Nt(e,$Z);return y.createElement(y.Fragment,null,y.createElement(LZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(zZ,t))},i_=y.memo(UZ,lR);i_.displayName="XAxis";var BZ=["dangerouslySetInnerHTML","ticks"],VZ=["id"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function qA(e,t){if(e==null)return{};var r,n,i=HZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WZ(e){var t=Ke(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(vF(e)):r.current!==e&&t(pF({prev:r.current,next:e})),r.current=e},[e,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(gF(r.current)),r.current=null)},[t]),null}var qZ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),o=y.useRef(null),s=K(O0),l=Jt(),c=Ke(),u="yAxis",d=K(w=>Ks(w,u,t,l)),f=K(w=>PP(w,t)),h=K(w=>EW(w,t)),v=K(w=>DP(w,u,t,l)),p=K(w=>hP(w,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Ux(i)||y.isValidElement(i)||p==null)){var w=a.current;if(w){var E=w.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&c(yF({id:t,width:E}))}}},[v,f,c,i,t,n,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:g}=e,b=qA(e,BZ),{id:_}=p,S=qA(p,VZ);return y.createElement(r_,Cy({},b,S,{ref:a,labelRef:o,scale:d,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:ge("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:v,axisType:u}))},KZ={allowDataOverflow:Ot.allowDataOverflow,allowDecimals:Ot.allowDecimals,allowDuplicatedCategory:Ot.allowDuplicatedCategory,angle:Ot.angle,axisLine:hi.axisLine,hide:!1,includeHidden:Ot.includeHidden,interval:Ot.interval,minTickGap:Ot.minTickGap,mirror:Ot.mirror,orientation:Ot.orientation,padding:Ot.padding,reversed:Ot.reversed,scale:Ot.scale,tick:Ot.tick,tickCount:Ot.tickCount,tickLine:hi.tickLine,tickSize:hi.tickSize,type:Ot.type,width:Ot.width,yAxisId:0},YZ=e=>{var t=Nt(e,KZ);return y.createElement(y.Fragment,null,y.createElement(WZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(qZ,t))},a_=y.memo(YZ,lR);a_.displayName="YAxis";var GZ=(e,t)=>t,o_=j([GZ,fe,uP,wt,QP,Ri,zq,_t],qq),s_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},cR=ln("mouseClick"),uR=Gc();uR.startListening({actionCreator:cR,effect:(e,t)=>{var r=e.payload,n=o_(t.getState(),s_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(zW({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Oy=ln("mouseMove"),dR=Gc(),od=null;dR.startListening({actionCreator:Oy,effect:(e,t)=>{var r=e.payload;od!==null&&cancelAnimationFrame(od);var n=s_(r);od=requestAnimationFrame(()=>{var i=t.getState(),a=Mx(i,i.tooltip.settings.shared);if(a==="axis"){var o=o_(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(HP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(VP())}od=null})}});var KA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},fR=Sr({name:"rootProps",initialState:KA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:KA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),FZ=fR.reducer,{updateOptions:XZ}=fR.actions,hR=Sr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:QZ}=hR.actions,ZZ=hR.reducer,mR=ln("keyDown"),vR=ln("focus"),l_=Gc();l_.startListening({actionCreator:mR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=kx(i,Gs(r),su(r),du(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ri(r);if(a==="Enter"){var c=Kf(r,"axis","hover",String(i.index));t.dispatch(py({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=TW(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var v=Kf(r,"axis","hover",String(h));t.dispatch(py({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});l_.startListening({actionCreator:vR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Kf(r,"axis","hover",String(a));t.dispatch(py({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Yr=ln("externalEvent"),pR=Gc(),_p=new Map;pR.startListening({actionCreator:Yr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=_p.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:wq(s),activeDataKey:tN(s),activeIndex:va(s),activeLabel:eN(s),activeTooltipIndex:va(s),isTooltipActive:Eq(s)};r(l,n)}finally{_p.delete(i)}});_p.set(i,o)}}});var JZ=j([Ys],e=>e.tooltipItemPayloads),eJ=j([JZ,cu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),gR=ln("touchMove"),yR=Gc();yR.startListening({actionCreator:gR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Mx(n,n.tooltip.settings.shared);if(i==="axis"){var a=o_(n,s_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(HP({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Cj),u=(o=l.getAttribute(Oj))!==null&&o!==void 0?o:void 0,d=eJ(t.getState(),c,u);t.dispatch(BP({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var tJ=Yk({brush:dQ,cartesianAxis:bF,chartData:xK,errorBars:zF,graphicalItems:AG,layout:bU,legend:_B,options:vK,polarAxis:VY,polarOptions:ZZ,referenceElements:yQ,rootProps:FZ,tooltip:$W,zIndex:aK}),rJ=function(t){return W8({reducer:tJ,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([uR.middleware,dR.middleware,l_.middleware,pR.middleware,yR.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(lj({type:"raf"}))},devTools:xa.devToolsEnabled})};function bR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Jt(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=rJ(t));var o=p0;return y.createElement(hX,{context:o,store:a.current},r)}function nJ(e){var{layout:t,margin:r}=e,n=Ke(),i=Jt();return y.useEffect(()=>{i||(n(pU(t)),n(vU(r)))},[n,i,t,r]),null}var xR=y.memo(nJ,Vm);function _R(e){var t=Ke();return y.useEffect(()=>{t(XZ(e))},[t,e]),null}function YA(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=UN("".concat(n).concat(t)),a=Ke();return y.useLayoutEffect(()=>(a(nK({zIndex:t,elementId:i,isPanorama:r})),()=>{a(iK({zIndex:t,isPanorama:r}))}),[a,t,i,r]),y.createElement("g",{id:i})}function GA(e){var{children:t,isPanorama:r}=e,n=K(Yq);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return y.createElement(y.Fragment,null,i.map(o=>y.createElement(YA,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>y.createElement(YA,{key:o,zIndex:o,isPanorama:r})))}var iJ=["children"];function aJ(e,t){if(e==null)return{};var r,n,i=oJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rh.apply(null,arguments)}var sJ={width:"100%",height:"100%",display:"block"},lJ=y.forwardRef((e,t)=>{var r=Ij(),n=Lj(),i=Gj();if(!zn(r)||!zn(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0),y.createElement(GM,rh({},o,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:sJ,ref:t}),a)}),cJ=e=>{var{children:t}=e,r=K(nm);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return y.createElement(GM,{width:n,height:i,x:o,y:a},t)},FA=y.forwardRef((e,t)=>{var{children:r}=e,n=aJ(e,iJ),i=Jt();return i?y.createElement(cJ,null,y.createElement(GA,{isPanorama:!0},r)):y.createElement(lJ,rh({ref:t},n),y.createElement(GA,{isPanorama:!1},r))});function uJ(){var e=Ke(),[t,r]=y.useState(null),n=K(IU);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Be(a)&&a!==n&&e(yU(a))}},[t,e,n]),r}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(null,arguments)}var vJ=()=>(MK(),null);function nh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var pJ=y.forwardRef((e,t)=>{var r,n,i=y.useRef(null),[a,o]=y.useState({containerWidth:nh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:nh((n=e.style)===null||n===void 0?void 0:n.height)}),s=y.useCallback((c,u)=>{o(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:d}=c.getBoundingClientRect();s(u,d);var f=v=>{var{width:p,height:x}=v[0].contentRect;s(p,x)},h=new ResizeObserver(f);h.observe(c),i.current=h}},[t,s]);return y.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[s]),y.createElement(y.Fragment,null,y.createElement(am,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",co({ref:l},e)))}),gJ=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=y.useState({containerWidth:nh(r),containerHeight:nh(n)}),o=y.useCallback((l,c)=>{a(u=>{var d=Math.round(l),f=Math.round(c);return u.containerWidth===d&&u.containerHeight===f?u:{containerWidth:d,containerHeight:f}})},[]),s=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();o(c,u)}},[t,o]);return y.createElement(y.Fragment,null,y.createElement(am,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",co({ref:s},e)))}),yJ=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(am,{width:r,height:n}),y.createElement("div",co({ref:t},e)))}),bJ=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return xi(r)||xi(n)?y.createElement(gJ,co({},e,{ref:t})):y.createElement(yJ,co({},e,{ref:t}))});function xJ(e){return e===!0?pJ:bJ}var _J=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:v,onTouchStart:p,style:x,width:g,responsive:b,dispatchTouchEvents:_=!0}=e,S=y.useRef(null),w=Ke(),[E,A]=y.useState(null),[C,O]=y.useState(null),P=uJ(),k=T0(),N=(k==null?void 0:k.width)>0?k.width:g,V=(k==null?void 0:k.height)>0?k.height:i,H=y.useCallback(L=>{P(L),typeof t=="function"&&t(L),A(L),O(L),L!=null&&(S.current=L)},[P,t,A,O]),$=y.useCallback(L=>{w(cR(L)),w(Yr({handler:a,reactEvent:L}))},[w,a]),R=y.useCallback(L=>{w(Oy(L)),w(Yr({handler:c,reactEvent:L}))},[w,c]),M=y.useCallback(L=>{w(VP()),w(Yr({handler:u,reactEvent:L}))},[w,u]),T=y.useCallback(L=>{w(Oy(L)),w(Yr({handler:d,reactEvent:L}))},[w,d]),B=y.useCallback(()=>{w(vR())},[w]),ee=y.useCallback(L=>{w(mR(L.key))},[w]),Ve=y.useCallback(L=>{w(Yr({handler:o,reactEvent:L}))},[w,o]),vt=y.useCallback(L=>{w(Yr({handler:s,reactEvent:L}))},[w,s]),Dt=y.useCallback(L=>{w(Yr({handler:l,reactEvent:L}))},[w,l]),Ge=y.useCallback(L=>{w(Yr({handler:f,reactEvent:L}))},[w,f]),Cr=y.useCallback(L=>{w(Yr({handler:p,reactEvent:L}))},[w,p]),Ca=y.useCallback(L=>{_&&w(gR(L)),w(Yr({handler:v,reactEvent:L}))},[w,_,v]),At=y.useCallback(L=>{w(Yr({handler:h,reactEvent:L}))},[w,h]),bo=xJ(b);return y.createElement(cN.Provider,{value:E},y.createElement(z5.Provider,{value:C},y.createElement(bo,{width:N??(x==null?void 0:x.width),height:V??(x==null?void 0:x.height),className:ge("recharts-wrapper",n),style:dJ({position:"relative",cursor:"default",width:N,height:V},x),onClick:$,onContextMenu:Ve,onDoubleClick:vt,onFocus:B,onKeyDown:ee,onMouseDown:Dt,onMouseEnter:R,onMouseLeave:M,onMouseMove:T,onMouseUp:Ge,onTouchEnd:At,onTouchMove:Ca,onTouchStart:Cr,ref:H},y.createElement(vJ,null),r)))}),SJ=["width","height","responsive","children","className","style","compact","title","desc"];function wJ(e,t){if(e==null)return{};var r,n,i=EJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SR=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:c,desc:u}=e,d=wJ(e,SJ),f=br(d);return l?y.createElement(y.Fragment,null,y.createElement(am,{width:r,height:n}),y.createElement(FA,{otherAttributes:f,title:c,desc:u},a)):y.createElement(_J,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(FA,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(xQ,null,a)))});function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}var AJ={top:5,right:5,bottom:5,left:5},CJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:AJ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},wR=y.forwardRef(function(t,r){var n,i=Nt(t.categoricalChartProps,CJ),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return y.createElement(bR,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:a},y.createElement(FN,{chartData:c.data}),y.createElement(xR,{layout:i.layout,margin:i.margin}),y.createElement(_R,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(SR,Ty({},i,{ref:r})))}),OJ=["axis","item"],TJ=y.forwardRef((e,t)=>y.createElement(wR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OJ,tooltipPayloadSearcher:$x,categoricalChartProps:e,ref:t}));function MJ(e){var t=Ke();return y.useEffect(()=>{t(QZ(e))},[t,e]),null}var kJ=["layout"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function jJ(e,t){if(e==null)return{};var r,n,i=PJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NJ={top:5,right:5,bottom:5,left:5},RJ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:NJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},DJ=y.forwardRef(function(t,r){var n,i=Nt(t.categoricalChartProps,RJ),{layout:a}=i,o=jJ(i,kJ),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return y.createElement(bR,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},y.createElement(FN,{chartData:i.data}),y.createElement(xR,{layout:a,margin:i.margin}),y.createElement(_R,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(MJ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(SR,My({},o,{ref:r})))}),IJ=["item"],LJ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zJ=y.forwardRef((e,t)=>{var r=Nt(e,LJ);return y.createElement(DJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:IJ,tooltipPayloadSearcher:$x,categoricalChartProps:r,ref:t})}),$J=["axis"],UJ=y.forwardRef((e,t)=>y.createElement(wR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$J,tooltipPayloadSearcher:$x,categoricalChartProps:e,ref:t}));const Sp=["#3b82f6","#94a3b8","#cbd5e1","#f1f5f9"],BJ=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState({totalCalls:0,connectRate:0,conversations:0});return m.jsxs("div",{className:"p-8 overflow-y-auto h-full bg-slate-50",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Performance Analytics"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsx("div",{className:"text-sm text-slate-500 font-medium uppercase tracking-wide",children:"Total Calls"}),m.jsx("div",{className:"text-4xl font-bold text-slate-900 mt-2",children:i.totalCalls.toLocaleString()}),m.jsx("div",{className:"text-slate-400 text-sm mt-1 flex items-center",children:"No data yet"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsx("div",{className:"text-sm text-slate-500 font-medium uppercase tracking-wide",children:"Connect Rate"}),m.jsx("div",{className:"text-4xl font-bold text-slate-900 mt-2",children:i.connectRate>0?i.connectRate.toFixed(1)+"%":"0%"}),m.jsx("div",{className:"text-slate-400 text-sm mt-1 flex items-center",children:"No data yet"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsx("div",{className:"text-sm text-slate-500 font-medium uppercase tracking-wide",children:"Conversations"}),m.jsx("div",{className:"text-4xl font-bold text-slate-900 mt-2",children:i.conversations}),m.jsx("div",{className:"text-slate-400 text-sm mt-1 flex items-center",children:"No data yet"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Weekly Activity"}),m.jsx("div",{className:"h-64",children:m.jsx(Kg,{width:"100%",height:"100%",children:m.jsxs(TJ,{data:e,children:[m.jsx(n_,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),m.jsx(i_,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),m.jsx(a_,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),m.jsx(by,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),m.jsx(Ey,{dataKey:"calls",fill:"#3b82f6",radius:[4,4,0,0]}),m.jsx(Ey,{dataKey:"connects",fill:"#93c5fd",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[m.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Call Outcomes"}),m.jsx("div",{className:"h-64 flex items-center justify-center",children:m.jsx(Kg,{width:"100%",height:"100%",children:m.jsxs(zJ,{children:[m.jsx(HN,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:r.map((o,s)=>m.jsx(fu,{fill:Sp[s%Sp.length]},`cell-${s}`))}),m.jsx(by,{})]})})}),m.jsx("div",{className:"flex justify-center space-x-4 mt-2",children:r.map((o,s)=>m.jsxs("div",{className:"flex items-center text-xs text-slate-600",children:[m.jsx("span",{className:"w-2 h-2 rounded-full mr-1",style:{backgroundColor:Sp[s]}}),o.name]},s))})]})]})]})};var Ze=(e=>(e.DASHBOARD="DASHBOARD",e.DIALER="DIALER",e.MANUAL_DIALER="MANUAL_DIALER",e.POWER_DIALER="POWER_DIALER",e.CALL_HISTORY="CALL_HISTORY",e.ANALYTICS="ANALYTICS",e.SETTINGS="SETTINGS",e.SALESFLOOR="SALESFLOOR",e.SCRIPTS="SCRIPTS",e.TEAM="TEAM",e))(Ze||{}),Ia=(e=>(e.IDLE="IDLE",e.DIALING="DIALING",e.CONNECTED="CONNECTED",e.ENDING="ENDING",e))(Ia||{});const VJ=({lead:e,callerId:t,isAutoDialing:r,activeScript:n,onHangup:i})=>{const[a,o]=y.useState(0),[s,l]=y.useState(!1),[c,u]=y.useState(Ia.DIALING),[d,f]=y.useState("script"),[h,v]=y.useState(""),[p,x]=y.useState(null);y.useEffect(()=>{let w;return c===Ia.CONNECTED&&(w=setInterval(()=>o(E=>E+1),1e3)),()=>clearInterval(w)},[c]),y.useEffect(()=>{const w="https://salescallagent.my/api";(async()=>{try{const A=localStorage.getItem("token");console.log("[ActiveCall] Initiating call to:",e.phone);const C=await fetch(`${w}/calls/initiate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`},body:JSON.stringify({to:e.phone,from:t.number,contactName:e.name})});if(!C.ok){const P=await C.json().catch(()=>({error:"Failed to initiate call"}));throw new Error(P.error||"Failed to initiate call")}const O=await C.json();console.log("[ActiveCall] Call initiated:",O),setTimeout(()=>u(Ia.RINGING),1e3),setTimeout(()=>u(Ia.CONNECTED),3e3)}catch(A){console.error("Failed to connect call",A);const C=(A==null?void 0:A.message)||(A==null?void 0:A.toString())||"Unknown error";alert(`Could not connect call: ${C}`),i()}})()},[]);const g=w=>{const E=Math.floor(w/60),A=w%60;return`${E}:${A.toString().padStart(2,"0")}`},b=()=>{alert("Dropping pre-recorded Voicemail..."),i()},_=()=>{l(!s)},S=n?n.content.replace(/{FirstName}/g,e.name.split(" ")[0]).replace(/{LastName}/g,e.name.split(" ").slice(1).join(" ")).replace(/{Company}/g,e.company).replace(/{Title}/g,e.title).replace(/{MyName}/g,"Alex").replace(/{MyCompany}/g,"creativeprocess.io"):"No script selected.";return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white w-full max-w-6xl h-[85vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row",children:[m.jsxs("div",{className:"w-full md:w-1/3 bg-slate-50 border-r border-slate-200 flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-slate-200",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-xl",children:e.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-bold text-xl text-slate-900",children:e.name}),m.jsx("p",{className:"text-slate-500 text-sm",children:e.title})]})]}),m.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${c===Ia.CONNECTED?"bg-green-100 text-green-600 animate-pulse":"bg-yellow-100 text-yellow-600"}`,children:c})]}),m.jsxs("div",{className:"space-y-3 mb-4",children:[m.jsxs("div",{className:"flex items-center text-slate-600 text-sm",children:[m.jsx(i4,{size:16,className:"mr-2 text-slate-400"}),e.company]}),m.jsxs("div",{className:"flex items-center text-slate-600 text-sm",children:[m.jsx($M,{size:16,className:"mr-2 text-slate-400"}),"Last: ",e.lastActivity]})]})]}),m.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[m.jsx("button",{onClick:()=>f("script"),className:`flex-1 py-3 text-sm font-medium border-b-2 ${d==="script"?"border-blue-500 text-blue-600":"border-transparent text-slate-500"}`,children:"Script"}),m.jsx("button",{onClick:()=>f("notes"),className:`flex-1 py-3 text-sm font-medium border-b-2 ${d==="notes"?"border-blue-500 text-blue-600":"border-transparent text-slate-500"}`,children:"Notes"}),m.jsx("button",{onClick:()=>f("crm"),className:`flex-1 py-3 text-sm font-medium border-b-2 ${d==="crm"?"border-blue-500 text-blue-600":"border-transparent text-slate-500"}`,children:"CRM"})]}),m.jsxs("div",{className:"flex-1 p-6 overflow-y-auto bg-white",children:[d==="script"&&m.jsxs("div",{className:"prose prose-sm prose-slate text-slate-600",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center m-0",children:[m.jsx(Zb,{size:16,className:"mr-2"}),(n==null?void 0:n.name)||"Default Script"]})}),m.jsx("div",{className:"whitespace-pre-wrap text-base leading-relaxed font-medium text-slate-700",children:S})]}),d==="notes"&&m.jsxs("div",{className:"h-full flex flex-col",children:[m.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center mb-3",children:[m.jsx(H4,{size:16,className:"mr-2"})," Call Notes"]}),m.jsx("textarea",{className:"flex-1 w-full border border-slate-200 rounded-md p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none resize-none bg-slate-50",placeholder:"Type notes here...",value:h,onChange:w=>v(w.target.value)}),m.jsx("div",{className:"mt-3 flex justify-end",children:m.jsx("button",{className:"bg-slate-900 text-white px-3 py-1.5 rounded text-sm",children:"Save to CRM"})})]}),d==="crm"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center mb-3",children:[m.jsx(h4,{size:16,className:"mr-2"})," Salesforce Data"]}),m.jsxs("div",{className:"p-3 bg-slate-50 rounded border border-slate-200 text-xs space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-slate-500",children:"Stage:"})," ",m.jsx("span",{className:"font-medium",children:"Discovery"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-slate-500",children:"Amount:"})," ",m.jsx("span",{className:"font-medium",children:"$12,000"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-slate-500",children:"Close Date:"})," ",m.jsx("span",{className:"font-medium",children:"Oct 30, 2025"})]})]}),m.jsx("button",{className:"w-full py-2 border border-blue-600 text-blue-600 rounded hover:bg-blue-50 text-xs font-bold",children:"View in Salesforce"})]})]})]}),m.jsxs("div",{className:"flex-1 flex flex-col bg-white relative",children:[m.jsxs("div",{className:"h-16 border-b border-slate-100 flex items-center justify-between px-6 bg-white z-20",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"font-mono text-2xl font-light text-slate-700 w-20",children:g(a)}),m.jsxs("div",{className:"flex items-center space-x-2 px-2 py-1 bg-red-50 text-red-600 rounded-full text-xs font-bold border border-red-100",children:[m.jsx(u4,{size:8,className:"fill-current animate-pulse"}),m.jsx("span",{children:"REC"})]})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[r&&m.jsxs("div",{className:"flex items-center text-xs text-indigo-600 font-bold uppercase tracking-widest bg-indigo-50 px-3 py-1 rounded-full border border-indigo-100",children:[m.jsx(e0,{size:12,className:"mr-1 fill-current"}),"Power Dialer"]}),m.jsxs("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest",children:[t.region," Local ID"]})]})]}),m.jsxs("div",{className:"flex-1 bg-slate-900 relative flex flex-col items-center justify-center p-8 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 opacity-20 flex items-center justify-center space-x-1",children:[...Array(20)].map((w,E)=>m.jsx("div",{className:"w-3 bg-blue-500 rounded-full animate-pulse",style:{height:`${Math.random()*60+20}%`,animationDuration:`${Math.random()*.5+.5}s`}},E))}),m.jsxs("div",{className:"relative z-10 group",children:[m.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 p-1 shadow-2xl shadow-blue-500/50",children:m.jsxs("div",{className:"w-full h-full bg-slate-800 rounded-full flex items-center justify-center overflow-hidden",children:[c===Ia.CONNECTED?m.jsx("div",{className:"w-24 h-24 bg-blue-400 rounded-full animate-ping opacity-75 absolute"}):null,m.jsx(Jb,{size:48,className:"text-white relative z-10"})]})}),m.jsxs("div",{className:"mt-6 text-center",children:[m.jsx("h2",{className:"text-white text-2xl font-light",children:e.name}),m.jsx("p",{className:"text-blue-300 text-sm mt-1 font-mono",children:e.phone})]})]}),p&&m.jsxs("div",{className:"absolute top-10 bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-lg max-w-sm animate-bounce text-sm flex items-start",children:[m.jsx(HM,{size:16,className:"mr-2 mt-0.5 flex-shrink-0 text-yellow-300"}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block text-xs text-indigo-200 uppercase mb-1",children:"AI Coach Tip"}),p]})]})]}),m.jsxs("div",{className:"h-24 bg-slate-50 border-t border-slate-200 flex items-center justify-center space-x-6 relative z-20",children:[m.jsx("button",{onClick:_,className:`p-4 rounded-full transition-all ${s?"bg-slate-200 text-slate-500":"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 shadow-sm"}`,title:s?"Unmute":"Mute",children:s?m.jsx(D4,{size:24}):m.jsx(BM,{size:24})}),m.jsxs("button",{onClick:i,className:"bg-red-500 hover:bg-red-600 text-white p-5 rounded-full shadow-lg shadow-red-200 transform hover:scale-105 transition-all flex items-center space-x-2 px-8",title:"End Call",children:[m.jsx(q4,{size:32}),m.jsx("span",{className:"font-bold text-sm ml-2",children:"End Call"})]}),m.jsxs("button",{onClick:b,className:"p-4 bg-white border border-slate-300 rounded-full text-slate-700 hover:bg-slate-50 shadow-sm flex flex-col items-center justify-center w-16 h-16",title:"Drop Voicemail",children:[m.jsx(w5,{size:20}),m.jsx("span",{className:"text-[10px] font-bold mt-1",children:"VM Drop"})]})]})]})]})})},HJ=()=>{const[e,t]=y.useState([]);return y.useEffect(()=>{const r=setInterval(()=>{t(n=>n.map(i=>i.status==="On Call"&&i.callDuration!==void 0?{...i,callDuration:i.callDuration+1}:i))},1e3);return()=>clearInterval(r)},[]),m.jsxs("div",{className:"p-8 h-full bg-slate-50 overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Virtual Salesfloor"}),m.jsx("p",{className:"text-slate-500",children:"Real-time collaboration and team status"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("span",{className:"flex h-3 w-3 relative",children:[m.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),m.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})]}),m.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Live Updates Active"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(r=>m.jsxs("div",{className:`bg-white rounded-xl border shadow-sm transition-all hover:shadow-md duration-500 ${r.status==="On Call"?"border-green-200 ring-1 ring-green-100":"border-slate-200"}`,children:[m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg transition-colors duration-500 ${r.status==="On Call"?"bg-green-500":r.status==="Away"?"bg-slate-300":r.status==="Wrap Up"?"bg-yellow-500":"bg-blue-500"}`,children:r.avatar}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-900",children:r.name}),m.jsx("div",{className:`text-xs font-bold px-2 py-0.5 rounded-full inline-block mt-1 transition-colors duration-500 ${r.status==="On Call"?"bg-green-100 text-green-700":r.status==="Away"?"bg-slate-100 text-slate-500":r.status==="Wrap Up"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:r.status})]})]}),r.status==="On Call"&&m.jsx("div",{className:"animate-pulse",children:m.jsx(BM,{size:16,className:"text-green-500"})})]}),m.jsxs("div",{className:"space-y-2 min-h-[3rem]",children:[r.currentTask&&m.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50 p-2 rounded animate-in fade-in duration-300",children:[m.jsx(it,{size:14,className:"mr-2 text-slate-400"}),m.jsx("span",{className:"truncate",children:r.currentTask})]}),r.callDuration!==void 0&&r.status==="On Call"&&m.jsxs("div",{className:"flex items-center text-xs text-slate-500",children:[m.jsx(cf,{size:12,className:"mr-1"}),m.jsxs("span",{children:["Duration: ",Math.floor(r.callDuration/60),":",(r.callDuration%60).toString().padStart(2,"0")]})]})]})]}),m.jsxs("div",{className:"px-5 py-3 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center rounded-b-xl",children:[m.jsxs("button",{disabled:r.status!=="On Call",className:`flex items-center space-x-1 text-xs font-medium transition-colors ${r.status==="On Call"?"text-blue-600 hover:text-blue-800 cursor-pointer":"text-slate-400 cursor-not-allowed"}`,children:[m.jsx(E4,{size:14}),m.jsx("span",{children:"Listen In"})]}),m.jsx("button",{className:"text-slate-400 hover:text-blue-600 transition-colors",children:m.jsx(Og,{size:14})})]})]},r.id))})]})},WJ=()=>{const[e,t]=y.useState([]),[r,n]=y.useState([]),[i,a]=y.useState({dailyCalls:0,connectRate:0,meetingsBooked:0,avgTalkTime:"0m 0s"});return m.jsxs("div",{className:"p-8 bg-slate-50 h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Command Center"}),m.jsx("p",{className:"text-slate-500",children:"Real-time overview of sales operations"})]}),m.jsxs("div",{className:"flex items-center space-x-2 bg-white px-4 py-2 rounded-lg border border-slate-200 shadow-sm",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"System Operational"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:m.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:m.jsx(it,{className:"text-blue-600",size:20})})}),m.jsx("div",{className:"text-3xl font-bold text-slate-900",children:i.dailyCalls.toLocaleString()}),m.jsx("div",{className:"text-slate-500 text-sm mt-1",children:"Daily Calls"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-blue-500"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:m.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:m.jsx(e0,{className:"text-purple-600",size:20})})}),m.jsx("div",{className:"text-3xl font-bold text-slate-900",children:i.connectRate>0?i.connectRate.toFixed(1)+"%":"0%"}),m.jsx("div",{className:"text-slate-500 text-sm mt-1",children:"Connect Rate"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-purple-500"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:m.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:m.jsx(f5,{className:"text-orange-600",size:20})})}),m.jsx("div",{className:"text-3xl font-bold text-slate-900",children:i.meetingsBooked}),m.jsx("div",{className:"text-slate-500 text-sm mt-1",children:"Meetings Booked"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-orange-500"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm relative overflow-hidden",children:[m.jsx("div",{className:"flex justify-between items-start mb-4",children:m.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:m.jsx(cf,{className:"text-emerald-600",size:20})})}),m.jsx("div",{className:"text-3xl font-bold text-slate-900",children:i.avgTalkTime}),m.jsx("div",{className:"text-slate-500 text-sm mt-1",children:"Avg Talk Time"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-emerald-500"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-slate-200 shadow-sm p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[m.jsx(LM,{size:18,className:"mr-2 text-blue-500"}),"Live Call Volume"]}),m.jsxs("select",{className:"bg-slate-50 border border-slate-200 text-xs rounded-md px-2 py-1 outline-none",children:[m.jsx("option",{children:"Today"}),m.jsx("option",{children:"Yesterday"})]})]}),m.jsx("div",{className:"h-80",children:m.jsx(Kg,{width:"100%",height:"100%",children:m.jsxs(UJ,{data:r,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorCalls",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),m.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),m.jsx(n_,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),m.jsx(i_,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),m.jsx(a_,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),m.jsx(by,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),m.jsx(sR,{type:"monotone",dataKey:"calls",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorCalls)"})]})})})]}),m.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 flex flex-col",children:[m.jsxs("h3",{className:"font-bold text-slate-800 mb-6 flex items-center",children:[m.jsx(Ka,{size:18,className:"mr-2 text-indigo-500"}),"Live Activity Feed"]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-6 pr-2 custom-scrollbar max-h-[400px]",children:e.map(o=>m.jsxs("div",{className:"flex items-start space-x-3 group animate-in fade-in slide-in-from-top-2 duration-300",children:[m.jsx("div",{className:`w-2 h-2 mt-2 rounded-full flex-shrink-0 ${o.type==="success"?"bg-green-500 shadow-sm shadow-green-200":"bg-slate-300"}`}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-slate-800 leading-snug",children:[m.jsx("span",{className:"font-semibold",children:o.user})," ",o.action," ",m.jsx("span",{className:"font-medium text-slate-600",children:o.target})]}),m.jsx("p",{className:"text-xs text-slate-400 mt-1",children:o.time})]})]},o.id))}),m.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 text-center",children:m.jsx("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700",children:"View Full Log"})})]})]})]})},qJ=({scripts:e,onSave:t})=>{var f;const[r,n]=y.useState(((f=e[0])==null?void 0:f.id)||""),[i,a]=y.useState(!1),o=e.find(h=>h.id===r),s=h=>{if(!o)return;const v=e.map(p=>p.id===o.id?{...p,content:h.target.value}:p);t(v)},l=h=>{if(!o)return;const v=e.map(p=>p.id===o.id?{...p,name:h.target.value}:p);t(v)},c=h=>{if(!o)return;const v=document.getElementById("script-textarea");if(!v)return;const p=v.selectionStart,x=v.selectionEnd,g=o.content,b=g.substring(0,p)+h+g.substring(x),_=e.map(S=>S.id===o.id?{...S,content:b}:S);t(_),setTimeout(()=>{v.focus(),v.setSelectionRange(p+h.length,p+h.length)},0)},u=()=>{const h={id:`script-${Date.now()}`,name:"New Untitled Script",content:"Hi {FirstName}, this is {MyName} from {MyCompany}. How are you?",isDefault:!1,tags:["General"]};t([...e,h]),n(h.id)},d=()=>{if(e.length<=1){alert("You must have at least one script.");return}if(window.confirm("Delete this script?")){const h=e.filter(v=>v.id!==r);t(h),n(h[0].id)}};return m.jsxs("div",{className:"flex h-full bg-white",children:[m.jsxs("div",{className:"w-72 border-r border-slate-200 flex flex-col bg-slate-50",children:[m.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[m.jsxs("h2",{className:"font-bold text-slate-800 flex items-center",children:[m.jsx(U4,{size:18,className:"mr-2"})," Scripts"]}),m.jsx("button",{onClick:u,className:"p-1.5 hover:bg-slate-200 rounded-md text-slate-600 transition-colors",children:m.jsx(F4,{size:18})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:e.map(h=>m.jsxs("div",{onClick:()=>n(h.id),className:`p-3 rounded-lg cursor-pointer border transition-all ${r===h.id?"bg-white border-blue-400 shadow-sm ring-1 ring-blue-100":"bg-transparent border-transparent hover:bg-slate-100"}`,children:[m.jsx("div",{className:"font-semibold text-sm text-slate-900",children:h.name}),m.jsx("div",{className:"text-xs text-slate-500 mt-1 truncate",children:h.content}),h.isDefault&&m.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold uppercase rounded-full",children:"Default"})]},h.id))})]}),m.jsx("div",{className:"flex-1 flex flex-col h-full",children:o?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"h-16 border-b border-slate-200 flex items-center justify-between px-6 bg-white",children:[m.jsx("input",{type:"text",value:o.name,onChange:l,className:"text-xl font-bold text-slate-800 bg-transparent border-none outline-none focus:ring-0 placeholder-slate-300 w-full",placeholder:"Script Name"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Script",children:m.jsx(uf,{size:18})}),m.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors shadow-sm",children:[m.jsx(Q4,{size:16}),m.jsx("span",{children:"Auto-Saved"})]})]})]}),m.jsxs("div",{className:"px-6 py-3 border-b border-slate-200 bg-slate-50 flex items-center space-x-2 overflow-x-auto",children:[m.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Insert Variable:"}),["{FirstName}","{LastName}","{Company}","{Title}","{MyName}","{MyCompany}"].map(h=>m.jsx("button",{onClick:()=>c(h),className:"px-3 py-1 bg-white border border-slate-200 rounded text-xs font-medium text-slate-700 hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-colors shadow-sm",children:h},h))]}),m.jsx("div",{className:"flex-1 p-6 bg-slate-100",children:m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 h-full flex flex-col",children:m.jsx("textarea",{id:"script-textarea",value:o.content,onChange:s,className:"flex-1 w-full h-full p-6 text-base text-slate-800 outline-none resize-none font-sans leading-relaxed",placeholder:"Start typing your script here..."})})})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400",children:[m.jsx(Zb,{size:48,className:"mb-4 opacity-50"}),m.jsx("p",{children:"Select a script to edit"})]})})]})},KJ=({onLogin:e})=>{const[t,r]=y.useState(!1),[n,i]=y.useState(""),[a,o]=y.useState(""),[s,l]=y.useState(""),c=async u=>{u.preventDefault(),r(!0),i("");try{const f=await fetch("https://salescallagent.my/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:s})}),h=await f.json();if(!f.ok)throw new Error(h.error||"Login failed");localStorage.setItem("token",h.token),localStorage.setItem("user",JSON.stringify(h.user)),e(h.token,h.user)}catch(d){i(d.message||"Login failed. Please try again.")}finally{r(!1)}};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 text-slate-100 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-blue-600/20 blur-[100px]"}),m.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-purple-600/20 blur-[100px]"}),m.jsxs("div",{className:"w-full max-w-md p-8 relative z-10",children:[m.jsxs("div",{className:"mb-8 text-center",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-xl bg-blue-600 shadow-lg shadow-blue-900/50 mb-4",children:m.jsx(it,{className:"w-8 h-8 text-white"})}),m.jsxs("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:["creativeprocess",m.jsx("span",{className:"text-blue-500",children:".io"})]}),m.jsx("p",{className:"text-slate-400",children:"AI-Powered Sales Engagement Platform"})]}),m.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[n&&m.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center gap-2 text-red-400 text-sm",children:[m.jsx(zM,{size:16}),m.jsx("span",{children:n})]}),m.jsxs("form",{onSubmit:c,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Work Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(UM,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),m.jsx("input",{type:"email",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder-slate-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"name@company.com",value:a,onChange:u=>o(u.target.value),required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(H1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),m.jsx("input",{type:"password",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder-slate-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"",value:s,onChange:u=>l(u.target.value),required:!0})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-3 rounded-lg transition-all flex items-center justify-center space-x-2 shadow-lg shadow-blue-900/20 group",disabled:t,children:t?m.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Sign In to Dashboard"}),m.jsx(e4,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-slate-700"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-2 bg-transparent text-slate-500 bg-slate-900/50 backdrop-blur",children:"Or continue with"})})]}),m.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[m.jsx("button",{className:"flex items-center justify-center px-4 py-2 border border-slate-700 rounded-lg hover:bg-slate-800 transition-colors bg-slate-900/50",children:m.jsx("span",{className:"font-medium text-sm",children:"Google"})}),m.jsx("button",{className:"flex items-center justify-center px-4 py-2 border border-slate-700 rounded-lg hover:bg-slate-800 transition-colors bg-slate-900/50",children:m.jsx("span",{className:"font-medium text-sm",children:"SSO"})})]})]})]}),m.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-4 text-xs text-slate-500",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(n5,{size:14,className:"mr-1"})," SOC2 Type II"]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(H1,{size:14,className:"mr-1"})," 256-bit Encryption"]})]})]})]})},YJ=()=>{const[e,t]=y.useState([]);return m.jsxs("div",{className:"p-8 bg-slate-50 h-full overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Team Management"}),m.jsx("p",{className:"text-slate-500",children:"Manage users, roles, and permissions"})]}),m.jsxs("button",{className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[m.jsx(b5,{size:18}),m.jsx("span",{children:"Invite Member"})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"User"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Role"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Performance (Weekly)"}),m.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(r=>m.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm",children:r.avatar}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-slate-900",children:r.name}),m.jsxs("div",{className:"text-xs text-slate-500 flex items-center",children:[m.jsx(UM,{size:12,className:"mr-1"})," ",r.email]})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center text-sm text-slate-700",children:[m.jsx(a5,{size:14,className:"mr-2 text-slate-400"}),r.role]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status==="Active"?"bg-green-100 text-green-800":"bg-slate-100 text-slate-600"}`,children:[r.status==="Active"&&m.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1.5"}),r.status]})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex items-center justify-end space-x-4 text-sm",children:[m.jsxs("div",{className:"flex items-center text-slate-600",title:"Calls Made",children:[m.jsx(it,{size:14,className:"mr-1 text-slate-400"}),r.performance.calls]}),m.jsxs("div",{className:"flex items-center text-blue-600 font-medium",title:"Meetings Booked",children:[m.jsx(Ka,{size:14,className:"mr-1"}),r.performance.meetings]})]})}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsx("button",{className:"p-2 text-slate-400 hover:bg-slate-100 rounded-lg transition-colors",children:m.jsx(b4,{size:16})})})]},r.id))})]})})]})};var ER={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.log=r()})(G3,function(){var t=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],a={},o=null;function s(p,x){var g=p[x];if(typeof g.bind=="function")return g.bind(p);try{return Function.prototype.bind.call(g,p)}catch{return function(){return Function.prototype.apply.apply(g,[p,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(p){return p==="debug"&&(p="log"),typeof console===r?!1:p==="trace"&&n?l:console[p]!==void 0?s(console,p):console.log!==void 0?s(console,"log"):t}function u(){for(var p=this.getLevel(),x=0;x<i.length;x++){var g=i[x];this[g]=x<p?t:this.methodFactory(g,p,this.name)}if(this.log=this.debug,typeof console===r&&p<this.levels.SILENT)return"No console available for logging"}function d(p){return function(){typeof console!==r&&(u.call(this),this[p].apply(this,arguments))}}function f(p,x,g){return c(p)||d.apply(this,arguments)}function h(p,x){var g=this,b,_,S,w="loglevel";typeof p=="string"?w+=":"+p:typeof p=="symbol"&&(w=void 0);function E(k){var N=(i[k]||"silent").toUpperCase();if(!(typeof window===r||!w)){try{window.localStorage[w]=N;return}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+N+";"}catch{}}}function A(){var k;if(!(typeof window===r||!w)){try{k=window.localStorage[w]}catch{}if(typeof k===r)try{var N=window.document.cookie,V=encodeURIComponent(w),H=N.indexOf(V+"=");H!==-1&&(k=/^([^;]+)/.exec(N.slice(H+V.length+1))[1])}catch{}return g.levels[k]===void 0&&(k=void 0),k}}function C(){if(!(typeof window===r||!w)){try{window.localStorage.removeItem(w)}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function O(k){var N=k;if(typeof N=="string"&&g.levels[N.toUpperCase()]!==void 0&&(N=g.levels[N.toUpperCase()]),typeof N=="number"&&N>=0&&N<=g.levels.SILENT)return N;throw new TypeError("log.setLevel() called with invalid level: "+k)}g.name=p,g.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},g.methodFactory=x||f,g.getLevel=function(){return S??_??b},g.setLevel=function(k,N){return S=O(k),N!==!1&&E(S),u.call(g)},g.setDefaultLevel=function(k){_=O(k),A()||g.setLevel(k,!1)},g.resetLevel=function(){S=null,C(),u.call(g)},g.enableAll=function(k){g.setLevel(g.levels.TRACE,k)},g.disableAll=function(k){g.setLevel(g.levels.SILENT,k)},g.rebuild=function(){if(o!==g&&(b=O(o.getLevel())),u.call(g),o===g)for(var k in a)a[k].rebuild()},b=O(o?o.getLevel():"WARN");var P=A();P!=null&&(S=O(P)),u.call(g)}o=new h,o.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var g=a[x];return g||(g=a[x]=new h(x,o.methodFactory)),g};var v=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=v),o},o.getLoggers=function(){return a},o.default=o,o})})(ER);var GJ=ER.exports;const AR=un(GJ);let sd;const FJ=new Uint8Array(16);function XJ(){if(!sd&&(sd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sd(FJ)}const zt=[];for(let e=0;e<256;++e)zt.push((e+256).toString(16).slice(1));function QJ(e,t=0){return zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]}const ZJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QA={randomUUID:ZJ};function $r(e,t,r){if(QA.randomUUID&&!e)return QA.randomUUID();e=e||{};const n=e.random||(e.rng||XJ)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,QJ(n)}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function JJ(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eee(e){var t=JJ(e,"string");return yc(t)=="symbol"?t:t+""}function tee(e,t,r){return(t=eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ut(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var JA=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),wp=function(){return Math.random().toString(36).substring(7).split("").join(".")},bc={INIT:"@@redux/INIT"+wp(),REPLACE:"@@redux/REPLACE"+wp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wp()}};function ree(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hm(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ut(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ut(1));return r(Hm)(e,t)}if(typeof e!="function")throw new Error(Ut(2));var i=e,a=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(Ut(3));return a}function d(p){if(typeof p!="function")throw new Error(Ut(4));if(l)throw new Error(Ut(5));var x=!0;return c(),s.push(p),function(){if(x){if(l)throw new Error(Ut(6));x=!1,c();var b=s.indexOf(p);s.splice(b,1),o=null}}}function f(p){if(!ree(p))throw new Error(Ut(7));if(typeof p.type>"u")throw new Error(Ut(8));if(l)throw new Error(Ut(9));try{l=!0,a=i(a,p)}finally{l=!1}for(var x=o=s,g=0;g<x.length;g++){var b=x[g];b()}return p}function h(p){if(typeof p!="function")throw new Error(Ut(10));i=p,f({type:bc.REPLACE})}function v(){var p,x=d;return p={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Ut(11));function _(){b.next&&b.next(u())}_();var S=x(_);return{unsubscribe:S}}},p[JA]=function(){return this},p}return f({type:bc.INIT}),n={dispatch:f,subscribe:d,getState:u,replaceReducer:h},n[JA]=v,n}var nee=Hm;function iee(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:bc.INIT});if(typeof n>"u")throw new Error(Ut(12));if(typeof r(void 0,{type:bc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ut(13))})}function CR(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var a=Object.keys(r),o;try{iee(r)}catch(s){o=s}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,d={},f=0;f<a.length;f++){var h=a[f],v=r[h],p=l[h],x=v(p,c);if(typeof x>"u")throw c&&c.type,new Error(Ut(14));d[h]=x,u=u||x!==p}return u=u||a.length!==Object.keys(l).length,u?d:l}}function eC(e,t){return function(){return t(e.apply(this,arguments))}}function aee(e,t){if(typeof e=="function")return eC(e,t);if(typeof e!="object"||e===null)throw new Error(Ut(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=eC(i,t))}return r}function xc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function OR(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Ut(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(o)});return a=xc.apply(void 0,s)(i.dispatch),ih(ih({},i),{},{dispatch:a})}}}const oee=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:bc,applyMiddleware:OR,bindActionCreators:aee,combineReducers:CR,compose:xc,createStore:Hm,legacy_createStore:nee},Symbol.toStringTag,{value:"Module"}));var Cn=function(t){return"@@redux-saga/"+t},see=Cn("CANCEL_PROMISE"),TR=Cn("CHANNEL_END"),MR=Cn("IO"),tC=Cn("MATCH"),kR=Cn("MULTICAST"),jR=Cn("SAGA_ACTION"),lee=Cn("SELF_CANCELLATION"),cee=Cn("TASK"),os=Cn("TASK_CANCEL"),PR=Cn("TERMINATE"),uee=Cn("LOCATION");function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(null,arguments)}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NR=function(t){return t==null},Td=function(t){return t!=null},xr=function(t){return typeof t=="function"},c_=function(t){return typeof t=="string"},Ea=Array.isArray,Wm=function(t){return t&&xr(t.then)},u_=function(t){return t&&xr(t.next)&&xr(t.throw)},ky=function(t){return t&&(c_(t)||DR(t)||xr(t)||Ea(t)&&t.every(ky))},RR=function(t){return t&&xr(t.take)&&xr(t.close)},fee=function(t){return xr(t)&&t.hasOwnProperty("toString")},DR=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},hee=function(t){return RR(t)&&t[kR]},mee=function(t){return function(){return t}},IR=mee(!0),Wt=function(){},LR=function(t){return t},d_=function(t,r){_c(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){t[n]=r[n]})},vee=function(t,r){var n;return(n=[]).concat.apply(n,r.map(t))};function qm(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function zR(e){var t=!1;return function(){t||(t=!0,e())}}var pee=function(t){throw t},gee=function(t){return{value:t,done:!0}};function rC(e,t,r){t===void 0&&(t=pee),r===void 0&&(r="iterator");var n={meta:{name:r},next:e,throw:t,return:gee,isSagaIterator:!0};return typeof Symbol<"u"&&(n[Symbol.iterator]=function(){return n}),n}function yee(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var $R=function(t){return Array.apply(null,new Array(t))},bee=function(t){return function(r){return t(Object.defineProperty(r,jR,{value:!0}))}},UR=function(t){return t===PR},BR=function(t){return t===os},VR=function(t){return UR(t)||BR(t)};function HR(e,t){var r=Object.keys(e),n=r.length,i=0,a,o=Ea(e)?$R(n):{},s={};function l(){i===n&&(a=!0,t(o))}return r.forEach(function(c){var u=function(f,h){a||(h||VR(f)?(t.cancel(),t(f,h)):(o[c]=f,i++,l()))};u.cancel=Wt,s[c]=u}),t.cancel=function(){a||(a=!0,r.forEach(function(c){return s[c].cancel()}))},s}function f_(e){return{name:e.name||"anonymous",location:WR(e)}}function WR(e){return e[uee]}function xee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}var _ee="Channel's Buffer overflow!",See=1,wee=3,qR=4,Eee={isEmpty:IR,put:Wt,take:Wt};function Aee(e,t){e===void 0&&(e=10);var r=new Array(e),n=0,i=0,a=0,o=function(u){r[i]=u,i=(i+1)%e,n++},s=function(){if(n!=0){var u=r[a];return r[a]=null,n--,a=(a+1)%e,u}},l=function(){for(var u=[];n;)u.push(s());return u};return{isEmpty:function(){return n==0},put:function(u){if(n<e)o(u);else{var d;switch(t){case See:throw new Error(_ee);case wee:r[i]=u,i=(i+1)%e,a=i;break;case qR:d=2*e,r=l(),n=r.length,i=r.length,a=0,r.length=d,e=d,o(u);break}}},take:s,flush:l}}var Cee=function(){return Eee},Oee=function(t){return Aee(t,qR)},Md="TAKE",KR="PUT",YR="ALL",Tee="RACE",GR="CALL",Mee="CPS",h_="FORK",FR="JOIN",kee="CANCEL",XR="SELECT",jee="ACTION_CHANNEL",QR="CANCELLED",Pee="FLUSH",Nee="GET_CONTEXT",Ree="SET_CONTEXT",xn=function(t,r){var n;return n={},n[MR]=!0,n.combinator=!1,n.type=t,n.payload=r,n},Dee=function(t){return xn(h_,_c({},t.payload,{detached:!0}))};function ye(e,t){if(e===void 0&&(e="*"),ky(e))return Td(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),xn(Md,{pattern:e});if(hee(e)&&Td(t)&&ky(t))return xn(Md,{channel:e,pattern:t});if(RR(e))return Td(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),xn(Md,{channel:e})}function bt(e,t){return NR(t)&&(t=e,e=void 0),xn(KR,{channel:e,action:t})}function ZR(e){var t=xn(YR,e);return t.combinator=!0,t}function JR(e,t){var r=null,n;return xr(e)?n=e:(Ea(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&c_(n)&&xr(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function tt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return xn(GR,JR(e,r))}function te(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return xn(h_,JR(e,r))}function eD(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Dee(te.apply(void 0,[e].concat(r)))}function Iee(e){return xn(FR,e)}function tD(e){e===void 0&&(e=LR);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return xn(XR,{selector:e,args:r})}function Fs(){return xn(QR,{})}function Lee(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var rD=[],Km=0;function zee(e){try{m_(),e()}finally{aD()}}function nD(e){rD.push(e),Km||(m_(),oD())}function iD(e){try{return m_(),e()}finally{oD()}}function m_(){Km++}function aD(){Km--}function oD(){aD();for(var e;!Km&&(e=rD.shift())!==void 0;)zee(e)}var $ee=function(t){return function(r){return t.some(function(n){return v_(n)(r)})}},Uee=function(t){return function(r){return t(r)}},nC=function(t){return function(r){return r.type===String(t)}},Bee=function(t){return function(r){return r.type===t}},sD=function(){return IR};function v_(e){var t=e==="*"?sD:c_(e)?nC:Ea(e)?$ee:fee(e)?nC:xr(e)?Uee:DR(e)?Bee:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var Bl={type:TR},Ym=function(t){return t&&t.type===TR};function Xs(e){e===void 0&&(e=Oee());var t=!1,r=[];function n(s){if(!t){if(r.length===0)return e.put(s);var l=r.shift();l(s)}}function i(s){t&&e.isEmpty()?s(Bl):e.isEmpty()?(r.push(s),s.cancel=function(){qm(r,s)}):s(e.take())}function a(s){if(t&&e.isEmpty()){s(Bl);return}s(e.flush())}function o(){if(!t){t=!0;var s=r;r=[];for(var l=0,c=s.length;l<c;l++){var u=s[l];u(Bl)}}}return{take:i,put:n,flush:a,close:o}}function Gm(e,t){t===void 0&&(t=Cee());var r=!1,n,i=Xs(t),a=function(){r||(r=!0,xr(n)&&n(),i.close())};return n=e(function(o){if(Ym(o)){a();return}i.put(o)}),n=zR(n),r&&n(),{take:i.take,flush:i.flush,close:a}}function vu(){var e,t=!1,r=[],n=r,i=function(){n===r&&(n=r.slice())},a=function(){t=!0;var s=r=n;n=[],s.forEach(function(l){l(Bl)})};return e={},e[kR]=!0,e.put=function(s){if(!t){if(Ym(s)){a();return}for(var l=r=n,c=0,u=l.length;c<u;c++){var d=l[c];d[tC](s)&&(d.cancel(),d(s))}}},e.take=function(s,l){if(l===void 0&&(l=sD),t){s(Bl);return}s[tC]=l,i(),n.push(s),s.cancel=zR(function(){i(),qm(n,s)})},e.close=a,e}function lD(){var e=vu(),t=e.put;return e.put=function(r){if(r[jR]){t(r);return}nD(function(){t(r)})},e}var La=0,ni=1,kd=2,cD=3;function p_(e,t){var r=e[see];xr(r)&&(t.cancel=r),e.then(t,function(n){t(n,!0)})}var pu=0,uD=function(){return++pu},Lt;function Vee(e,t){return e.isSagaIterator?{name:e.meta.name}:f_(t)}function Hee(e){var t=e.context,r=e.fn,n=e.args;try{var i=r.apply(t,n);if(u_(i))return i;var a=!1,o=function(l){return a?{value:l,done:!0}:(a=!0,{value:i,done:!Wm(i)})};return rC(o)}catch(s){return rC(function(){throw s})}}function Wee(e,t,r){var n=t.channel,i=t.action,a=t.resolve;nD(function(){var o;try{o=(n?n.put:e.dispatch)(i)}catch(s){r(s,!0);return}a&&Wm(o)?p_(o,r):r(o)})}function qee(e,t,r){var n=t.channel,i=n===void 0?e.channel:n,a=t.pattern,o=t.maybe,s=function(c){if(c instanceof Error){r(c,!0);return}if(Ym(c)&&!o){r(PR);return}r(c)};try{i.take(s,Td(a)?v_(a):null)}catch(l){r(l,!0);return}r.cancel=s.cancel}function Kee(e,t,r,n){var i=t.context,a=t.fn,o=t.args,s=n.task;try{var l=a.apply(i,o);if(Wm(l)){p_(l,r);return}if(u_(l)){Fm(e,l,s.context,pu,f_(a),!1,r);return}r(l)}catch(c){r(c,!0)}}function Yee(e,t,r){var n=t.context,i=t.fn,a=t.args;try{var o=function(l,c){NR(l)?r(c):r(l,!0)};i.apply(n,a.concat(o)),o.cancel&&(r.cancel=o.cancel)}catch(s){r(s,!0)}}function Gee(e,t,r,n){var i=t.context,a=t.fn,o=t.args,s=t.detached,l=n.task,c=Hee({context:i,fn:a,args:o}),u=Vee(c,a);iD(function(){var d=Fm(e,c,l.context,pu,u,s,void 0);s?r(d):d.isRunning()?(l.queue.addTask(d),r(d)):d.isAborted()?l.queue.abort(d.error()):r(d)})}function Fee(e,t,r,n){var i=n.task,a=function(l,c){if(l.isRunning()){var u={task:i,cb:c};c.cancel=function(){l.isRunning()&&qm(l.joiners,u)},l.joiners.push(u)}else l.isAborted()?c(l.error(),!0):c(l.result())};if(Ea(t)){if(t.length===0){r([]);return}var o=HR(t,r);t.forEach(function(s,l){a(s,o[l])})}else a(t,r)}function Ep(e){e.isRunning()&&e.cancel()}function Xee(e,t,r,n){var i=n.task;t===lee?Ep(i):Ea(t)?t.forEach(Ep):Ep(t),r()}function Qee(e,t,r,n){var i=n.digestEffect,a=pu,o=Object.keys(t);if(o.length===0){r(Ea(t)?[]:{});return}var s=HR(t,r);o.forEach(function(l){i(t[l],a,s[l],l)})}function Zee(e,t,r,n){var i=n.digestEffect,a=pu,o=Object.keys(t),s=Ea(t)?$R(o.length):{},l={},c=!1;o.forEach(function(u){var d=function(h,v){c||(v||VR(h)?(r.cancel(),r(h,v)):(r.cancel(),c=!0,s[u]=h,r(s)))};d.cancel=Wt,l[u]=d}),r.cancel=function(){c||(c=!0,o.forEach(function(u){return l[u].cancel()}))},o.forEach(function(u){c||i(t[u],a,l[u],u)})}function Jee(e,t,r){var n=t.selector,i=t.args;try{var a=n.apply(void 0,[e.getState()].concat(i));r(a)}catch(o){r(o,!0)}}function ete(e,t,r){var n=t.pattern,i=t.buffer,a=Xs(i),o=v_(n),s=function(u){Ym(u)||e.channel.take(s,o),a.put(u)},l=a.close;a.close=function(){s.cancel(),l()},e.channel.take(s,o),r(a)}function tte(e,t,r,n){var i=n.task;r(i.isCancelled())}function rte(e,t,r){t.flush(r)}function nte(e,t,r,n){var i=n.task;r(i.context[t])}function ite(e,t,r,n){var i=n.task;d_(i.context,t),r()}var ate=(Lt={},Lt[Md]=qee,Lt[KR]=Wee,Lt[YR]=Qee,Lt[Tee]=Zee,Lt[GR]=Kee,Lt[Mee]=Yee,Lt[h_]=Gee,Lt[FR]=Fee,Lt[kee]=Xee,Lt[XR]=Jee,Lt[jee]=ete,Lt[QR]=tte,Lt[Pee]=rte,Lt[Nee]=nte,Lt[Ree]=ite,Lt);function ote(e,t,r){var n=[],i,a=!1;l(e);var o=function(){return n};function s(u){t(),c(),r(u,!0)}function l(u){n.push(u),u.cont=function(d,f){a||(qm(n,u),u.cont=Wt,f?s(d):(u===e&&(i=d),n.length||(a=!0,r(i))))}}function c(){a||(a=!0,n.forEach(function(u){u.cont=Wt,u.cancel()}),n=[])}return{addTask:l,cancelAll:c,abort:s,getTasks:o}}function dD(e,t){return e+"?"+t}function ste(e){var t=WR(e);if(t){var r=t.code,n=t.fileName,i=t.lineNumber,a=r+"  "+dD(n,i);return a}return""}function iC(e){var t=e.name,r=e.location;return r?t+"  "+dD(r.fileName,r.lineNumber):t}function lte(e){var t=vee(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var g_=null,Vl=[],cte=function(t){t.crashedEffect=g_,Vl.push(t)},fD=function(){g_=null,Vl.length=0},ute=function(t){g_=t},dte=function(){var t=Vl[0],r=Vl.slice(1),n=t.crashedEffect?ste(t.crashedEffect):null,i="The above error occurred in task "+iC(t.meta)+(n?` 
 when executing effect `+n:"");return[i].concat(r.map(function(a){return"    created by "+iC(a.meta)}),[lte(Vl)]).join(`
`)};function fte(e,t,r,n,i,a,o){var s;o===void 0&&(o=Wt);var l=La,c,u,d=null,f=[],h=Object.create(r),v=ote(t,function(){f.push.apply(f,v.getTasks().map(function(w){return w.meta.name}))},x);function p(){l===La&&(l=ni,v.cancelAll(),x(os,!1))}function x(S,w){if(!w)S===os?l=ni:l!==ni&&(l=cD),c=S,d&&d.resolve(S);else{if(l=kd,cte({meta:i,cancelledTasks:f}),_.isRoot){var E=dte();fD(),e.onError(S,{sagaStack:E})}u=S,d&&d.reject(S)}_.cont(S,w),_.joiners.forEach(function(A){A.cb(S,w)}),_.joiners=null}function g(S){d_(h,S)}function b(){return d||(d=Lee(),l===kd?d.reject(u):l!==La&&d.resolve(c)),d.promise}var _=(s={},s[cee]=!0,s.id=n,s.meta=i,s.isRoot=a,s.context=h,s.joiners=[],s.queue=v,s.cancel=p,s.cont=o,s.end=x,s.setContext=g,s.toPromise=b,s.isRunning=function(){return l===La},s.isCancelled=function(){return l===ni||l===La&&t.status===ni},s.isAborted=function(){return l===kd},s.result=function(){return c},s.error=function(){return u},s);return _}function Fm(e,t,r,n,i,a,o){var s=e.finalizeRunEffect(h);f.cancel=Wt;var l={meta:i,cancel:d,status:La},c=fte(e,l,r,n,i,a,o),u={task:c,digestEffect:v};function d(){l.status===La&&(l.status=ni,f(os))}return o&&(o.cancel=c.cancel),f(),c;function f(p,x){try{var g;x?(g=t.throw(p),fD()):BR(p)?(l.status=ni,f.cancel(),g=xr(t.return)?t.return(os):{done:!0,value:os}):UR(p)?g=xr(t.return)?t.return():{done:!0}:g=t.next(p),g.done?(l.status!==ni&&(l.status=cD),l.cont(g.value)):v(g.value,n,f)}catch(b){if(l.status===ni)throw b;l.status=kd,l.cont(b,!0)}}function h(p,x,g){if(Wm(p))p_(p,g);else if(u_(p))Fm(e,p,c.context,x,i,!1,g);else if(p&&p[MR]){var b=ate[p.type];b(e,p.payload,g,u)}else g(p)}function v(p,x,g,b){b===void 0&&(b="");var _=uD();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:_,parentEffectId:x,label:b,effect:p});var S;function w(E,A){S||(S=!0,g.cancel=Wt,e.sagaMonitor&&(A?e.sagaMonitor.effectRejected(_,E):e.sagaMonitor.effectResolved(_,E)),A&&ute(p),g(E,A))}w.cancel=Wt,g.cancel=function(){S||(S=!0,w.cancel(),w.cancel=Wt,e.sagaMonitor&&e.sagaMonitor.effectCancelled(_))},s(p,_,w)}}function hte(e,t){for(var r=e.channel,n=r===void 0?lD():r,i=e.dispatch,a=e.getState,o=e.context,s=o===void 0?{}:o,l=e.sagaMonitor,c=e.effectMiddlewares,u=e.onError,d=u===void 0?yee:u,f=arguments.length,h=new Array(f>2?f-2:0),v=2;v<f;v++)h[v-2]=arguments[v];var p=t.apply(void 0,h),x=uD();l&&(l.rootSagaStarted=l.rootSagaStarted||Wt,l.effectTriggered=l.effectTriggered||Wt,l.effectResolved=l.effectResolved||Wt,l.effectRejected=l.effectRejected||Wt,l.effectCancelled=l.effectCancelled||Wt,l.actionDispatched=l.actionDispatched||Wt,l.rootSagaStarted({effectId:x,saga:t,args:h}));var g;if(c){var b=xee.apply(void 0,c);g=function(w){return function(E,A,C){var O=function(k){return w(k,A,C)};return b(O)(E)}}}else g=LR;var _={channel:n,dispatch:bee(i),getState:a,sagaMonitor:l,onError:d,finalizeRunEffect:g};return iD(function(){var S=Fm(_,p,s,x,f_(t),!0,void 0);return l&&l.effectResolved(x,S),S})}var mte=["context","channel","sagaMonitor"];function hD(e){var t=e===void 0?{}:e,r=t.context,n=r===void 0?{}:r,i=t.channel,a=i===void 0?lD():i,o=t.sagaMonitor,s=dee(t,mte),l;function c(u){var d=u.getState,f=u.dispatch;return l=hte.bind(null,_c({},s,{context:n,channel:a,dispatch:f,getState:d,sagaMonitor:o})),function(h){return function(v){o&&o.actionDispatched&&o.actionDispatched(v);var p=h(v);return a.put(v),p}}}return c.run=function(){return l.apply(void 0,arguments)},c.setContext=function(u){d_(n,u)},c}var y_=Object.defineProperty,vte=Object.defineProperties,pte=Object.getOwnPropertyDescriptor,gte=Object.getOwnPropertyDescriptors,yte=Object.getOwnPropertyNames,ah=Object.getOwnPropertySymbols,b_=Object.prototype.hasOwnProperty,mD=Object.prototype.propertyIsEnumerable,jy=(e,t,r)=>t in e?y_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t)=>{for(var r in t||(t={}))b_.call(t,r)&&jy(e,r,t[r]);if(ah)for(var r of ah(t))mD.call(t,r)&&jy(e,r,t[r]);return e},Ae=(e,t)=>vte(e,gte(t)),_n=(e,t)=>{var r={};for(var n in e)b_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ah)for(var n of ah(e))t.indexOf(n)<0&&mD.call(e,n)&&(r[n]=e[n]);return r},On=(e,t)=>{for(var r in t)y_(e,r,{get:t[r],enumerable:!0})},bte=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of yte(t))!b_.call(e,i)&&i!==r&&y_(e,i,{get:()=>t[i],enumerable:!(n=pte(t,i))||n.enumerable});return e},vD=(e,t,r)=>(bte(e,t,"default"),r),Z=(e,t,r)=>jy(e,typeof t!="symbol"?t+"":t,r),xte="wss://relay.signalwire.com",pD=":",x_="__local__",gD="__synthetic__",_te="video",Ste="chat",Ko="chat",yD=Symbol.for("sw-execute-connection-closed"),bD=Symbol.for("sw-execute-timeout"),wte=Symbol.for("sw-connect-error"),Ete=()=>new Date().toISOString(),gu=AR.getLogger("signalwire"),Ate=gu.methodFactory;gu.methodFactory=(e,t,r)=>{const n=Ate(e,t,r);return function(...i){i.unshift(Ete(),"-"),n.apply(void 0,i)}};var Cte=gu.getLevel();gu.setLevel(Cte);var Py,Ote=e=>{Py=e},Ny={},Tte=e=>{if(e==null){Ny={};return}Object.assign(Ny,e)},xD=()=>Py??gu,Mte=e=>!("method"in e&&e.method==="signalwire.ping"),kte=({type:e,payload:t})=>{const r=xD(),{logWsTraffic:n}=Ny||{};if(!n)return;const i=Mte(t)?JSON.stringify(t,null,2):t;return r.info(`${e.toUpperCase()}: 
`,i,`
`)},I=()=>{const e=xD();return new Proxy(e,{get(t,r,n){return r==="wsTraffic"?kte:Reflect.get(t,r,n)}})},jte=/[A-Z]/g,_D=e=>e.replace(jte,t=>`_${t.toLowerCase()}`),Pte=["webrtc.message"],SD=e=>Pte.includes(e),Nte=({response:e,request:t})=>{const{result:r={},error:n}=e;if(n)return{error:n};switch(t.method){case"signalwire.connect":return{result:r};default:return wD(e)}},Rte=/^2[0-9][0-9]$/,wD=(e,t)=>{const{result:r={},error:n}=e;if(n)return{error:n};const{code:i,node_id:a,result:o=null}=r;return i&&!Rte.test(i)?{error:r}:o===null?(t&&(r.node_id=t),{result:r}):o?o.jsonrpc?wD(o,a):{result:o}:{result:r}},Dte=e=>{if(typeof e>"u")return e;const t=new Date(e*1e3);return isNaN(t.getTime())?e:t},Ite={propsToUpdateValue:["updated","layers","members","recordings","playbacks"]},Lte=e=>e.endsWith("At"),Hr=(e,t=Ite)=>e!=null&&e.__sw_symbol||e!=null&&e.__sw_proxy?e:Object.entries(e).reduce((r,[n,i])=>{const a=Ry(n);return typeof i==="object"&&i?Array.isArray(i)?t.propsToUpdateValue.includes(n)?r[a]=i.map(s=>typeof s=="string"?Ry(s):Hr(s)):r[a]=i:r[a]=Hr(i):Lte(a)?r[a]=Dte(i):r[a]=i,r},{}),Ry=e=>e.includes("_")?e.split("_").reduce((t,r,n)=>{const i=r.trim().charAt(0),a=r.substr(1).toLowerCase();return`${t}${n===0?i.toLowerCase():i.toUpperCase()}${a}`},""):e,zte=({event:e,namespace:t})=>(typeof e=="string"&&(e=$te({event:e,namespace:t}),e=_D(e)),e),$te=({namespace:e,event:t})=>!e||t.startsWith(e)?t:`${e}${pD}${t}`,Ute=e=>{const{event_type:t,params:r,node_id:n}=e;if(t==="queuing.relay.tasks")return{type:t,payload:e};if(SD(t)&&(r!=null&&r.jsonrpc)){const i=r;return i.params&&(i.params.nodeId=n),{type:t,payload:i}}return{type:t,payload:r}},Dy=(e,t=n=>n,r={})=>(Array.isArray(e)?r=e.map((n,i)=>typeof n=="object"?Dy(n,t,r[i]):n):Object.keys(e).forEach(n=>{const i=_D(n);e[n]&&typeof e[n]=="object"?r[i]=Dy(e[n],t,r[i]):r[i]=t(e[n])}),r),Xm=(e,t)=>(Object.keys(t).forEach(r=>{if(e.prototype.hasOwnProperty(r))throw new Error(`[extendComponent] Duplicated method name: ${r}`)}),Object.defineProperties(e.prototype,t),e);function Bte(e,t=0,r){let n=null,i=null;const a=function(){n&&(clearTimeout(n),i=null,n=null)},o=function(){const l=i;a(),l&&l()},s=function(){if(!t)return e.apply(this,arguments);const l=this,c=arguments;a(),i=function(){e.apply(l,c)},n=setTimeout(function(){n=null;{const u=i;return i=null,u==null?void 0:u()}},t)};return s.cancel=a,s.flush=o,s}var Vte=class{constructor(e,t={}){this.type=e,Z(this,"code"),Z(this,"reason"),Z(this,"wasClean"),this.code=t.code===void 0?0:t.code,this.reason=t.reason===void 0?"":t.reason,this.wasClean=t.wasClean===void 0?!1:t.wasClean}},Aa=(e,t)=>{if(t&&typeof t=="string"){const n=new RegExp(`^${t}.`);return e.replace(n,"")}const r=e.split(".");return r.length>1?(r.shift(),r.join(".")):e},Hte=10,Wte=100,qte=1,ED=({delayLimit:e=Number.MAX_SAFE_INTEGER,initialDelay:t=Wte,variation:r=qte})=>{if(t<0||e<0||r<0)throw new Error("No Negative Numbers");if(t>e)throw new Error("initialDelay must be lte delayLimit");let n=Math.min(t,e);return()=>{if(n===e)return e;const i=n;return n=Math.min(n+r,e),i}},AD=async({asyncCallable:e,maxRetries:t=Hte,delayFn:r,validator:n,expectedErrorHandler:i})=>{let a=t-1,o=0;const s=async()=>{var l;try{let c;return o<=0?c=await e():c=await new Promise((u,d)=>setTimeout(()=>{e().then(u).catch(d)},o)),a&&(n==null||n(c)),c}catch(c){if(a-- >0&&!(i!=null&&i(c)))return o=(l=r==null?void 0:r())!=null?l:0,I().debug(`Retrying request: ${t-a} of ${t}`),s();throw c}};return s()},Kte=e=>{if(typeof e!="string")return e;try{return JSON.parse(e)}catch{return e}},Yte=/^(ws|wss):\/\//,Gte=e=>`${Yte.test(e)?"":"wss://"}${e}`,Fte=(e,t,r)=>{let n=null;return Promise.race([e,new Promise((i,a)=>n=setTimeout(a,t,r))]).finally(()=>clearTimeout(n))},Xte=e=>e.includes(gD),Qte=e=>e.includes("session."),Zte=e=>{const t=e.split(pD);return t[t.length-1]},Jte=["video.member.updated","video.member.talking"],ere=["video.room.joined","video.track","video.active","video.answering","video.destroy","video.early","video.hangup","video.held","video.new","video.purge","video.recovering","video.requesting","video.ringing","video.trying","video.media.connected","video.media.reconnecting","video.media.disconnected","video.microphone.updated","video.camera.updated","video.speaker.updated","video.microphone.disconnected","video.camera.disconnected","video.speaker.disconnected"],yu=e=>{const t=e.map(r=>{if(typeof r=="string"){const n=Zte(r);return ere.includes(n)||Xte(n)||tre(n)||Qte(n)?null:Jte.find(a=>n.startsWith(a))||n}return r});return Array.from(new Set(t)).filter(Boolean)},tre=e=>e.includes(x_),rre=e=>{const r=e.split(".")[0];return e.split(".").reduce((n,i)=>(n.push(i),i===r&&n.push(gD),n),[]).join(".")},__=e=>!!e.method,nre=e=>!__(e),ire=e=>typeof e<"u"&&"jti"in e,CD=e=>__(e)&&e.method=="signalwire.connect",are=e=>{var t;return __(e)&&e.method=="webrtc.verto"&&((t=e.params)==null?void 0:t.message.method)==="verto.invite"},Qm=e=>{var t;return G({jsonrpc:"2.0",id:(t=e.id)!=null?t:$r()},e)},S_=e=>G({jsonrpc:"2.0"},e),OD={major:3,minor:0,revision:0},ore={major:4,minor:0,revision:0},TD=e=>Qm({method:"signalwire.connect",params:G({version:OD,event_acks:!0},e)}),MD=e=>Qm({method:"signalwire.reauthenticate",params:{authentication:e}}),sre=(e,t)=>S_({id:e,result:{timestamp:t||Date.now()/1e3}}),lre=({method:e,params:t})=>Qm({method:e,params:t}),cre=e=>S_({id:e,result:{}}),aC={id:"callID",destinationNumber:"destination_number",remoteCallerName:"remote_caller_id_name",remoteCallerNumber:"remote_caller_id_number",callerName:"caller_id_name",callerNumber:"caller_id_number",fromFabricAddressId:"from_fabric_address_id"},ure=e=>{if(e.hasOwnProperty("dialogParams")){const t=e.dialogParams,{remoteSdp:r,localStream:n,remoteStream:i}=t,a=_n(t,["remoteSdp","localStream","remoteStream"]);for(const o in aC)o&&a.hasOwnProperty(o)&&(a[aC[o]]=a[o],delete a[o]);e.dialogParams=a}return e},kD=e=>(t={})=>Qm({method:e,params:ure(t)}),dre=kD("verto.bye"),fre=kD("verto.subscribe"),hre=e=>S_({id:e,result:{}}),mi={};On(mi,{authErrorAction:()=>Ts,authExpiringAction:()=>wc,authSuccessAction:()=>Sc,createAction:()=>lr,destroyAction:()=>xu,getCustomSagaActionType:()=>ND,initAction:()=>bu,makeCustomSagaAction:()=>w_,reauthAction:()=>Os,sessionDisconnectedAction:()=>ev,sessionForceCloseAction:()=>oh,sessionReconnectingAction:()=>Ec,socketMessageAction:()=>Jm});var Zm={};On(Zm,{configureStore:()=>jD,createAction:()=>lr});vD(Zm,oee);function lr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error("prepareAction did not return an object");return G(G({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>n.type===e,r}var mre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xc:xc.apply(null,arguments)};function vre(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function pre(){return function(){return[]}}function jD(e){const t=pre(),{reducer:r=void 0,middleware:n=t(),devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(vre(r))s=CR(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');let l=n;typeof l=="function"&&(l=l(t));const c=OR(...l);let u=xc;i&&(u=mre(G({trace:!1},typeof i=="object"&&i)));let d=[c];Array.isArray(o)?d=[c,...o]:typeof o=="function"&&(d=o(d));const f=u(...d);return Hm(s,a,f)}var bu=lr("swSdk/init"),xu=lr("swSdk/destroy"),Os=lr("swSdk/reauth"),Ts=lr("auth/error"),Sc=lr("auth/success"),wc=lr("auth/expiring"),Jm=lr("socket/message"),ev=lr("session.disconnected"),Ec=lr("session.reconnecting"),oh=lr("session.forceClose"),PD=(e,t)=>`${t.type}/${e}`,w_=(e,t)=>Ae(G({},t),{type:PD(e,t)}),ND=(e,t)=>PD(e,t);function RD(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function gre(e){return typeof e=="function"}function yre(e,t,r=[],n){let[i,a,o]=typeof t=="function"?RD(t):[t,r,n],s;gre(e)?s=()=>e():s=()=>e;function l(c=s(),u){let d=[i[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[o]),d.reduce((f,h)=>h?h(f,u):f,c)}return l.getInitialState=s,l}function bre(e,t){return`${e}/${t}`}function xre(e){const{name:t}=e;if(!t)throw new Error("`name` is a required option for createSlice");const r=e.initialState,n=e.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(u=>{const d=n[u],f=bre(t,u);let h,v;"reducer"in d?(h=d.reducer,v=d.prepare):h=d,a[u]=h,o[f]=h,s[u]=v?lr(f,v):lr(f)});function l(){const[u={},d=[],f=void 0]=typeof e.extraReducers=="function"?RD(e.extraReducers):[e.extraReducers],h=G(G({},u),o);return yre(r,h,d,f)}let c;return{name:t,reducer(u,d){return c||(c=l()),c(u,d)},actions:s,caseReducers:a,getInitialState(){return c||(c=l()),c.getInitialState()}}}var DD=({name:e="",initialState:t,reducers:r,extraReducers:n})=>xre({name:e,initialState:t,reducers:r,extraReducers:i=>{i.addCase(xu.type,()=>t),typeof n=="function"&&n(i)}}),_re={protocol:"",iceServers:[],authStatus:"unknown",authorization:void 0,authorizationState:void 0,authError:void 0,authCount:0};function Sre(e){return[bu.type,Os.type].includes(e.type)}var wre=DD({name:"session",initialState:_re,reducers:{connected:(e,{payload:t})=>{var r,n;return Ae(G({},e),{authStatus:"authorized",authorization:t==null?void 0:t.authorization,authCount:e.authCount+1,protocol:(r=t==null?void 0:t.protocol)!=null?r:"",iceServers:(n=t==null?void 0:t.ice_servers)!=null?n:[]})},authStatus:(e,{payload:t})=>Ae(G({},e),{authStatus:t}),updateAuthorization:(e,{payload:t})=>Ae(G({},e),{authorization:t}),updateAuthorizationState:(e,{payload:t})=>Ae(G({},e),{authorizationState:t})},extraReducers:e=>{e.addCase(Ts.type,(t,{payload:r})=>Ae(G({},t),{authStatus:"unauthorized",authError:r.error})),e.addMatcher(Sre,t=>Ae(G({},t),{authStatus:"authorizing"}))}}),{actions:tv,reducer:Ere}=wre,Are=Symbol("BaseSession"),Cre=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),Ore=()=>Cre(1,4)*1e3,ID=class{constructor(t){this.options=t,Z(this,"__sw_symbol",Are),Z(this,"uuid",$r()),Z(this,"WebSocketConstructor"),Z(this,"CloseEventConstructor"),Z(this,"agent"),Z(this,"connectVersion",OD),Z(this,"_rpcConnectResult"),Z(this,"_requests",new Map),Z(this,"_socket",null),Z(this,"_host",xte),Z(this,"_executeTimeoutMs",10*1e3),Z(this,"_executeTimeoutError",bD),Z(this,"_executeQueue",new Set),Z(this,"_swConnectError",wte),Z(this,"_executeConnectionClosed",yD),Z(this,"_checkPingDelay",15*1e3),Z(this,"_checkPingTimer",null),Z(this,"_reconnectTimer"),Z(this,"_status","unknown"),Z(this,"_resolveWaitConnected",null),Z(this,"_sessionChannel"),Z(this,"wsOpenHandler"),Z(this,"wsCloseHandler"),Z(this,"wsErrorHandler");var r,n;const{host:i,logLevel:a="info",sessionChannel:o}=t;i&&(this._host=Gte(i)),o&&(this._sessionChannel=o),a&&((n=(r=this.logger).setLevel)==null||n.call(r,a)),this._onSocketOpen=this._onSocketOpen.bind(this),this._onSocketError=this._onSocketError.bind(this),this._onSocketClose=this._onSocketClose.bind(this),this._onSocketMessage=this._onSocketMessage.bind(this),this.execute=this.execute.bind(this),this.connect=this.connect.bind(this),this.wsOpenHandler=s=>{var l;(l=this._socket)==null||l.removeEventListener("open",this.wsOpenHandler),this._onSocketOpen(s)},this.wsCloseHandler=s=>{var l;(l=this._socket)==null||l.removeEventListener("close",this.wsCloseHandler),this._onSocketClose(s)},this.wsErrorHandler=s=>{var l;(l=this._socket)==null||l.removeEventListener("error",this.wsErrorHandler),this._onSocketError(s)}}get host(){return this._host}get rpcConnectResult(){return this._rpcConnectResult}get relayProtocol(){var t,r;return(r=(t=this._rpcConnectResult)==null?void 0:t.protocol)!=null?r:""}get signature(){if(this._rpcConnectResult){const{authorization:t}=this._rpcConnectResult;return t.signature}}get logger(){return I()}get connecting(){var t;return((t=this._socket)==null?void 0:t.readyState)===0}get connected(){var t;return((t=this._socket)==null?void 0:t.readyState)===1}get closing(){var t;return((t=this._socket)==null?void 0:t.readyState)===2}get closed(){return this._socket?this._socket.readyState===3:!0}get status(){return this._status}get idle(){return this._status==="idle"}get ready(){return!(this.idle||!this.connected)}async _waitConnected(){return new Promise(t=>{this.connected?t():this._resolveWaitConnected=t})}set token(t){this.options.token=t}connect(){if(!(this!=null&&this.WebSocketConstructor))throw new Error("Missing WebSocketConstructor");if(!(this!=null&&this.CloseEventConstructor))throw new Error("Missing CloseEventConstructor");if(this._clearTimers(),this.connecting||this.connected){this.logger.warn("Session already connected.");return}this._removeSocketListeners(),this.destroySocket(),this._clearCheckPingTimer(),this._socket=this._createSocket(),this._addSocketListeners()}_createSocket(){return new this.WebSocketConstructor(this._host)}destroySocket(){this._socket&&(this._socket.close(),this.wsCloseHandler(new this.CloseEventConstructor("close",{reason:"Client-side closed"})),this._socket=null)}_addSocketListeners(){if(!this._socket)return this.logger.debug("Invalid socket instance to add listeners");this._removeSocketListeners(),this._socket.addEventListener("open",this.wsOpenHandler),this._socket.addEventListener("close",this.wsCloseHandler),this._socket.addEventListener("error",this.wsErrorHandler),this._socket.addEventListener("message",this._onSocketMessage)}_removeSocketListeners(){if(!this._socket)return this.logger.debug("Invalid socket instance to remove listeners");this._socket.removeEventListener("open",this.wsOpenHandler),this._socket.removeEventListener("close",this.wsCloseHandler),this._socket.removeEventListener("error",this.wsErrorHandler),this._socket.removeEventListener("message",this._onSocketMessage)}disconnect(){if(!this._socket||this.closing){this.logger.debug("Session not connected or already in closing state.");return}this._status="disconnecting",this._checkCurrentStatus()}execute(t){if(this._status==="disconnecting")return this.logger.warn("Reject request because the session is disconnecting",t),Promise.reject({code:"400",message:"The SDK session is disconnecting"});if(this._status==="disconnected")return Promise.reject({code:"400",message:"The SDK is disconnected"});let r=Promise.resolve();return"params"in t&&(r=new Promise((n,i)=>{this._requests.set(t.id,{rpcRequest:t,resolve:n,reject:i})})),this.ready?(this._send(t),Fte(r,this._executeTimeoutMs,this._executeTimeoutError).catch(n=>{if(n===this._executeConnectionClosed)throw this._executeConnectionClosed;if(n===this._executeTimeoutError){if(CD(t))throw this._swConnectError;if(this._checkCurrentStatus(),this.logger.error("Request Timeout",t),this.status==="disconnected")return this.logger.debug("Request failed because the session is disconnected",this.status,this._socket);this._closeConnection("reconnecting")}else throw n})):(this._addToExecuteQueue(t),this.connect(),r)}get _connectParams(){return{agent:this.agent,version:this.connectVersion,authentication:{project:this.options.project,token:this.options.token}}}async authenticate(){var t,r;const n=this._connectParams;this._relayProtocolIsValid()&&(n.protocol=this.relayProtocol),(t=this.options.topics)!=null&&t.length?n.contexts=this.options.topics:(r=this.options.contexts)!=null&&r.length&&(n.contexts=this.options.contexts),this._rpcConnectResult=await this.execute(TD(n))}authError(t){this._removeSocketListeners(),this.dispatch(Ts({error:t}))}forceClose(){return this._removeSocketListeners(),this._closeConnection("reconnecting")}async _onSocketOpen(t){var r;this.logger.debug("_onSocketOpen",t.type);try{this._status="unknown",this._clearTimers(),await this.authenticate(),this._status="connected",(r=this._resolveWaitConnected)==null||r.call(this),this._flushExecuteQueue(),this.dispatch(Sc())}catch(n){if(n===this._swConnectError||n===this._executeConnectionClosed){this.logger.debug("Invalid connect or connection closed. Waiting for retry.");return}this.logger.error("Auth Error",n),this.authError(n)}}_onSocketError(t){this.logger.debug("_onSocketError",t)}_onSocketClose(t){this.logger.debug("_onSocketClose",t.type,t.code,t.reason),this._status!=="disconnected"&&(this._status="reconnecting",this.dispatch(Ec()),this._clearTimers(),this._clearPendingRequests(),this._reconnectTimer=setTimeout(()=>{this.connect()},Ore())),this._socket=null}_clearTimers(){clearTimeout(this._reconnectTimer)}_clearPendingRequests(){this.logger.debug("_clearPendingRequests",this._requests.size),this._requests.forEach(({reject:t})=>{t(this._executeConnectionClosed)}),this._requests.clear()}_onSocketMessage(t){const r=this.decode(t.data);if(this.logger.wsTraffic({type:"recv",payload:r}),nre(r)){const n=this._requests.get(r.id);if(n){const{rpcRequest:i,resolve:a,reject:o}=n;this._requests.delete(r.id);const{result:s,error:l}=Nte({response:r,request:i});return this._checkCurrentStatus(),l?o(l):a(s)}return this.logger.warn("Unknown request for",r)}switch(r.method){case"signalwire.ping":return this._pingHandler(r);case"signalwire.disconnect":{this.execute(cre(r.id)).catch(n=>{this.logger.error("SwDisconnect Error",n)}).finally(()=>{this._status="idle"});break}default:this._eventAcknowledgingHandler(r).catch(n=>this.logger.error("Event Acknowledging Error",n)),this.dispatch(Jm(r))}}dispatch(t){if(!this._sessionChannel)throw new Error("Session channel does not exist");this._sessionChannel.put(t)}_relayProtocolIsValid(){var t;return this.signature&&((t=this==null?void 0:this.relayProtocol)==null?void 0:t.split("_")[1])===this.signature}encode(t){return JSON.stringify(t)}decode(t){return Kte(t)}async onSwAuthorizationState(t){this.persistSwAuthorizationState(t)}async retrieveSwAuthorizationState(){return""}async persistSwAuthorizationState(t){}_send(t){this.logger.wsTraffic({type:"send",payload:t}),this._socket.send(this.encode(t))}_addToExecuteQueue(t){this.logger.warn("Request queued waiting for session to reconnect",t),this._executeQueue.add(t)}_flushExecuteQueue(){if(this._executeQueue.size){if(!this.ready){this.logger.warn("Session not ready to flush the queue."),this._closeConnection("reconnecting");return}this.logger.debug(`${this._executeQueue.size} messages to flush`),this._executeQueue.forEach(t=>{this._send(t),this._executeQueue.delete(t)}),this._executeQueue.clear()}}_clearCheckPingTimer(){clearTimeout(this._checkPingTimer)}async _pingHandler(t){var r;this._clearCheckPingTimer(),this._checkPingTimer=setTimeout(()=>{this.logger.debug("Timeout waiting for ping"),this._closeConnection("reconnecting")},this._checkPingDelay),await this.execute(sre(t.id,(r=t==null?void 0:t.params)==null?void 0:r.timestamp))}async _eventAcknowledgingHandler(t){const{method:r,id:n}=t;return r==="signalwire.event"?this.execute(hre(n)):Promise.resolve()}_checkCurrentStatus(){switch(this._status){case"disconnecting":if(this._requests.size>0)return;this._requests.clear(),this._closeConnection("disconnected");break;case"disconnected":this.dispatch(ev());break;case"reconnecting":this.wsCloseHandler(new this.CloseEventConstructor("close",{reason:"Client-side closed"}));break}}_closeConnection(t){this._clearCheckPingTimer(),this.logger.debug("Close Connection:",t),this._status=t,this.dispatch(tv.authStatus(t==="disconnected"?"unauthorized":"unknown")),this._removeSocketListeners(),this.destroySocket(),this._checkCurrentStatus()}},Tre=class extends ID{constructor(e){super(e),this.options=e,Z(this,"_expiredDiffSeconds",0),Z(this,"_refreshTokenNotificationDiff",120),Z(this,"_checkTokenExpirationDelay",20*1e3),Z(this,"_checkTokenExpirationTimer",null),this._checkTokenExpiration=this._checkTokenExpiration.bind(this),this.reauthenticate=this.reauthenticate.bind(this)}get expiresAt(){var e;if(!(this!=null&&this._rpcConnectResult))return 0;const{authorization:t}=this._rpcConnectResult,r=(e=ire(t)?t.fabric_subscriber.expires_at:t==null?void 0:t.expires_at)!=null?e:0;if(typeof r=="string"){const n=Date.parse(r);if(!isNaN(n))return Math.floor(n/1e3)}return r}get expiresIn(){const e=Math.floor(Date.now()/1e3);return this.expiresAt-e}get expired(){return this.expiresAt>0&&this.expiresIn<=this._expiredDiffSeconds}async authenticate(){const e=Ae(G({},this._connectParams),{authentication:{jwt_token:this.options.token}});if(this._relayProtocolIsValid())e.protocol=this.relayProtocol;else{const t=await this.retrieveRelayProtocol();t&&(e.protocol=t)}if(e.protocol){const t=await this.retrieveSwAuthorizationState();t&&(e.authorization_state=t)}try{this._rpcConnectResult=await this.execute(TD(e)),await this.persistRelayProtocol(),await this._checkTokenExpiration()}catch(t){if(this.logger.debug("BaseJWTSession authenticate error",t),t.message==="Requester validation failed"){this.removeRelayProtocol(),this.removeSwAuthorizationState(),this.removePrevCallId(),await this.authenticate();return}throw t}}async retrieveRelayProtocol(){return""}async persistRelayProtocol(){}removeRelayProtocol(){}removeSwAuthorizationState(){}removePrevCallId(){}async reauthenticate(){if(this.logger.debug("Session Reauthenticate",{ready:this.ready,expired:this.expired}),!this.ready||this.expired)return this.connect();const e={project:this._rpcConnectResult.authorization.project_id,jwt_token:this.options.token};try{this._rpcConnectResult=await this.execute(MD(e))}catch(t){throw clearTimeout(this._checkTokenExpirationTimer),t}}_onSocketClose(e){clearTimeout(this._checkTokenExpirationTimer),super._onSocketClose(e)}async _checkTokenExpiration(){if(!this.expiresAt)return;const e=this.options.onRefreshToken;if(this.expiresIn<=this._refreshTokenNotificationDiff)if(this.dispatch(wc()),typeof e=="function")try{const t=await e();this.dispatch(Os({token:t}))}catch(t){this.logger.error(t)}else this.logger.warn("The token is going to expire!");clearTimeout(this._checkTokenExpirationTimer),this.expired||(this._checkTokenExpirationTimer=setTimeout(this._checkTokenExpiration,this._checkTokenExpirationDelay))}},LD={};On(LD,{authErrorAction:()=>Ts,authExpiringAction:()=>wc,authSuccessAction:()=>Sc,configureStore:()=>_u,connect:()=>Wr,createAction:()=>lr,createCatchableSaga:()=>A_,createRestartableSaga:()=>E_,destroyAction:()=>xu,eventChannel:()=>Gm,getCustomSagaActionType:()=>ND,initAction:()=>bu,makeCustomSagaAction:()=>w_,reauthAction:()=>Os,sessionDisconnectedAction:()=>ev,sessionForceCloseAction:()=>oh,sessionReconnectingAction:()=>Ec,socketMessageAction:()=>Jm});var Mre={byId:{}},kre=DD({name:"components",initialState:Mre,reducers:{upsert:(e,{payload:t})=>t.id in e.byId?Ae(G({},e),{byId:Ae(G({},e.byId),{[t.id]:G(G({},e.byId[t.id]),t)})}):Ae(G({},e),{byId:Ae(G({},e.byId),{[t.id]:t})}),cleanup:(e,{payload:t})=>Ae(G({},e),{byId:Object.entries(e.byId).reduce((r,[n,i])=>(t.ids.includes(n)||(r[n]=i),r),{})})}}),{actions:jre,reducer:Pre}=kre,Nre=(0,Zm.combineReducers)({components:Pre,session:Ere}),Rre={};On(Rre,{createCatchableSaga:()=>A_,createRestartableSaga:()=>E_,eventChannel:()=>Gm});var E_=e=>function*(){eD(function*(){for(;;)try{I().debug("Run a restartable saga"),yield tt(e),I().debug("One of the restartable saga has ended. Restarting..")}catch(t){I().error("Restartable Saga Error",t)}})},Dre=e=>I().error("Catchable Saga Error",e),A_=(e,t=Dre)=>function*(...r){try{yield tt(e,...r)}catch(n){t(n)}},Ire=e=>SD(e==null?void 0:e.event_type),Lre=e=>{var t;return!!((t=e==null?void 0:e.event_type)!=null&&t.startsWith("video."))},zre=e=>(e==null?void 0:e.event_type)==="signalwire.authorization.state";function*$re({sessionChannel:e,swEventChannel:t,session:r}){I().debug("sessionChannelWatcher [started]");function*n(o){if(yield bt(t,Ute(o)),!(Ire(o)||Lre(o))){if(zre(o)){r.onSwAuthorizationState(o.params.authorization_state),yield bt(tv.updateAuthorizationState(o.params.authorization_state));return}yield bt({type:o.event_type,payload:o})}}function*i(o){if(o.type!==Jm.type){yield bt(o);return}const{method:s,params:l}=o.payload;switch(s){case"signalwire.event":yield te(n,l);break;default:return I().debug(`Unknown message: ${s}`,o)}}const a=A_(i,o=>{I().error("Channel Error",o)});for(;;)try{for(;;){const o=yield ye(e);yield te(a,o)}}catch(o){I().error("sessionChannelWorker error:",o)}finally{I().debug("sessionChannelWorker [finally]")}}var C_=class zD extends Error{constructor(t,r){super(r),this.code=t,this.message=r,Z(this,"name","AuthError"),Object.setPrototypeOf(this,zD.prototype)}},Iy=class $D extends Error{constructor(t,r,n){super(r),this.code=t,this.message=r,this.response=n,Z(this,"name","HttpError"),Object.setPrototypeOf(this,$D.prototype)}},Ft=class extends Error{constructor(e){super(e),this.name="CapabilityError"}};function*Ure({initSession:e,sessionEmitter:t,userOptions:r,channels:n}){var i;I().debug("sessionSaga [started]");const a=e(),o=n.swEventChannel,s=n.sessionChannel;let l=[];if((i=r.workers)!=null&&i.length)try{const d=r.workers.map(f=>tt(E_(f)));l=yield ZR(d)}catch(d){I().error("Error running custom workers",d)}const c=yield te($re,{session:a,sessionChannel:s,swEventChannel:o}),u=yield te(Vre,{session:a,sessionEmitter:t,sessionChannel:s,userOptions:r});a.connect(),yield ye(xu.type),a.disconnect(),yield ye(ev.type),t.emit("session.disconnected"),u.cancel(),c.cancel(),l.forEach(d=>d.cancel()),o.close(),s.close(),I().debug("sessionSaga [ended]")}function*Bre({session:e,token:t,sessionEmitter:r}){try{e.reauthenticate&&(e.token=t,yield tt(e.reauthenticate),yield bt(tv.connected(e.rpcConnectResult)),r.emit("session.connected"))}catch(n){I().error("Reauthenticate Error",n),e.authError(n)}}function*Vre(e){I().debug("sessionStatusWatcher [started]");const{session:t,sessionEmitter:r}=e;try{for(;;){const n=yield ye([Sc.type,Ts.type,wc.type,Os.type,Ec.type,oh.type]);switch(I().debug("sessionStatusWatcher",n.type,n.payload),n.type){case Sc.type:{yield bt(tv.connected(t.rpcConnectResult)),r.emit("session.connected");break}case Ts.type:{yield te(Hre,Ae(G({},e),{action:n}));break}case wc.type:{r.emit("session.expiring");break}case Os.type:{yield te(Bre,{session:t,token:n.payload.token,sessionEmitter:r});break}case Ec.type:{r.emit("session.reconnecting");break}case oh.type:{t.forceClose();break}}}}finally{(yield Fs())&&I().debug("sessionStatusWatcher [cancelled]")}}function*Hre(e){I().debug("sessionAuthErrorSaga [started]");try{const{action:t,sessionEmitter:r}=e,{error:n}=t.payload,i=n?new C_(n.code,n.message):new Error("Unauthorized");r.emit("session.auth_error",i)}finally{(yield Fs())&&I().debug("sessionAuthErrorSaga [cancelled]")}}var Wre=e=>function*({userOptions:r,channels:n}){for(I().debug("rootSaga [started]"),r.logger&&Ote(r.logger),r.debug&&Tte(r.debug);;){yield ye(bu.type);try{yield tt(Ure,Ae(G({},e),{userOptions:r,channels:n}));break}catch(i){I().error("RootSaga Error:",i)}finally{(yield Fs())&&I().debug("rootSaga [cancelled]"),I().debug("Reboot rootSaga")}}I().debug("rootSaga [finished]")},UD={};On(UD,{getAuthError:()=>VD,getAuthStatus:()=>sh,getAuthorization:()=>O_,getAuthorizationState:()=>Kre,getIceServers:()=>qre,getProtocol:()=>Yre,getSession:()=>BD});var qre=({session:e})=>{var t;return(t=e==null?void 0:e.iceServers)!=null?t:[]},BD=e=>e.session,sh=({session:e})=>e.authStatus,VD=({session:e})=>e.authError,O_=({session:e})=>e.authorization,Kre=({session:e})=>e.authorizationState,Yre=({session:e})=>e.protocol,Wr=e=>{const{sessionListeners:t={},store:r,Component:n,customSagas:i=[]}=e,a=Object.keys(t);return o=>{const s=new n(Ae(G({},o),{store:r})),l=new Map;let c=!0;const u=r.subscribe(()=>{const f=r.getState(),h=BD(f);for(const v of a){if(c===!1)return;const p=`session.${v}`,x=l.get(p),g=h[v];if(g!==void 0&&x!==g){l.set(p,g);const b=t[v];typeof b=="string"?s[b](h):typeof b=="function"&&b(h)}}}),d=i==null?void 0:i.map(f=>r.runSaga(f,{instance:s,runSaga:r.runSaga}));return s.destroyer=()=>{c=!1,u(),l.clear(),d!=null&&d.length&&d.forEach(f=>f.cancel())},s}},HD=()=>new Di,Gre=e=>{const{SessionConstructor:t,userOptions:r,sessionChannel:n}=e,i=HD();let a=null;return{session:a,initSession:()=>(a=new t(Ae(G({},r),{sessionChannel:n})),a),getSession:()=>(a||I().warn("Session does not exist!"),a),sessionEmitter:i}},Fre=()=>{const e=new Map;return{get:o=>e.get(o),set:(o,s)=>(e.set(o,s),e),remove:o=>(e.delete(o),e),getAll:()=>Array.from(e.entries()),deleteAll:()=>(e.clear(),e)}};vD(LD,Zm);var _u=e=>{var t;const{userOptions:r,SessionConstructor:n,preloadedState:i={},runRootSaga:a=!0}=e,o=hD({sagaMonitor:r.sagaMonitor}),s=vu(),l=Xs(),c={swEventChannel:s,sessionChannel:l},u=jD({devTools:(t=r==null?void 0:r.devTools)!=null?t:!0,reducer:Nre,preloadedState:i,middleware:x=>x().concat(o)}),d=Fre(),{initSession:f,getSession:h,sessionEmitter:v}=Gre({userOptions:r,sessionChannel:l,SessionConstructor:n}),p=(x,g)=>o.run(x,Ae(G({},g),{channels:c,getSession:h,instanceMap:d}));if(a){const x=Wre({initSession:f,sessionEmitter:v});o.run(x,{userOptions:r,channels:c})}return Ae(G({},u),{runSaga:p,channels:c,instanceMap:d,sessionEmitter:v})},Xre=function*(e){const{initialState:t,onDone:r,onFail:n,getSession:i}=e,{requestId:a,method:o,params:s}=t,l=i();if(!l){const c=new Error("Session does not exist!");I().error(c),n==null||n(c);return}try{let c=lre({id:a,method:o,params:s});const u=yield tt(l.execute,c);r==null||r(u)}catch(c){I().warn("Execute error: ",c),n==null||n(c)}},Ao=e=>e,Qre=Symbol("BaseComponent"),Qs=class{constructor(t){this.options=t,Z(this,"__sw_symbol",Qre),Z(this,"uuid",$r()),Z(this,"_customSagaTriggers",new Map),Z(this,"_destroyer"),Z(this,"eventEmitter"),Z(this,"_runningWorkers",[]),Z(this,"_workers",new Map),this.eventEmitter=new Di}get __uuid(){return this.uuid}get logger(){return I()}set destroyer(t){this._destroyer=t}get store(){return this.options.store}get instanceMap(){return this.store.instanceMap}get emitter(){return this.eventEmitter}get sessionEmitter(){return this.store.sessionEmitter}get session(){return this.sessionEmitter}on(t,r){return this.emitter.on(t,r)}once(t,r){return this.emitter.once(t,r)}off(t,r){return this.emitter.off(t,r)}removeAllListeners(t){return t?this.off(t):(this.eventNames().forEach(r=>{this.off(r)}),this.emitter)}eventNames(){return this.emitter.eventNames()}sessionEventNames(){return this.sessionEmitter.eventNames()}getSubscriptions(){return yu(this.eventNames())}emit(t,...r){return this.emitter.emit(t,...r)}listenerCount(t){return this.emitter.listenerCount(t)}destroy(){var t;(t=this._destroyer)==null||t.call(this),this.removeAllListeners(),this.detachWorkers()}execute({method:t,params:r},{transformParams:n=Ao,transformResolve:i=Ao,transformReject:a=Ao}={transformParams:Ao,transformResolve:Ao,transformReject:Ao}){return new Promise((o,s)=>{const l=$r();this.runWorker("executeActionWorker",{worker:Xre,onDone:c=>o(i(c)),onFail:c=>s(a(c)),initialState:{requestId:l,componentId:this.__uuid,method:t,params:n(r)}})})}triggerCustomSaga(t){return new Promise((r,n)=>{const i=$r();this._customSagaTriggers.set(i,{resolve:r,reject:n}),this.store.dispatch(G({dispatchId:i},w_(this.__uuid,t)))})}settleCustomSagaTrigger({dispatchId:t,payload:r,kind:n}){const i=this._customSagaTriggers.get(t);i&&(i[n](r),this._customSagaTriggers.delete(t))}select(t){return t(this.store.getState())}getStateProperty(t){return this[t]}get _sessionAuthStatus(){return this.select(sh)}get _sessionAuthorization(){return this.select(O_)}_waitUntilSessionAuthorized(){switch(this._sessionAuthStatus){case"authorized":return Promise.resolve(this);case"unknown":case"authorizing":return new Promise((r,n)=>{const i=this.store.subscribe(()=>{const a=this.select(sh),o=this.select(VD);if(a==="authorized")r(this),i();else if(a==="unauthorized"){const s=o?new C_(o.code,o.message):new Error("Unauthorized");n(s),i()}})});case"unauthorized":return Promise.reject(new Error("Unauthorized"))}}runWorker(t,r){return this._workers.has(t)?I().warn(`[runWorker] Worker with name ${t} has already been registerd.`):this._setWorker(t,r),this._attachWorker(t,r)}cancelWorker(t){const r=this._runningWorkers.findIndex(n=>n===t);r>-1&&(this._runningWorkers.splice(r,1),t.cancel())}_setWorker(t,r){this._workers.set(t,r)}_attachWorker(t,r){var n=r,{worker:i}=n,a=_n(n,["worker"]);const o=this.store.runSaga(i,G({instance:this,runSaga:this.store.runSaga},a));return this._runningWorkers.push(o),this._workers.delete(t),o}detachWorkers(){this._runningWorkers.forEach(t=>{t.cancel()}),this._runningWorkers=[]}},WD=class extends Qs{constructor(e){super(e),this.options=e}connect(){const e=sh(this.store.getState());return(e==="unknown"||e==="unauthorized")&&this.store.dispatch(bu()),this._waitUntilSessionAuthorized()}disconnect(){this.store.dispatch(xu())}removeAllListeners(e){return this.sessionEventNames().forEach(t=>{this.sessionEmitter.off(t)}),super.removeAllListeners(e)}},qD=class extends Qs{constructor(t){super(t),this.options=t,Z(this,"subscribeMethod","signalwire.subscribe"),Z(this,"subscribeParams",{}),Z(this,"_latestExecuteParams");const r=()=>{this._latestExecuteParams=void 0};super.session.on("session.connected",r),super.session.on("session.disconnected",r),super.session.on("session.reconnecting",r)}shouldExecuteSubscribe(t){return!this._latestExecuteParams||JSON.stringify(t)!==JSON.stringify(this._latestExecuteParams)}async subscribe(){await this._waitUntilSessionAuthorized();const t=this.getSubscriptions();if(t.length===0){this.logger.debug("`subscribe()` was called without any listeners attached.");return}const r={method:this.subscribeMethod,params:Ae(G({},this.subscribeParams),{event_channel:this.getStateProperty("eventChannel"),events:t})};if(!this.shouldExecuteSubscribe(r)){this.logger.debug("BaseConsumer.subscribe() - Skipped .execute() since the execParams are exactly the same as last time");return}return this._latestExecuteParams=r,new Promise(async(n,i)=>{try{return await this.execute(r),n(void 0)}catch(a){return i(a)}})}},T_={audio_muted:!0,video_muted:!0,deaf:!0,visible:!0,input_volume:1,output_volume:1,input_sensitivity:1};Object.keys(T_).map(e=>`${_te}.member.updated.${e}`);var Zre=Hr(T_);Object.keys(Zre).map(e=>`member.updated.${e}`);var KD={};On(KD,{getComponent:()=>Jre,getComponentsById:()=>YD,getComponentsToCleanup:()=>ene});var Jre=({components:e},t)=>{var r;return(r=e.byId)==null?void 0:r[t]},YD=({components:e})=>e.byId,ene=e=>{const t=YD(e);let r=[];return Object.keys(t).forEach(n=>{(t[n].responses||t[n].errors)&&r.push(n)}),r},GD={audio_muted:!0,video_muted:!0,deaf:!0,visible:!0,input_volume:1,output_volume:1,input_sensitivity:1,handraised:!0,echo_cancellation:!0,auto_gain:!0,noise_suppression:!0};Object.keys(GD).map(e=>`member.updated.${e}`);var tne=Hr(GD);Object.keys(tne).map(e=>`member.updated.${e}`);var Y={};On(Y,{RoomSessionPlaybackAPI:()=>QD,RoomSessionRecordingAPI:()=>XD,RoomSessionStreamAPI:()=>ZD,audioMuteMember:()=>Sne,audioUnmuteMember:()=>wne,createRoomSessionPlaybackObject:()=>k_,createRoomSessionRecordingObject:()=>M_,createRoomSessionStreamObject:()=>j_,deafMember:()=>Cne,deleteMemberMeta:()=>Une,deleteMeta:()=>yne,demote:()=>Nne,getLayouts:()=>rne,getMemberMeta:()=>Lne,getMembers:()=>nne,getMeta:()=>vne,getPlaybacks:()=>hne,getRecordings:()=>dne,getStreams:()=>bne,hideVideoMuted:()=>one,lock:()=>lne,play:()=>mne,promote:()=>Pne,removeAllMembers:()=>Ine,removeMember:()=>Dne,setDeaf:()=>Tne,setHideVideoMuted:()=>une,setInputSensitivityMember:()=>jne,setInputVolumeMember:()=>Mne,setLayout:()=>ine,setMemberMeta:()=>zne,setMemberPosition:()=>Rne,setMeta:()=>pne,setOutputVolumeMember:()=>kne,setPositions:()=>ane,setPrioritizeHandraise:()=>_ne,setRaisedHand:()=>Bne,showVideoMuted:()=>sne,startRecording:()=>fne,startStream:()=>xne,undeafMember:()=>One,unlock:()=>cne,updateMemberMeta:()=>$ne,updateMeta:()=>gne,videoMuteMember:()=>Ene,videoUnmuteMember:()=>Ane});var je=()=>{},Vn=(e,t={})=>({value:function(r={}){return this.execute({method:e,params:G({room_session_id:this.roomSessionId},r)},t)}}),Er=(e,t={})=>({value:function(r={}){var n=r,{memberId:i}=n,a=_n(n,["memberId"]);return this.execute({method:e,params:G({room_session_id:this.roomSessionId,member_id:i||this.memberId},a)},t)}}),rne=Vn("video.list_available_layouts",{transformResolve:e=>({layouts:e.layouts})}),nne=Vn("video.members.get",{transformResolve:e=>({members:e.members})}),ine=Vn("video.set_layout",{transformResolve:je}),ane=Vn("video.set_position",{transformResolve:je}),one=Vn("video.hide_video_muted",{transformResolve:je}),sne=Vn("video.show_video_muted",{transformResolve:je}),lne=Vn("video.lock",{transformResolve:je}),cne=Vn("video.unlock",{transformResolve:je}),une={value:function(e){return this.execute({method:e?"video.hide_video_muted":"video.show_video_muted",params:{room_session_id:this.roomSessionId}},{transformResolve:je})}},dne={value:function(){return new Promise(async(e,t)=>{try{const{recordings:r}=await this.execute({method:"video.recording.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,recording:i}):a=M_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,recording:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({recordings:n})}catch(r){t(r)}})}},fne={value:function(){return new Promise(async(e,t)=>{try{const{recording:r}=await this.execute({method:"video.recording.start",params:{room_session_id:this.roomSessionId}}),n=M_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,recording:r}});this.instanceMap.set(n.id,n),e(n)}catch(r){t(r)}})}},hne={value:function(){return new Promise(async(e,t)=>{try{const{playbacks:r}=await this.execute({method:"video.playback.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,playback:i}):a=k_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,playback:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({playbacks:n})}catch(r){t(r)}})}},mne={value:function(e){var t=e,{seekPosition:r,currentTimecode:n}=t,i=_n(t,["seekPosition","currentTimecode"]);return new Promise(async(a,o)=>{try{const s=r||n,{playback:l}=await this.execute({method:"video.playback.start",params:G({room_session_id:this.roomSessionId,seek_position:s},i)}),c=k_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,playback:l}});this.instanceMap.set(c.id,c),a(c)}catch(s){o(s)}})}},FD=e=>Vn(e,{transformResolve:je,transformParams:t=>{const r=t,{room_session_id:n}=r,i=_n(r,["room_session_id"]);return{room_session_id:n,meta:i}}}),vne=Vn("video.get_meta",{transformResolve:({meta:e})=>({meta:e})}),pne=FD("video.set_meta"),gne=FD("video.update_meta"),yne={value:function(e){return this.execute({method:"video.delete_meta",params:{room_session_id:this.roomSessionId,keys:e}})}},bne={value:function(){return new Promise(async(e,t)=>{try{const{streams:r}=await this.execute({method:"video.stream.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,stream:i}):a=j_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,stream:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({streams:n})}catch(r){t(r)}})}},xne={value:function(e){return new Promise(async(t,r)=>{try{const{stream:n}=await this.execute({method:"video.stream.start",params:G({room_session_id:this.roomSessionId},e)}),i=j_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,stream:n}});this.instanceMap.set(i.id,i),t({stream:i})}catch(n){r(n)}})}},_ne={value:function(e){return this.execute({method:"video.prioritize_handraise",params:{room_session_id:this.roomSessionId,enable:e}})}},Sne=Er("video.member.audio_mute",{transformResolve:je}),wne=Er("video.member.audio_unmute",{transformResolve:je}),Ene=Er("video.member.video_mute",{transformResolve:je}),Ane=Er("video.member.video_unmute",{transformResolve:je}),Cne=Er("video.member.deaf",{transformResolve:je}),One=Er("video.member.undeaf",{transformResolve:je}),Tne={value:function(e){return this.execute({method:e?"video.member.deaf":"video.member.undeaf",params:{room_session_id:this.roomSessionId,member_id:this.memberId}},{transformResolve:je})}},Mne=Er("video.member.set_input_volume",{transformResolve:je}),kne=Er("video.member.set_output_volume",{transformResolve:je}),jne=Er("video.member.set_input_sensitivity",{transformResolve:je}),Pne={value:function(e){var t=e,{memberId:r,mediaAllowed:n,joinAudioMuted:i,joinVideoMuted:a}=t,o=_n(t,["memberId","mediaAllowed","joinAudioMuted","joinVideoMuted"]);return this.execute({method:"video.member.promote",params:G({room_session_id:this.roomSessionId,member_id:r,media_allowed:n,join_audio_muted:i,join_video_muted:a},o)},{transformResolve:je})}},Nne={value:function({memberId:e,mediaAllowed:t}){return this.execute({method:"video.member.demote",params:{room_session_id:this.roomSessionId,member_id:e,media_allowed:t}},{transformResolve:je})}},Rne=Er("video.member.set_position",{transformResolve:je}),Dne={value:function(e){var t=e,{memberId:r}=t,n=_n(t,["memberId"]);if(!r)throw new TypeError('Invalid or missing "memberId" argument');return this.execute({method:"video.member.remove",params:G({room_session_id:this.roomSessionId,member_id:r},n)},{transformResolve:je})}},Ine={value:function(){return this.execute({method:"video.member.remove",params:{room_session_id:this.roomSessionId,member_id:"all"}},{transformResolve:je})}},Lne=Er("video.member.get_meta",{transformResolve:({meta:e})=>({meta:e})}),zne=Er("video.member.set_meta",{transformResolve:je}),$ne=Er("video.member.update_meta",{transformResolve:je}),Une=Er("video.member.delete_meta",{transformResolve:je}),Bne={value:function(e){const{raised:t=!0,memberId:r=this.memberId}=e||{};if(!r)throw new TypeError('Invalid or missing "memberId" argument');return this.execute({method:t?"video.member.raisehand":"video.member.lowerhand",params:{room_session_id:this.roomSessionId,member_id:r}},{transformResolve:je})}},XD=class extends Qs{constructor(t){super(t),Z(this,"_payload"),this._payload=t.payload}get id(){return this._payload.recording.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get state(){return this._payload.recording.state}get duration(){return this._payload.recording.duration}get startedAt(){if(this._payload.recording.started_at)return new Date(this._payload.recording.started_at*1e3)}get endedAt(){if(this._payload.recording.ended_at)return new Date(this._payload.recording.ended_at*1e3)}setPayload(t){this._payload=t}async pause(){await this.execute({method:"video.recording.pause",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}async resume(){await this.execute({method:"video.recording.resume",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}async stop(){await this.execute({method:"video.recording.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}},M_=e=>Wr({store:e.store,Component:XD})(e),QD=class extends Qs{constructor(t){super(t),Z(this,"_payload"),this._payload=t.payload}get id(){return this._payload.playback.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get url(){return this._payload.playback.url}get state(){return this._payload.playback.state}get volume(){return this._payload.playback.volume}get startedAt(){if(this._payload.playback.started_at)return new Date(this._payload.playback.started_at*1e3)}get endedAt(){if(this._payload.playback.ended_at)return new Date(this._payload.playback.ended_at*1e3)}get position(){return this._payload.playback.position}get seekable(){return this._payload.playback.seekable}setPayload(t){this._payload=t}async pause(){await this.execute({method:"video.playback.pause",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async resume(){await this.execute({method:"video.playback.resume",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async stop(){await this.execute({method:"video.playback.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async setVolume(t){await this.execute({method:"video.playback.set_volume",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),volume:t}})}async seek(t){await this.execute({method:"video.playback.seek_absolute",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:Math.abs(t)}})}async forward(t=5e3){await this.execute({method:"video.playback.seek_relative",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:Math.abs(t)}})}async rewind(t=5e3){await this.execute({method:"video.playback.seek_relative",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:-Math.abs(t)}})}},k_=e=>Wr({store:e.store,Component:QD})(e),ZD=class extends Qs{constructor(t){super(t),Z(this,"_payload"),this._payload=t.payload}get id(){return this._payload.stream.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get state(){return this._payload.stream.state}get duration(){return this._payload.stream.duration}get url(){return this._payload.stream.url}get startedAt(){if(this._payload.stream.started_at)return new Date(this._payload.stream.started_at*1e3)}get endedAt(){if(this._payload.stream.ended_at)return new Date(this._payload.stream.ended_at*1e3)}setPayload(t){this._payload=t}async stop(){await this.execute({method:"video.stream.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),stream_id:this.getStateProperty("id")}})}},j_=e=>Wr({store:e.store,Component:ZD})(e),JD={};On(JD,{BaseChatAPI:()=>dI,BaseChatConsumer:()=>uI,ChatMember:()=>L_,ChatMessage:()=>I_,applyCommonMethods:()=>Gne,createBaseChatObject:()=>Kne,getMemberState:()=>cI,getMembers:()=>oI,getMessages:()=>aI,publish:()=>iI,setMemberState:()=>lI});var eI=e=>{const t=!e||Array.isArray(e)?e:[e];return Array.isArray(t)?t.map(r=>({name:r})):[]},tI=e=>Array.isArray(e)||typeof e=="string",rI=()=>{},P_=(e,t={})=>({value:function(r={}){return this.execute({method:e,params:r},t)}}),nI=(e,t={})=>({value:function(r={}){var n=r,{memberId:i}=n,a=_n(n,["memberId"]);return this.execute({method:e,params:G({member_id:i},a)},t)}}),iI=P_("chat.publish",{transformResolve:rI}),aI=P_("chat.messages.get",{transformResolve:e=>({messages:e.messages.map(t=>Hr(t)),cursor:e.cursor})}),oI=P_("chat.members.get",{transformResolve:e=>({members:e.members.map(t=>Hr(t))})}),sI=e=>{const t=tI(e==null?void 0:e.channels)?eI(e.channels):void 0;return Ae(G({},e),{channels:t})},lI=nI("chat.member.set_state",{transformResolve:rI,transformParams:sI}),cI=nI("chat.member.get_state",{transformResolve:e=>({channels:e.channels}),transformParams:sI}),N_={};On(N_,{BasePubSubConsumer:()=>R_,PubSubMessage:()=>D_,createBasePubSubObject:()=>Wne});var Vne=function*(e){I().trace("pubSubWorker started");const{instance:t,channels:{swEventChannel:r}}=e;function*n(a){const{type:o,payload:s}=a;switch(o){case`${Ko}.channel.message`:{const{channel:l,message:c}=s,u=c,{member:d}=u,f=_n(u,["member"]),h=Hr(Ae(G({},f),{channel:l})),v=new D_(h);t.emit("message",v);break}default:I().warn(`Unknown pubsub event: "${o}"`);break}}const i=a=>a.type.startsWith(`${Ko}.`);for(;;){const a=yield ye(r,i);yield te(n,a)}I().trace("pubSubWorker ended")},Hne=e=>e.map(t=>({name:t})),R_=class extends qD{constructor(t){super(t),Z(this,"subscribeMethod",`${Ko}.subscribe`),this.initWorker()}initWorker(){this.runWorker("pubSub",{worker:Vne})}_getChannelsParam(t,r){const n=!t||Array.isArray(t)?t:[t];if(!Array.isArray(n)||n.length===0)throw new Error(`Please specify one or more channels when calling .${r}()`);return{channels:Hne(n)}}_setSubscribeParams(t){this.subscribeParams=G(G({},this.subscribeParams),t)}_getSubscribeParams({channels:t}){return G({},this._getChannelsParam(t,"subscribe"))}_getUnsubscribeParams({channels:t}){const r=this._getChannelsParam(t,"unsubscribe");return G({},r)}_checkMissingSubscriptions(){this.getSubscriptions().length===0&&(this.logger.info("Subscribe was called before any listeners were attached. Move `.subscribe()` right after your event listeners to suppress this message."),this.once("message",()=>{}))}getSubscriptions(){const t=this.eventNames().map(r=>`${Ko}.${String(r)}`);return yu(t)}async subscribe(t){this._checkMissingSubscriptions();const r=this._getSubscribeParams({channels:t});return this._setSubscribeParams(r),super.subscribe()}async unsubscribe(t){if(this._sessionAuthStatus==="unknown"||this._sessionAuthStatus==="unauthorized")throw new Error("You must be authenticated to unsubscribe from a channel");const r=this._getUnsubscribeParams({channels:t});return new Promise(async(n,i)=>{const a=this.getSubscriptions();if(a.length>0){const o={method:`${Ko}.unsubscribe`,params:Ae(G({},r),{events:a})};try{await this.execute(o)}catch(s){return i(s)}}else this.logger.warn("`unsubscribe()` was called without any listeners attached.");return n()})}updateToken(t){return new Promise((r,n)=>{this.session.once("session.auth_error",i=>{n(i)}),this.session.once("session.connected",()=>{r()}),this.store.dispatch(mi.reauthAction({token:t}))})}publish(t){return this.execute({method:`${Ko}.publish`,params:t})}async getAllowedChannels(){await this._waitUntilSessionAuthorized();const t=this.select(O_);return t&&"channels"in t&&t.channels?t.channels:{}}},Wne=e=>Wr({store:e.store,Component:R_})(e),D_=class{constructor(t){this.payload=t}get id(){return this.payload.id}get channel(){return this.payload.channel}get content(){return this.payload.content}get meta(){return this.payload.meta}get publishedAt(){return this.payload.publishedAt}},qne=function*(e){I().trace("chatWorker started");const{instance:t,channels:{swEventChannel:r}}=e;function*n(a){const{type:o,payload:s}=a;switch(o){case"chat.channel.message":{const{channel:l,message:c}=s,u=Hr(Ae(G({},c),{channel:l})),d=new I_(u);t.emit("message",d);break}case"chat.member.joined":case"chat.member.updated":case"chat.member.left":{const{member:l}=s,c=Hr(l),u=new L_(c),d=Aa(o);t.emit(d,u);break}default:I().warn(`Unknown chat event: "${o}"`);break}}const i=a=>a.type.startsWith("chat.");for(;;){const a=yield ye(r,i);yield te(n,a)}I().trace("chatWorker ended")},uI=class extends R_{constructor(t){super(t),Z(this,"subscribeMethod",`${Ste}.subscribe`)}initWorker(){this.runWorker("chat",{worker:qne})}},dI=Xm(uI,{publish:iI,getMembers:oI,getMessages:aI,setMemberState:lI,getMemberState:cI}),Kne=e=>Wr({store:e.store,Component:dI})(e),I_=class extends D_{get member(){return this.payload.member}},L_=class{constructor(t){this.payload=t}get id(){return this.payload.id}get channel(){return this.payload.channel}get state(){var t;return(t=this.payload.state)!=null?t:{}}},oC=e=>{const t=tI(e==null?void 0:e.channels)?eI(e.channels):void 0;return Ae(G({},e),{channels:t})},Yne=()=>{};function Gne(e){return class extends e{getMembers(t){return this._client.execute({method:"chat.members.get",params:t},{transformResolve:r=>({members:r.members.map(n=>Hr(n))})})}getMessages(t){return this._client.execute({method:"chat.messages.get",params:t},{transformResolve:r=>({messages:r.messages.map(n=>Hr(n)),cursor:r.cursor})})}setMemberState(t={}){var r=t,{memberId:n}=r,i=_n(r,["memberId"]);return this._client.execute({method:"chat.member.set_state",params:G({member_id:n},i)},{transformResolve:Yne,transformParams:oC})}getMemberState(t={}){var r=t,{memberId:n}=r,i=_n(r,["memberId"]);return this._client.execute({method:"chat.member.get_state",params:G({member_id:n},i)},{transformResolve:a=>({channels:a.channels}),transformParams:oC})}}}var z_={};On(z_,{memberPositionWorker:()=>Xne,memberUpdatedWorker:()=>fI});var $_=function*(e,t,r){const n=Aa(e);r.emit(n,t)};function*Fne(e){const{action:t,memberList:r,instance:n,dispatcher:i=$_}=e,a=t.payload.layout.layers,o={};a.forEach(s=>{var l;const c=s.member_id;if(!c)return;const u=r.get(c);u&&s.position!==((l=u.member)==null?void 0:l.current_position)?(Ly({memberList:r,memberId:c,currentPosition:s.position}),o[c]=!0):o[c]=!1});for(const[s,l]of r)if(o[s])yield i==null?void 0:i("video.member.updated",l,n);else if(o[s]===void 0){const c=Ly({memberList:r,memberId:s,currentPosition:"off-canvas"});if(!c)return;yield i==null?void 0:i("video.member.updated",c,n)}}function*fI({action:e,memberList:t,instance:r,dispatcher:n=$_}){var i,a;const o=e.payload.member.id,s=Ly({memberList:t,memberId:o,currentPosition:(a=(i=t.get(o))==null?void 0:i.member)==null?void 0:a.current_position});if(!s)return;const{member:{updated:l=[]}}=e.payload,c=Ae(G({},s),{member:G(G({},s.member),e.payload.member)});t.set(o,c);for(const u of l){const d=`${e.type}.${u}`;yield n==null?void 0:n(d,c,r)}yield n==null?void 0:n(e.type,c,r)}var Xne=function*({instance:t,channels:r,initialState:n,getSession:i,instanceMap:a,dispatcher:o=$_}){if(!n)return;const{swEventChannel:s}=r;let l=Qne(n);const c=u=>{l.has(u.member.id)||l.set(u.member.id,u)};for(;;){const u=yield ye(s,d=>d.type==="video.member.joined"||d.type==="video.member.updated"||d.type==="video.member.left"||d.type==="video.layout.changed");switch(u.type){case"video.member.joined":{c(u.payload);break}case"video.member.updated":{c(u.payload),yield te(fI,{action:u,channels:r,memberList:l,instance:t,getSession:i,instanceMap:a,dispatcher:o});break}case"video.member.left":{const d=u.payload.member;l.delete(d.id);break}case"video.layout.changed":{yield te(Fne,{action:u,channels:r,memberList:l,instance:t,dispatcher:o});break}}}},Ly=({memberList:e,memberId:t,currentPosition:r})=>{const n=e.get(t);if(n){if(!r)return n}else return;const i=Ae(G({},n),{member:Ae(G({},n==null?void 0:n.member),{current_position:r})});return e.set(t,i),i},Qne=e=>{const t=e.room_session.members,r=new Map;return t.forEach(n=>{const i=n.id,a=e.room_session.id||e.room_session.room_session_id;r.set(i,{room_id:e.room_session.room_id,room_session_id:a,member:n})}),r},Zne={};On(Zne,{configureFullStack:()=>tie,configureJestStore:()=>eie,createMockedLogger:()=>Jne,createSessionChannel:()=>aie,createSwEventChannel:()=>iie,rpcConnectResultVRT:()=>nie,wait:()=>rie});var hI="8f0a119a-cda7-4497-a47d-c81493b824d4",mI="<VRT>",Jne=()=>({fatal:jest.fn(),error:jest.fn(),warn:jest.fn(),info:jest.fn(),debug:jest.fn(),trace:jest.fn(),wsTraffic:jest.fn()}),eie=e=>_u(G({userOptions:{project:hI,token:mI,devTools:!1},SessionConstructor:ID,runRootSaga:!1},e)),tie=()=>{const e={dispatch:console.log,connect:jest.fn(),disconnect:jest.fn(),execute:jest.fn()},t=new Di,r=_u({userOptions:{project:hI,token:mI,devTools:!1},SessionConstructor:jest.fn().mockImplementation(()=>e)});return r.dispatch(mi.initAction()),r.dispatch(mi.authSuccessAction()),{store:r,session:e,emitter:t,destroy:()=>r.dispatch(mi.destroyAction())}},rie=e=>new Promise(t=>{setTimeout(t,e)}),nie={identity:"f3bc99df-2c3d-4fa4-b1dc-e8a8ffc579e6@e3fefa44-1bad-4be9-ad9b-1cbb9abd60c7.west-us",authorization:{type:"video",project_id:"8f0a119a-cda7-4497-a47d-c81493b824d4",project:"8f0a119a-cda7-4497-a47d-c81493b824d4",scopes:["video"],scope_id:"26675883-8499-4ee9-85eb-691c4aa209f8",resource:"9c80f1e8-9430-4070-a043-937eb3a96b38",join_as:"member",user_name:"Joe",room:{name:"lobby",display_name:"Lobby",scopes:["room.self.audio_mute","room.self.audio_unmute"],meta:{}},signature:"SGZtkRD9fvuBAOUp1UF56zESxdEvGT6qSGZtkRD9fvuBAOUp1UF56zESxdEvGT6q",media_allowed:"all",audio_allowed:"both",video_allowed:"both",meta:{}},protocol:"signalwire_SGZtkRD9fvuBAOUp1UF56zESxdEvGT6qSGZtkRD9fvuBAOUp1UF56zESxdEvGT6q_03e8c927-8ea3-4661-86d5-778c3e03296a_8f0a119a-cda7-4497-a47d-c81493b824d4",ice_servers:[{urls:"turn.swire.io:443",credential:"sFTwvi8ShXcYNOcyYjFy3ATIUpQ=",credentialType:"password",username:"1619521908:8f0a119a-cda7-4497-a47d-c81493b824d4"}]},iie=()=>vu(),aie=()=>Xs();G({},UD);function Bt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var sC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ap=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ac={INIT:"@@redux/INIT"+Ap(),REPLACE:"@@redux/REPLACE"+Ap(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ap()}};function oie(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function rv(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bt(1));return r(rv)(e,t)}if(typeof e!="function")throw new Error(Bt(2));var i=e,a=t,o=[],s=o,l=!1;function c(){s===o&&(s=o.slice())}function u(){if(l)throw new Error(Bt(3));return a}function d(p){if(typeof p!="function")throw new Error(Bt(4));if(l)throw new Error(Bt(5));var x=!0;return c(),s.push(p),function(){if(x){if(l)throw new Error(Bt(6));x=!1,c();var b=s.indexOf(p);s.splice(b,1),o=null}}}function f(p){if(!oie(p))throw new Error(Bt(7));if(typeof p.type>"u")throw new Error(Bt(8));if(l)throw new Error(Bt(9));try{l=!0,a=i(a,p)}finally{l=!1}for(var x=o=s,g=0;g<x.length;g++){var b=x[g];b()}return p}function h(p){if(typeof p!="function")throw new Error(Bt(10));i=p,f({type:Ac.REPLACE})}function v(){var p,x=d;return p={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(Bt(11));function _(){b.next&&b.next(u())}_();var S=x(_);return{unsubscribe:S}}},p[sC]=function(){return this},p}return f({type:Ac.INIT}),n={dispatch:f,subscribe:d,getState:u,replaceReducer:h},n[sC]=v,n}var sie=rv;function lie(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Ac.INIT});if(typeof n>"u")throw new Error(Bt(12));if(typeof r(void 0,{type:Ac.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function vI(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var a=Object.keys(r),o;try{lie(r)}catch(s){o=s}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,d={},f=0;f<a.length;f++){var h=a[f],v=r[h],p=l[h],x=v(p,c);if(typeof x>"u")throw c&&c.type,new Error(Bt(14));d[h]=x,u=u||x!==p}return u=u||a.length!==Object.keys(l).length,u?d:l}}function lC(e,t){return function(){return t(e.apply(this,arguments))}}function cie(e,t){if(typeof e=="function")return lC(e,t);if(typeof e!="object"||e===null)throw new Error(Bt(16));var r={};for(var n in e){var i=e[n];typeof i=="function"&&(r[n]=lC(i,t))}return r}function Cc(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function pI(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(Bt(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map(function(l){return l(o)});return a=Cc.apply(void 0,s)(i.dispatch),ih(ih({},i),{},{dispatch:a})}}}const uie=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:Ac,applyMiddleware:pI,bindActionCreators:cie,combineReducers:vI,compose:Cc,createStore:rv,legacy_createStore:sie},Symbol.toStringTag,{value:"Module"}));var U_=Object.defineProperty,die=Object.defineProperties,fie=Object.getOwnPropertyDescriptor,hie=Object.getOwnPropertyDescriptors,mie=Object.getOwnPropertyNames,lh=Object.getOwnPropertySymbols,B_=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable,zy=(e,t,r)=>t in e?U_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))B_.call(t,r)&&zy(e,r,t[r]);if(lh)for(var r of lh(t))gI.call(t,r)&&zy(e,r,t[r]);return e},Ce=(e,t)=>die(e,hie(t)),Sn=(e,t)=>{var r={};for(var n in e)B_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&lh)for(var n of lh(e))t.indexOf(n)<0&&gI.call(e,n)&&(r[n]=e[n]);return r},Tn=(e,t)=>{for(var r in t)U_(e,r,{get:t[r],enumerable:!0})},vie=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of mie(t))!B_.call(e,i)&&i!==r&&U_(e,i,{get:()=>t[i],enumerable:!(n=fie(t,i))||n.enumerable});return e},yI=(e,t,r)=>(vie(e,t,"default"),r),ie=(e,t,r)=>zy(e,typeof t!="symbol"?t+"":t,r),pie="wss://relay.signalwire.com",gie=":",yie="__local__",bie="__synthetic__",xie="video",_ie="chat",Yo="chat",bI=Symbol.for("sw-execute-connection-closed"),xI=Symbol.for("sw-execute-timeout"),Sie=Symbol.for("sw-connect-error"),wie=()=>new Date().toISOString(),Su=AR.getLogger("signalwire"),Eie=Su.methodFactory;Su.methodFactory=(e,t,r)=>{const n=Eie(e,t,r);return function(...i){i.unshift(wie(),"-"),n.apply(void 0,i)}};var Aie=Su.getLevel();Su.setLevel(Aie);var $y,Cie=e=>{$y=e},Uy={},Oie=e=>{if(e==null){Uy={};return}Object.assign(Uy,e)},_I=()=>$y??Su,Tie=e=>!("method"in e&&e.method==="signalwire.ping"),Mie=({type:e,payload:t})=>{const r=_I(),{logWsTraffic:n}=Uy||{};if(!n)return;const i=Tie(t)?JSON.stringify(t,null,2):t;return r.info(`${e.toUpperCase()}: 
`,i,`
`)},U=()=>{const e=_I();return new Proxy(e,{get(t,r,n){return r==="wsTraffic"?Mie:Reflect.get(t,r,n)}})},kie=["webrtc.message"],V_=e=>kie.includes(e),jie=({response:e,request:t})=>{const{result:r={},error:n}=e;if(n)return{error:n};switch(t.method){case"signalwire.connect":return{result:r};default:return SI(e)}},Pie=/^2[0-9][0-9]$/,SI=(e,t)=>{const{result:r={},error:n}=e;if(n)return{error:n};const{code:i,node_id:a,result:o=null}=r;return i&&!Pie.test(i)?{error:r}:o===null?(t&&(r.node_id=t),{result:r}):o?o.jsonrpc?SI(o,a):{result:o}:{result:r}},Nie=e=>{if(typeof e>"u")return e;const t=new Date(e*1e3);return isNaN(t.getTime())?e:t},Rie={propsToUpdateValue:["updated","layers","members","recordings","playbacks"]},Die=e=>e.endsWith("At"),wn=(e,t=Rie)=>e!=null&&e.__sw_symbol||e!=null&&e.__sw_proxy?e:Object.entries(e).reduce((r,[n,i])=>{const a=cC(n);return typeof i==="object"&&i?Array.isArray(i)?t.propsToUpdateValue.includes(n)?r[a]=i.map(s=>typeof s=="string"?cC(s):wn(s)):r[a]=i:r[a]=wn(i):Die(a)?r[a]=Nie(i):r[a]=i,r},{}),cC=e=>e.includes("_")?e.split("_").reduce((t,r,n)=>{const i=r.trim().charAt(0),a=r.substr(1).toLowerCase();return`${t}${n===0?i.toLowerCase():i.toUpperCase()}${a}`},""):e,Iie=e=>{const{event_type:t,params:r,node_id:n}=e;if(t==="queuing.relay.tasks")return{type:t,payload:e};if(V_(t)&&(r!=null&&r.jsonrpc)){const i=r;return i.params&&(i.params.nodeId=n),{type:t,payload:i}}return{type:t,payload:r}},Lie=(e,t)=>(Object.keys(t).forEach(r=>{if(e.prototype.hasOwnProperty(r))throw new Error(`[extendComponent] Duplicated method name: ${r}`)}),Object.defineProperties(e.prototype,t),e),wI=(e,t)=>{const r=e.split(".");return r.length>1?(r.shift(),r.join(".")):e},zie=10,$ie=100,Uie=({initialDelay:e=$ie})=>{if(e<0)throw new Error("No Negative Numbers");return()=>e},Bie=async({asyncCallable:e,maxRetries:t=zie,delayFn:r,validator:n,expectedErrorHandler:i})=>{let a=t-1,o=0;const s=async()=>{var l;try{let c;return o<=0?c=await e():c=await new Promise((u,d)=>setTimeout(()=>{e().then(u).catch(d)},o)),a&&(n==null||n(c)),c}catch(c){if(a-- >0&&!(i!=null&&i(c)))return o=(l=r==null?void 0:r())!=null?l:0,U().debug(`Retrying request: ${t-a} of ${t}`),s();throw c}};return s()},Vie=e=>{if(typeof e!="string")return e;try{return JSON.parse(e)}catch{return e}},Hie=/^(ws|wss):\/\//,Wie=e=>`${Hie.test(e)?"":"wss://"}${e}`,EI=(e,t,r)=>{let n=null;return Promise.race([e,new Promise((i,a)=>n=setTimeout(a,t,r))]).finally(()=>clearTimeout(n))},qie=e=>e.includes(bie),Kie=e=>e.includes("session."),Yie=e=>{const t=e.split(gie);return t[t.length-1]},Gie=["video.member.updated","video.member.talking"],Fie=["video.room.joined","video.track","video.active","video.answering","video.destroy","video.early","video.hangup","video.held","video.new","video.purge","video.recovering","video.requesting","video.ringing","video.trying","video.media.connected","video.media.reconnecting","video.media.disconnected","video.microphone.updated","video.camera.updated","video.speaker.updated","video.microphone.disconnected","video.camera.disconnected","video.speaker.disconnected"],AI=e=>{const t=e.map(r=>{if(typeof r=="string"){const n=Yie(r);return Fie.includes(n)||qie(n)||Xie(n)||Kie(n)?null:Gie.find(a=>n.startsWith(a))||n}return r});return Array.from(new Set(t)).filter(Boolean)},Xie=e=>e.includes(yie),CI=e=>!!e.method,Qie=e=>!CI(e),Zie=e=>typeof e<"u"&&"jti"in e,Jie=e=>CI(e)&&e.method=="signalwire.connect",H_=e=>{var t;return F({jsonrpc:"2.0",id:(t=e.id)!=null?t:$r()},e)},nv=e=>F({jsonrpc:"2.0"},e),OI={major:3,minor:0,revision:0},eae=e=>H_({method:"signalwire.connect",params:F({version:OI,event_acks:!0},e)}),tae=(e,t)=>nv({id:e,result:{timestamp:t||Date.now()/1e3}}),rae=({method:e,params:t})=>H_({method:e,params:t}),nae=e=>nv({id:e,result:{}}),uC={id:"callID",destinationNumber:"destination_number",remoteCallerName:"remote_caller_id_name",remoteCallerNumber:"remote_caller_id_number",callerName:"caller_id_name",callerNumber:"caller_id_number",fromFabricAddressId:"from_fabric_address_id"},iae=e=>{if(e.hasOwnProperty("dialogParams")){const t=e.dialogParams,{remoteSdp:r,localStream:n,remoteStream:i}=t,a=Sn(t,["remoteSdp","localStream","remoteStream"]);for(const o in uC)o&&a.hasOwnProperty(o)&&(a[uC[o]]=a[o],delete a[o]);e.dialogParams=a}return e},Zs=e=>(t={})=>H_({method:e,params:iae(t)}),aae=Zs("verto.invite"),dC=Zs("verto.bye"),Cp=Zs("verto.modify"),oae=Zs("verto.info"),sae=Zs("verto.answer"),lae=Zs("verto.pong"),fC=(e,t)=>nv({id:e,result:{method:t}}),cae=e=>nv({id:e,result:{}}),yn={};Tn(yn,{authErrorAction:()=>Ms,authExpiringAction:()=>ch,authSuccessAction:()=>Tc,createAction:()=>cr,destroyAction:()=>ov,getCustomSagaActionType:()=>kI,initAction:()=>av,makeCustomSagaAction:()=>W_,reauthAction:()=>Oc,sessionDisconnectedAction:()=>lv,sessionForceCloseAction:()=>uh,sessionReconnectingAction:()=>Mc,socketMessageAction:()=>sv});var iv={};Tn(iv,{configureStore:()=>TI,createAction:()=>cr});yI(iv,uie);function cr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error("prepareAction did not return an object");return F(F({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>n.type===e,r}var uae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cc:Cc.apply(null,arguments)};function dae(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);if(t===null)return!0;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}function fae(){return function(){return[]}}function TI(e){const t=fae(),{reducer:r=void 0,middleware:n=t(),devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(dae(r))s=vI(r);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');let l=n;typeof l=="function"&&(l=l(t));const c=pI(...l);let u=Cc;i&&(u=uae(F({trace:!1},typeof i=="object"&&i)));let d=[c];Array.isArray(o)?d=[c,...o]:typeof o=="function"&&(d=o(d));const f=u(...d);return rv(s,a,f)}var av=cr("swSdk/init"),ov=cr("swSdk/destroy"),Oc=cr("swSdk/reauth"),Ms=cr("auth/error"),Tc=cr("auth/success"),ch=cr("auth/expiring"),sv=cr("socket/message"),lv=cr("session.disconnected"),Mc=cr("session.reconnecting"),uh=cr("session.forceClose"),MI=(e,t)=>`${t.type}/${e}`,W_=(e,t)=>Ce(F({},t),{type:MI(e,t)}),kI=(e,t)=>MI(e,t);function jI(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function hae(e){return typeof e=="function"}function mae(e,t,r=[],n){let[i,a,o]=typeof t=="function"?jI(t):[t,r,n],s;hae(e)?s=()=>e():s=()=>e;function l(c=s(),u){let d=[i[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[o]),d.reduce((f,h)=>h?h(f,u):f,c)}return l.getInitialState=s,l}function vae(e,t){return`${e}/${t}`}function pae(e){const{name:t}=e;if(!t)throw new Error("`name` is a required option for createSlice");const r=e.initialState,n=e.reducers||{},i=Object.keys(n),a={},o={},s={};i.forEach(u=>{const d=n[u],f=vae(t,u);let h,v;"reducer"in d?(h=d.reducer,v=d.prepare):h=d,a[u]=h,o[f]=h,s[u]=v?cr(f,v):cr(f)});function l(){const[u={},d=[],f=void 0]=typeof e.extraReducers=="function"?jI(e.extraReducers):[e.extraReducers],h=F(F({},u),o);return mae(r,h,d,f)}let c;return{name:t,reducer(u,d){return c||(c=l()),c(u,d)},actions:s,caseReducers:a,getInitialState(){return c||(c=l()),c.getInitialState()}}}var PI=({name:e="",initialState:t,reducers:r,extraReducers:n})=>pae({name:e,initialState:t,reducers:r,extraReducers:i=>{i.addCase(ov.type,()=>t),typeof n=="function"&&n(i)}}),gae={protocol:"",iceServers:[],authStatus:"unknown",authorization:void 0,authorizationState:void 0,authError:void 0,authCount:0};function yae(e){return[av.type,Oc.type].includes(e.type)}var bae=PI({name:"session",initialState:gae,reducers:{connected:(e,{payload:t})=>{var r,n;return Ce(F({},e),{authStatus:"authorized",authorization:t==null?void 0:t.authorization,authCount:e.authCount+1,protocol:(r=t==null?void 0:t.protocol)!=null?r:"",iceServers:(n=t==null?void 0:t.ice_servers)!=null?n:[]})},authStatus:(e,{payload:t})=>Ce(F({},e),{authStatus:t}),updateAuthorization:(e,{payload:t})=>Ce(F({},e),{authorization:t}),updateAuthorizationState:(e,{payload:t})=>Ce(F({},e),{authorizationState:t})},extraReducers:e=>{e.addCase(Ms.type,(t,{payload:r})=>Ce(F({},t),{authStatus:"unauthorized",authError:r.error})),e.addMatcher(yae,t=>Ce(F({},t),{authStatus:"authorizing"}))}}),{actions:wu,reducer:xae}=bae,_ae=Symbol("BaseSession"),Sae=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),wae=()=>Sae(1,4)*1e3,Eae=class{constructor(e){this.options=e,ie(this,"__sw_symbol",_ae),ie(this,"uuid",$r()),ie(this,"WebSocketConstructor"),ie(this,"CloseEventConstructor"),ie(this,"agent"),ie(this,"connectVersion",OI),ie(this,"_rpcConnectResult"),ie(this,"_requests",new Map),ie(this,"_socket",null),ie(this,"_host",pie),ie(this,"_executeTimeoutMs",10*1e3),ie(this,"_executeTimeoutError",xI),ie(this,"_executeQueue",new Set),ie(this,"_swConnectError",Sie),ie(this,"_executeConnectionClosed",bI),ie(this,"_checkPingDelay",15*1e3),ie(this,"_checkPingTimer",null),ie(this,"_reconnectTimer"),ie(this,"_status","unknown"),ie(this,"_resolveWaitConnected",null),ie(this,"_sessionChannel"),ie(this,"wsOpenHandler"),ie(this,"wsCloseHandler"),ie(this,"wsErrorHandler");var t,r;const{host:n,logLevel:i="info",sessionChannel:a}=e;n&&(this._host=Wie(n)),a&&(this._sessionChannel=a),i&&((r=(t=this.logger).setLevel)==null||r.call(t,i)),this._onSocketOpen=this._onSocketOpen.bind(this),this._onSocketError=this._onSocketError.bind(this),this._onSocketClose=this._onSocketClose.bind(this),this._onSocketMessage=this._onSocketMessage.bind(this),this.execute=this.execute.bind(this),this.connect=this.connect.bind(this),this.wsOpenHandler=o=>{var s;(s=this._socket)==null||s.removeEventListener("open",this.wsOpenHandler),this._onSocketOpen(o)},this.wsCloseHandler=o=>{var s;(s=this._socket)==null||s.removeEventListener("close",this.wsCloseHandler),this._onSocketClose(o)},this.wsErrorHandler=o=>{var s;(s=this._socket)==null||s.removeEventListener("error",this.wsErrorHandler),this._onSocketError(o)}}get host(){return this._host}get rpcConnectResult(){return this._rpcConnectResult}get relayProtocol(){var e,t;return(t=(e=this._rpcConnectResult)==null?void 0:e.protocol)!=null?t:""}get signature(){if(this._rpcConnectResult){const{authorization:e}=this._rpcConnectResult;return e.signature}}get logger(){return U()}get connecting(){var e;return((e=this._socket)==null?void 0:e.readyState)===0}get connected(){var e;return((e=this._socket)==null?void 0:e.readyState)===1}get closing(){var e;return((e=this._socket)==null?void 0:e.readyState)===2}get closed(){return this._socket?this._socket.readyState===3:!0}get status(){return this._status}get idle(){return this._status==="idle"}get ready(){return!(this.idle||!this.connected)}async _waitConnected(){return new Promise(e=>{this.connected?e():this._resolveWaitConnected=e})}set token(e){this.options.token=e}connect(){if(!(this!=null&&this.WebSocketConstructor))throw new Error("Missing WebSocketConstructor");if(!(this!=null&&this.CloseEventConstructor))throw new Error("Missing CloseEventConstructor");if(this._clearTimers(),this.connecting||this.connected){this.logger.warn("Session already connected.");return}this._removeSocketListeners(),this.destroySocket(),this._clearCheckPingTimer(),this._socket=this._createSocket(),this._addSocketListeners()}_createSocket(){return new this.WebSocketConstructor(this._host)}destroySocket(){this._socket&&(this._socket.close(),this.wsCloseHandler(new this.CloseEventConstructor("close",{reason:"Client-side closed"})),this._socket=null)}_addSocketListeners(){if(!this._socket)return this.logger.debug("Invalid socket instance to add listeners");this._removeSocketListeners(),this._socket.addEventListener("open",this.wsOpenHandler),this._socket.addEventListener("close",this.wsCloseHandler),this._socket.addEventListener("error",this.wsErrorHandler),this._socket.addEventListener("message",this._onSocketMessage)}_removeSocketListeners(){if(!this._socket)return this.logger.debug("Invalid socket instance to remove listeners");this._socket.removeEventListener("open",this.wsOpenHandler),this._socket.removeEventListener("close",this.wsCloseHandler),this._socket.removeEventListener("error",this.wsErrorHandler),this._socket.removeEventListener("message",this._onSocketMessage)}disconnect(){if(!this._socket||this.closing){this.logger.debug("Session not connected or already in closing state.");return}this._status="disconnecting",this._checkCurrentStatus()}execute(e){if(this._status==="disconnecting")return this.logger.warn("Reject request because the session is disconnecting",e),Promise.reject({code:"400",message:"The SDK session is disconnecting"});if(this._status==="disconnected")return Promise.reject({code:"400",message:"The SDK is disconnected"});let t=Promise.resolve();return"params"in e&&(t=new Promise((r,n)=>{this._requests.set(e.id,{rpcRequest:e,resolve:r,reject:n})})),this.ready?(this._send(e),EI(t,this._executeTimeoutMs,this._executeTimeoutError).catch(r=>{if(r===this._executeConnectionClosed)throw this._executeConnectionClosed;if(r===this._executeTimeoutError){if(Jie(e))throw this._swConnectError;if(this._checkCurrentStatus(),this.logger.error("Request Timeout",e),this.status==="disconnected")return this.logger.debug("Request failed because the session is disconnected",this.status,this._socket);this._closeConnection("reconnecting")}else throw r})):(this._addToExecuteQueue(e),this.connect(),t)}get _connectParams(){return{agent:this.agent,version:this.connectVersion,authentication:{project:this.options.project,token:this.options.token}}}async authenticate(){var e,t;const r=this._connectParams;this._relayProtocolIsValid()&&(r.protocol=this.relayProtocol),(e=this.options.topics)!=null&&e.length?r.contexts=this.options.topics:(t=this.options.contexts)!=null&&t.length&&(r.contexts=this.options.contexts),this._rpcConnectResult=await this.execute(eae(r))}authError(e){this._removeSocketListeners(),this.dispatch(Ms({error:e}))}forceClose(){return this._removeSocketListeners(),this._closeConnection("reconnecting")}async _onSocketOpen(e){var t;this.logger.debug("_onSocketOpen",e.type);try{this._status="unknown",this._clearTimers(),await this.authenticate(),this._status="connected",(t=this._resolveWaitConnected)==null||t.call(this),this._flushExecuteQueue(),this.dispatch(Tc())}catch(r){if(r===this._swConnectError||r===this._executeConnectionClosed){this.logger.debug("Invalid connect or connection closed. Waiting for retry.");return}this.logger.error("Auth Error",r),this.authError(r)}}_onSocketError(e){this.logger.debug("_onSocketError",e)}_onSocketClose(e){this.logger.debug("_onSocketClose",e.type,e.code,e.reason),this._status!=="disconnected"&&(this._status="reconnecting",this.dispatch(Mc()),this._clearTimers(),this._clearPendingRequests(),this._reconnectTimer=setTimeout(()=>{this.connect()},wae())),this._socket=null}_clearTimers(){clearTimeout(this._reconnectTimer)}_clearPendingRequests(){this.logger.debug("_clearPendingRequests",this._requests.size),this._requests.forEach(({reject:e})=>{e(this._executeConnectionClosed)}),this._requests.clear()}_onSocketMessage(e){const t=this.decode(e.data);if(this.logger.wsTraffic({type:"recv",payload:t}),Qie(t)){const r=this._requests.get(t.id);if(r){const{rpcRequest:n,resolve:i,reject:a}=r;this._requests.delete(t.id);const{result:o,error:s}=jie({response:t,request:n});return this._checkCurrentStatus(),s?a(s):i(o)}return this.logger.warn("Unknown request for",t)}switch(t.method){case"signalwire.ping":return this._pingHandler(t);case"signalwire.disconnect":{this.execute(nae(t.id)).catch(r=>{this.logger.error("SwDisconnect Error",r)}).finally(()=>{this._status="idle"});break}default:this._eventAcknowledgingHandler(t).catch(r=>this.logger.error("Event Acknowledging Error",r)),this.dispatch(sv(t))}}dispatch(e){if(!this._sessionChannel)throw new Error("Session channel does not exist");this._sessionChannel.put(e)}_relayProtocolIsValid(){var e;return this.signature&&((e=this==null?void 0:this.relayProtocol)==null?void 0:e.split("_")[1])===this.signature}encode(e){return JSON.stringify(e)}decode(e){return Vie(e)}async onSwAuthorizationState(e){this.persistSwAuthorizationState(e)}async retrieveSwAuthorizationState(){return""}async persistSwAuthorizationState(e){}_send(e){this.logger.wsTraffic({type:"send",payload:e}),this._socket.send(this.encode(e))}_addToExecuteQueue(e){this.logger.warn("Request queued waiting for session to reconnect",e),this._executeQueue.add(e)}_flushExecuteQueue(){if(this._executeQueue.size){if(!this.ready){this.logger.warn("Session not ready to flush the queue."),this._closeConnection("reconnecting");return}this.logger.debug(`${this._executeQueue.size} messages to flush`),this._executeQueue.forEach(e=>{this._send(e),this._executeQueue.delete(e)}),this._executeQueue.clear()}}_clearCheckPingTimer(){clearTimeout(this._checkPingTimer)}async _pingHandler(e){var t;this._clearCheckPingTimer(),this._checkPingTimer=setTimeout(()=>{this.logger.debug("Timeout waiting for ping"),this._closeConnection("reconnecting")},this._checkPingDelay),await this.execute(tae(e.id,(t=e==null?void 0:e.params)==null?void 0:t.timestamp))}async _eventAcknowledgingHandler(e){const{method:t,id:r}=e;return t==="signalwire.event"?this.execute(cae(r)):Promise.resolve()}_checkCurrentStatus(){switch(this._status){case"disconnecting":if(this._requests.size>0)return;this._requests.clear(),this._closeConnection("disconnected");break;case"disconnected":this.dispatch(lv());break;case"reconnecting":this.wsCloseHandler(new this.CloseEventConstructor("close",{reason:"Client-side closed"}));break}}_closeConnection(e){this._clearCheckPingTimer(),this.logger.debug("Close Connection:",e),this._status=e,this.dispatch(wu.authStatus(e==="disconnected"?"unauthorized":"unknown")),this._removeSocketListeners(),this.destroySocket(),this._checkCurrentStatus()}},NI={};Tn(NI,{authErrorAction:()=>Ms,authExpiringAction:()=>ch,authSuccessAction:()=>Tc,configureStore:()=>G_,connect:()=>Js,createAction:()=>cr,createCatchableSaga:()=>K_,createRestartableSaga:()=>q_,destroyAction:()=>ov,eventChannel:()=>Gm,getCustomSagaActionType:()=>kI,initAction:()=>av,makeCustomSagaAction:()=>W_,reauthAction:()=>Oc,sessionDisconnectedAction:()=>lv,sessionForceCloseAction:()=>uh,sessionReconnectingAction:()=>Mc,socketMessageAction:()=>sv});var Aae={byId:{}},Cae=PI({name:"components",initialState:Aae,reducers:{upsert:(e,{payload:t})=>t.id in e.byId?Ce(F({},e),{byId:Ce(F({},e.byId),{[t.id]:F(F({},e.byId[t.id]),t)})}):Ce(F({},e),{byId:Ce(F({},e.byId),{[t.id]:t})}),cleanup:(e,{payload:t})=>Ce(F({},e),{byId:Object.entries(e.byId).reduce((r,[n,i])=>(t.ids.includes(n)||(r[n]=i),r),{})})}}),{actions:RI,reducer:Oae}=Cae,Tae=(0,iv.combineReducers)({components:Oae,session:xae}),DI={};Tn(DI,{createCatchableSaga:()=>K_,createRestartableSaga:()=>q_,eventChannel:()=>Gm});var q_=e=>function*(){eD(function*(){for(;;)try{U().debug("Run a restartable saga"),yield tt(e),U().debug("One of the restartable saga has ended. Restarting..")}catch(t){U().error("Restartable Saga Error",t)}})},Mae=e=>U().error("Catchable Saga Error",e),K_=(e,t=Mae)=>function*(...r){try{yield tt(e,...r)}catch(n){t(n)}},kae=e=>V_(e==null?void 0:e.event_type),jae=e=>{var t;return!!((t=e==null?void 0:e.event_type)!=null&&t.startsWith("video."))},Pae=e=>(e==null?void 0:e.event_type)==="signalwire.authorization.state";function*Nae({sessionChannel:e,swEventChannel:t,session:r}){U().debug("sessionChannelWatcher [started]");function*n(o){if(yield bt(t,Iie(o)),!(kae(o)||jae(o))){if(Pae(o)){r.onSwAuthorizationState(o.params.authorization_state),yield bt(wu.updateAuthorizationState(o.params.authorization_state));return}yield bt({type:o.event_type,payload:o})}}function*i(o){if(o.type!==sv.type){yield bt(o);return}const{method:s,params:l}=o.payload;switch(s){case"signalwire.event":yield te(n,l);break;default:return U().debug(`Unknown message: ${s}`,o)}}const a=K_(i,o=>{U().error("Channel Error",o)});for(;;)try{for(;;){const o=yield ye(e);yield te(a,o)}}catch(o){U().error("sessionChannelWorker error:",o)}finally{U().debug("sessionChannelWorker [finally]")}}var II=class LI extends Error{constructor(t,r){super(r),this.code=t,this.message=r,ie(this,"name","AuthError"),Object.setPrototypeOf(this,LI.prototype)}};function*Rae({initSession:e,sessionEmitter:t,userOptions:r,channels:n}){var i;U().debug("sessionSaga [started]");const a=e(),o=n.swEventChannel,s=n.sessionChannel;let l=[];if((i=r.workers)!=null&&i.length)try{const d=r.workers.map(f=>tt(q_(f)));l=yield ZR(d)}catch(d){U().error("Error running custom workers",d)}const c=yield te(Nae,{session:a,sessionChannel:s,swEventChannel:o}),u=yield te(Iae,{session:a,sessionEmitter:t,sessionChannel:s,userOptions:r});a.connect(),yield ye(ov.type),a.disconnect(),yield ye(lv.type),t.emit("session.disconnected"),u.cancel(),c.cancel(),l.forEach(d=>d.cancel()),o.close(),s.close(),U().debug("sessionSaga [ended]")}function*Dae({session:e,token:t,sessionEmitter:r}){try{e.reauthenticate&&(e.token=t,yield tt(e.reauthenticate),yield bt(wu.connected(e.rpcConnectResult)),r.emit("session.connected"))}catch(n){U().error("Reauthenticate Error",n),e.authError(n)}}function*Iae(e){U().debug("sessionStatusWatcher [started]");const{session:t,sessionEmitter:r}=e;try{for(;;){const n=yield ye([Tc.type,Ms.type,ch.type,Oc.type,Mc.type,uh.type]);switch(U().debug("sessionStatusWatcher",n.type,n.payload),n.type){case Tc.type:{yield bt(wu.connected(t.rpcConnectResult)),r.emit("session.connected");break}case Ms.type:{yield te(Lae,Ce(F({},e),{action:n}));break}case ch.type:{r.emit("session.expiring");break}case Oc.type:{yield te(Dae,{session:t,token:n.payload.token,sessionEmitter:r});break}case Mc.type:{r.emit("session.reconnecting");break}case uh.type:{t.forceClose();break}}}}finally{(yield Fs())&&U().debug("sessionStatusWatcher [cancelled]")}}function*Lae(e){U().debug("sessionAuthErrorSaga [started]");try{const{action:t,sessionEmitter:r}=e,{error:n}=t.payload,i=n?new II(n.code,n.message):new Error("Unauthorized");r.emit("session.auth_error",i)}finally{(yield Fs())&&U().debug("sessionAuthErrorSaga [cancelled]")}}var zae=e=>function*({userOptions:r,channels:n}){for(U().debug("rootSaga [started]"),r.logger&&Cie(r.logger),r.debug&&Oie(r.debug);;){yield ye(av.type);try{yield tt(Rae,Ce(F({},e),{userOptions:r,channels:n}));break}catch(i){U().error("RootSaga Error:",i)}finally{(yield Fs())&&U().debug("rootSaga [cancelled]"),U().debug("Reboot rootSaga")}}U().debug("rootSaga [finished]")},zI={};Tn(zI,{getAuthError:()=>UI,getAuthStatus:()=>By,getAuthorization:()=>Y_,getAuthorizationState:()=>Uae,getIceServers:()=>$ae,getProtocol:()=>Bae,getSession:()=>$I});var $ae=({session:e})=>{var t;return(t=e==null?void 0:e.iceServers)!=null?t:[]},$I=e=>e.session,By=({session:e})=>e.authStatus,UI=({session:e})=>e.authError,Y_=({session:e})=>e.authorization,Uae=({session:e})=>e.authorizationState,Bae=({session:e})=>e.protocol,Js=e=>{const{sessionListeners:t={},store:r,Component:n,customSagas:i=[]}=e,a=Object.keys(t);return o=>{const s=new n(Ce(F({},o),{store:r})),l=new Map;let c=!0;const u=r.subscribe(()=>{const f=r.getState(),h=$I(f);for(const v of a){if(c===!1)return;const p=`session.${v}`,x=l.get(p),g=h[v];if(g!==void 0&&x!==g){l.set(p,g);const b=t[v];typeof b=="string"?s[b](h):typeof b=="function"&&b(h)}}}),d=i==null?void 0:i.map(f=>r.runSaga(f,{instance:s,runSaga:r.runSaga}));return s.destroyer=()=>{c=!1,u(),l.clear(),d!=null&&d.length&&d.forEach(f=>f.cancel())},s}},Vae=()=>new Di,Hae=e=>{const{SessionConstructor:t,userOptions:r,sessionChannel:n}=e,i=Vae();let a=null;return{session:a,initSession:()=>(a=new t(Ce(F({},r),{sessionChannel:n})),a),getSession:()=>(a||U().warn("Session does not exist!"),a),sessionEmitter:i}},Wae=()=>{const e=new Map;return{get:o=>e.get(o),set:(o,s)=>(e.set(o,s),e),remove:o=>(e.delete(o),e),getAll:()=>Array.from(e.entries()),deleteAll:()=>(e.clear(),e)}};yI(NI,iv);var G_=e=>{var t;const{userOptions:r,SessionConstructor:n,preloadedState:i={},runRootSaga:a=!0}=e,o=hD({sagaMonitor:r.sagaMonitor}),s=vu(),l=Xs(),c={swEventChannel:s,sessionChannel:l},u=TI({devTools:(t=r==null?void 0:r.devTools)!=null?t:!0,reducer:Tae,preloadedState:i,middleware:x=>x().concat(o)}),d=Wae(),{initSession:f,getSession:h,sessionEmitter:v}=Hae({userOptions:r,sessionChannel:l,SessionConstructor:n}),p=(x,g)=>o.run(x,Ce(F({},g),{channels:c,getSession:h,instanceMap:d}));if(a){const x=zae({initSession:f,sessionEmitter:v});o.run(x,{userOptions:r,channels:c})}return Ce(F({},u),{runSaga:p,channels:c,instanceMap:d,sessionEmitter:v})},qae=function*(e){const{initialState:t,onDone:r,onFail:n,getSession:i}=e,{requestId:a,method:o,params:s}=t,l=i();if(!l){const c=new Error("Session does not exist!");U().error(c),n==null||n(c);return}try{let c=rae({id:a,method:o,params:s});const u=yield tt(l.execute,c);r==null||r(u)}catch(c){U().warn("Execute error: ",c),n==null||n(c)}},Co=e=>e,Kae=Symbol("BaseComponent"),Eu=class{constructor(e){this.options=e,ie(this,"__sw_symbol",Kae),ie(this,"uuid",$r()),ie(this,"_customSagaTriggers",new Map),ie(this,"_destroyer"),ie(this,"eventEmitter"),ie(this,"_runningWorkers",[]),ie(this,"_workers",new Map),this.eventEmitter=new Di}get __uuid(){return this.uuid}get logger(){return U()}set destroyer(e){this._destroyer=e}get store(){return this.options.store}get instanceMap(){return this.store.instanceMap}get emitter(){return this.eventEmitter}get sessionEmitter(){return this.store.sessionEmitter}get session(){return this.sessionEmitter}on(e,t){return this.emitter.on(e,t)}once(e,t){return this.emitter.once(e,t)}off(e,t){return this.emitter.off(e,t)}removeAllListeners(e){return e?this.off(e):(this.eventNames().forEach(t=>{this.off(t)}),this.emitter)}eventNames(){return this.emitter.eventNames()}sessionEventNames(){return this.sessionEmitter.eventNames()}getSubscriptions(){return AI(this.eventNames())}emit(e,...t){return this.emitter.emit(e,...t)}listenerCount(e){return this.emitter.listenerCount(e)}destroy(){var e;(e=this._destroyer)==null||e.call(this),this.removeAllListeners(),this.detachWorkers()}execute({method:e,params:t},{transformParams:r=Co,transformResolve:n=Co,transformReject:i=Co}={transformParams:Co,transformResolve:Co,transformReject:Co}){return new Promise((a,o)=>{const s=$r();this.runWorker("executeActionWorker",{worker:qae,onDone:l=>a(n(l)),onFail:l=>o(i(l)),initialState:{requestId:s,componentId:this.__uuid,method:e,params:r(t)}})})}triggerCustomSaga(e){return new Promise((t,r)=>{const n=$r();this._customSagaTriggers.set(n,{resolve:t,reject:r}),this.store.dispatch(F({dispatchId:n},W_(this.__uuid,e)))})}settleCustomSagaTrigger({dispatchId:e,payload:t,kind:r}){const n=this._customSagaTriggers.get(e);n&&(n[r](t),this._customSagaTriggers.delete(e))}select(e){return e(this.store.getState())}getStateProperty(e){return this[e]}get _sessionAuthStatus(){return this.select(By)}get _sessionAuthorization(){return this.select(Y_)}_waitUntilSessionAuthorized(){switch(this._sessionAuthStatus){case"authorized":return Promise.resolve(this);case"unknown":case"authorizing":return new Promise((t,r)=>{const n=this.store.subscribe(()=>{const i=this.select(By),a=this.select(UI);if(i==="authorized")t(this),n();else if(i==="unauthorized"){const o=a?new II(a.code,a.message):new Error("Unauthorized");r(o),n()}})});case"unauthorized":return Promise.reject(new Error("Unauthorized"))}}runWorker(e,t){return this._workers.has(e)?U().warn(`[runWorker] Worker with name ${e} has already been registerd.`):this._setWorker(e,t),this._attachWorker(e,t)}cancelWorker(e){const t=this._runningWorkers.findIndex(r=>r===e);t>-1&&(this._runningWorkers.splice(t,1),e.cancel())}_setWorker(e,t){this._workers.set(e,t)}_attachWorker(e,t){var r=t,{worker:n}=r,i=Sn(r,["worker"]);const a=this.store.runSaga(n,F({instance:this,runSaga:this.store.runSaga},i));return this._runningWorkers.push(a),this._workers.delete(e),a}detachWorkers(){this._runningWorkers.forEach(e=>{e.cancel()}),this._runningWorkers=[]}},Yae=class extends Eu{constructor(e){super(e),this.options=e,ie(this,"subscribeMethod","signalwire.subscribe"),ie(this,"subscribeParams",{}),ie(this,"_latestExecuteParams");const t=()=>{this._latestExecuteParams=void 0};super.session.on("session.connected",t),super.session.on("session.disconnected",t),super.session.on("session.reconnecting",t)}shouldExecuteSubscribe(e){return!this._latestExecuteParams||JSON.stringify(e)!==JSON.stringify(this._latestExecuteParams)}async subscribe(){await this._waitUntilSessionAuthorized();const e=this.getSubscriptions();if(e.length===0){this.logger.debug("`subscribe()` was called without any listeners attached.");return}const t={method:this.subscribeMethod,params:Ce(F({},this.subscribeParams),{event_channel:this.getStateProperty("eventChannel"),events:e})};if(!this.shouldExecuteSubscribe(t)){this.logger.debug("BaseConsumer.subscribe() - Skipped .execute() since the execParams are exactly the same as last time");return}return this._latestExecuteParams=t,new Promise(async(r,n)=>{try{return await this.execute(t),r(void 0)}catch(i){return n(i)}})}},BI={audio_muted:!0,video_muted:!0,deaf:!0,visible:!0,input_volume:1,output_volume:1,input_sensitivity:1};Object.keys(BI).map(e=>`${xie}.member.updated.${e}`);var Gae=wn(BI);Object.keys(Gae).map(e=>`member.updated.${e}`);var VI={};Tn(VI,{getComponent:()=>Fae,getComponentsById:()=>HI,getComponentsToCleanup:()=>Xae});var Fae=({components:e},t)=>{var r;return(r=e.byId)==null?void 0:r[t]},HI=({components:e})=>e.byId,Xae=e=>{const t=HI(e);let r=[];return Object.keys(t).forEach(n=>{(t[n].responses||t[n].errors)&&r.push(n)}),r},WI={audio_muted:!0,video_muted:!0,deaf:!0,visible:!0,input_volume:1,output_volume:1,input_sensitivity:1,handraised:!0,echo_cancellation:!0,auto_gain:!0,noise_suppression:!0};Object.keys(WI).map(e=>`member.updated.${e}`);var Qae=wn(WI);Object.keys(Qae).map(e=>`member.updated.${e}`);var jd={};Tn(jd,{RoomSessionPlaybackAPI:()=>YI,RoomSessionRecordingAPI:()=>KI,RoomSessionStreamAPI:()=>GI,audioMuteMember:()=>yoe,audioUnmuteMember:()=>boe,createRoomSessionPlaybackObject:()=>X_,createRoomSessionRecordingObject:()=>F_,createRoomSessionStreamObject:()=>Q_,deafMember:()=>Soe,deleteMemberMeta:()=>Ioe,deleteMeta:()=>moe,demote:()=>Moe,getLayouts:()=>Zae,getMemberMeta:()=>Noe,getMembers:()=>Jae,getMeta:()=>doe,getPlaybacks:()=>coe,getRecordings:()=>soe,getStreams:()=>voe,hideVideoMuted:()=>roe,lock:()=>ioe,play:()=>uoe,promote:()=>Toe,removeAllMembers:()=>Poe,removeMember:()=>joe,setDeaf:()=>Eoe,setHideVideoMuted:()=>ooe,setInputSensitivityMember:()=>Ooe,setInputVolumeMember:()=>Aoe,setLayout:()=>eoe,setMemberMeta:()=>Roe,setMemberPosition:()=>koe,setMeta:()=>foe,setOutputVolumeMember:()=>Coe,setPositions:()=>toe,setPrioritizeHandraise:()=>goe,setRaisedHand:()=>Loe,showVideoMuted:()=>noe,startRecording:()=>loe,startStream:()=>poe,undeafMember:()=>woe,unlock:()=>aoe,updateMemberMeta:()=>Doe,updateMeta:()=>hoe,videoMuteMember:()=>xoe,videoUnmuteMember:()=>_oe});var Pe=()=>{},Hn=(e,t={})=>({value:function(r={}){return this.execute({method:e,params:F({room_session_id:this.roomSessionId},r)},t)}}),Ar=(e,t={})=>({value:function(r={}){var n=r,{memberId:i}=n,a=Sn(n,["memberId"]);return this.execute({method:e,params:F({room_session_id:this.roomSessionId,member_id:i||this.memberId},a)},t)}}),Zae=Hn("video.list_available_layouts",{transformResolve:e=>({layouts:e.layouts})}),Jae=Hn("video.members.get",{transformResolve:e=>({members:e.members})}),eoe=Hn("video.set_layout",{transformResolve:Pe}),toe=Hn("video.set_position",{transformResolve:Pe}),roe=Hn("video.hide_video_muted",{transformResolve:Pe}),noe=Hn("video.show_video_muted",{transformResolve:Pe}),ioe=Hn("video.lock",{transformResolve:Pe}),aoe=Hn("video.unlock",{transformResolve:Pe}),ooe={value:function(e){return this.execute({method:e?"video.hide_video_muted":"video.show_video_muted",params:{room_session_id:this.roomSessionId}},{transformResolve:Pe})}},soe={value:function(){return new Promise(async(e,t)=>{try{const{recordings:r}=await this.execute({method:"video.recording.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,recording:i}):a=F_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,recording:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({recordings:n})}catch(r){t(r)}})}},loe={value:function(){return new Promise(async(e,t)=>{try{const{recording:r}=await this.execute({method:"video.recording.start",params:{room_session_id:this.roomSessionId}}),n=F_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,recording:r}});this.instanceMap.set(n.id,n),e(n)}catch(r){t(r)}})}},coe={value:function(){return new Promise(async(e,t)=>{try{const{playbacks:r}=await this.execute({method:"video.playback.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,playback:i}):a=X_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,playback:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({playbacks:n})}catch(r){t(r)}})}},uoe={value:function(e){var t=e,{seekPosition:r,currentTimecode:n}=t,i=Sn(t,["seekPosition","currentTimecode"]);return new Promise(async(a,o)=>{try{const s=r||n,{playback:l}=await this.execute({method:"video.playback.start",params:F({room_session_id:this.roomSessionId,seek_position:s},i)}),c=X_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,playback:l}});this.instanceMap.set(c.id,c),a(c)}catch(s){o(s)}})}},qI=e=>Hn(e,{transformResolve:Pe,transformParams:t=>{const r=t,{room_session_id:n}=r,i=Sn(r,["room_session_id"]);return{room_session_id:n,meta:i}}}),doe=Hn("video.get_meta",{transformResolve:({meta:e})=>({meta:e})}),foe=qI("video.set_meta"),hoe=qI("video.update_meta"),moe={value:function(e){return this.execute({method:"video.delete_meta",params:{room_session_id:this.roomSessionId,keys:e}})}},voe={value:function(){return new Promise(async(e,t)=>{try{const{streams:r}=await this.execute({method:"video.stream.list",params:{room_session_id:this.roomSessionId}}),n=[];r.forEach(i=>{let a=this.instanceMap.get(i.id);a?a.setPayload({room_id:this.roomId,room_session_id:this.roomSessionId,stream:i}):a=Q_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,stream:i}}),n.push(a),this.instanceMap.set(a.id,a)}),e({streams:n})}catch(r){t(r)}})}},poe={value:function(e){return new Promise(async(t,r)=>{try{const{stream:n}=await this.execute({method:"video.stream.start",params:F({room_session_id:this.roomSessionId},e)}),i=Q_({store:this.store,payload:{room_id:this.roomId,room_session_id:this.roomSessionId,stream:n}});this.instanceMap.set(i.id,i),t({stream:i})}catch(n){r(n)}})}},goe={value:function(e){return this.execute({method:"video.prioritize_handraise",params:{room_session_id:this.roomSessionId,enable:e}})}},yoe=Ar("video.member.audio_mute",{transformResolve:Pe}),boe=Ar("video.member.audio_unmute",{transformResolve:Pe}),xoe=Ar("video.member.video_mute",{transformResolve:Pe}),_oe=Ar("video.member.video_unmute",{transformResolve:Pe}),Soe=Ar("video.member.deaf",{transformResolve:Pe}),woe=Ar("video.member.undeaf",{transformResolve:Pe}),Eoe={value:function(e){return this.execute({method:e?"video.member.deaf":"video.member.undeaf",params:{room_session_id:this.roomSessionId,member_id:this.memberId}},{transformResolve:Pe})}},Aoe=Ar("video.member.set_input_volume",{transformResolve:Pe}),Coe=Ar("video.member.set_output_volume",{transformResolve:Pe}),Ooe=Ar("video.member.set_input_sensitivity",{transformResolve:Pe}),Toe={value:function(e){var t=e,{memberId:r,mediaAllowed:n,joinAudioMuted:i,joinVideoMuted:a}=t,o=Sn(t,["memberId","mediaAllowed","joinAudioMuted","joinVideoMuted"]);return this.execute({method:"video.member.promote",params:F({room_session_id:this.roomSessionId,member_id:r,media_allowed:n,join_audio_muted:i,join_video_muted:a},o)},{transformResolve:Pe})}},Moe={value:function({memberId:e,mediaAllowed:t}){return this.execute({method:"video.member.demote",params:{room_session_id:this.roomSessionId,member_id:e,media_allowed:t}},{transformResolve:Pe})}},koe=Ar("video.member.set_position",{transformResolve:Pe}),joe={value:function(e){var t=e,{memberId:r}=t,n=Sn(t,["memberId"]);if(!r)throw new TypeError('Invalid or missing "memberId" argument');return this.execute({method:"video.member.remove",params:F({room_session_id:this.roomSessionId,member_id:r},n)},{transformResolve:Pe})}},Poe={value:function(){return this.execute({method:"video.member.remove",params:{room_session_id:this.roomSessionId,member_id:"all"}},{transformResolve:Pe})}},Noe=Ar("video.member.get_meta",{transformResolve:({meta:e})=>({meta:e})}),Roe=Ar("video.member.set_meta",{transformResolve:Pe}),Doe=Ar("video.member.update_meta",{transformResolve:Pe}),Ioe=Ar("video.member.delete_meta",{transformResolve:Pe}),Loe={value:function(e){const{raised:t=!0,memberId:r=this.memberId}=e||{};if(!r)throw new TypeError('Invalid or missing "memberId" argument');return this.execute({method:t?"video.member.raisehand":"video.member.lowerhand",params:{room_session_id:this.roomSessionId,member_id:r}},{transformResolve:Pe})}},KI=class extends Eu{constructor(e){super(e),ie(this,"_payload"),this._payload=e.payload}get id(){return this._payload.recording.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get state(){return this._payload.recording.state}get duration(){return this._payload.recording.duration}get startedAt(){if(this._payload.recording.started_at)return new Date(this._payload.recording.started_at*1e3)}get endedAt(){if(this._payload.recording.ended_at)return new Date(this._payload.recording.ended_at*1e3)}setPayload(e){this._payload=e}async pause(){await this.execute({method:"video.recording.pause",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}async resume(){await this.execute({method:"video.recording.resume",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}async stop(){await this.execute({method:"video.recording.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),recording_id:this.getStateProperty("id")}})}},F_=e=>Js({store:e.store,Component:KI})(e),YI=class extends Eu{constructor(e){super(e),ie(this,"_payload"),this._payload=e.payload}get id(){return this._payload.playback.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get url(){return this._payload.playback.url}get state(){return this._payload.playback.state}get volume(){return this._payload.playback.volume}get startedAt(){if(this._payload.playback.started_at)return new Date(this._payload.playback.started_at*1e3)}get endedAt(){if(this._payload.playback.ended_at)return new Date(this._payload.playback.ended_at*1e3)}get position(){return this._payload.playback.position}get seekable(){return this._payload.playback.seekable}setPayload(e){this._payload=e}async pause(){await this.execute({method:"video.playback.pause",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async resume(){await this.execute({method:"video.playback.resume",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async stop(){await this.execute({method:"video.playback.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id")}})}async setVolume(e){await this.execute({method:"video.playback.set_volume",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),volume:e}})}async seek(e){await this.execute({method:"video.playback.seek_absolute",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:Math.abs(e)}})}async forward(e=5e3){await this.execute({method:"video.playback.seek_relative",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:Math.abs(e)}})}async rewind(e=5e3){await this.execute({method:"video.playback.seek_relative",params:{room_session_id:this.getStateProperty("roomSessionId"),playback_id:this.getStateProperty("id"),position:-Math.abs(e)}})}},X_=e=>Js({store:e.store,Component:YI})(e),GI=class extends Eu{constructor(e){super(e),ie(this,"_payload"),this._payload=e.payload}get id(){return this._payload.stream.id}get roomId(){return this._payload.room_id}get roomSessionId(){return this._payload.room_session_id}get state(){return this._payload.stream.state}get duration(){return this._payload.stream.duration}get url(){return this._payload.stream.url}get startedAt(){if(this._payload.stream.started_at)return new Date(this._payload.stream.started_at*1e3)}get endedAt(){if(this._payload.stream.ended_at)return new Date(this._payload.stream.ended_at*1e3)}setPayload(e){this._payload=e}async stop(){await this.execute({method:"video.stream.stop",params:{room_session_id:this.getStateProperty("roomSessionId"),stream_id:this.getStateProperty("id")}})}},Q_=e=>Js({store:e.store,Component:GI})(e),zoe={};Tn(zoe,{BaseChatAPI:()=>o3,BaseChatConsumer:()=>a3,ChatMember:()=>l3,ChatMessage:()=>s3,applyCommonMethods:()=>Koe,createBaseChatObject:()=>Woe,getMemberState:()=>i3,getMembers:()=>t3,getMessages:()=>e3,publish:()=>JI,setMemberState:()=>n3});var FI=e=>{const t=!e||Array.isArray(e)?e:[e];return Array.isArray(t)?t.map(r=>({name:r})):[]},XI=e=>Array.isArray(e)||typeof e=="string",QI=()=>{},Z_=(e,t={})=>({value:function(r={}){return this.execute({method:e,params:r},t)}}),ZI=(e,t={})=>({value:function(r={}){var n=r,{memberId:i}=n,a=Sn(n,["memberId"]);return this.execute({method:e,params:F({member_id:i},a)},t)}}),JI=Z_("chat.publish",{transformResolve:QI}),e3=Z_("chat.messages.get",{transformResolve:e=>({messages:e.messages.map(t=>wn(t)),cursor:e.cursor})}),t3=Z_("chat.members.get",{transformResolve:e=>({members:e.members.map(t=>wn(t))})}),r3=e=>{const t=XI(e==null?void 0:e.channels)?FI(e.channels):void 0;return Ce(F({},e),{channels:t})},n3=ZI("chat.member.set_state",{transformResolve:QI,transformParams:r3}),i3=ZI("chat.member.get_state",{transformResolve:e=>({channels:e.channels}),transformParams:r3}),$oe={};Tn($oe,{BasePubSubConsumer:()=>J_,PubSubMessage:()=>eS,createBasePubSubObject:()=>Voe});var Uoe=function*(e){U().trace("pubSubWorker started");const{instance:t,channels:{swEventChannel:r}}=e;function*n(a){const{type:o,payload:s}=a;switch(o){case`${Yo}.channel.message`:{const{channel:l,message:c}=s,u=c,{member:d}=u,f=Sn(u,["member"]),h=wn(Ce(F({},f),{channel:l})),v=new eS(h);t.emit("message",v);break}default:U().warn(`Unknown pubsub event: "${o}"`);break}}const i=a=>a.type.startsWith(`${Yo}.`);for(;;){const a=yield ye(r,i);yield te(n,a)}U().trace("pubSubWorker ended")},Boe=e=>e.map(t=>({name:t})),J_=class extends Yae{constructor(e){super(e),ie(this,"subscribeMethod",`${Yo}.subscribe`),this.initWorker()}initWorker(){this.runWorker("pubSub",{worker:Uoe})}_getChannelsParam(e,t){const r=!e||Array.isArray(e)?e:[e];if(!Array.isArray(r)||r.length===0)throw new Error(`Please specify one or more channels when calling .${t}()`);return{channels:Boe(r)}}_setSubscribeParams(e){this.subscribeParams=F(F({},this.subscribeParams),e)}_getSubscribeParams({channels:e}){return F({},this._getChannelsParam(e,"subscribe"))}_getUnsubscribeParams({channels:e}){const t=this._getChannelsParam(e,"unsubscribe");return F({},t)}_checkMissingSubscriptions(){this.getSubscriptions().length===0&&(this.logger.info("Subscribe was called before any listeners were attached. Move `.subscribe()` right after your event listeners to suppress this message."),this.once("message",()=>{}))}getSubscriptions(){const e=this.eventNames().map(t=>`${Yo}.${String(t)}`);return AI(e)}async subscribe(e){this._checkMissingSubscriptions();const t=this._getSubscribeParams({channels:e});return this._setSubscribeParams(t),super.subscribe()}async unsubscribe(e){if(this._sessionAuthStatus==="unknown"||this._sessionAuthStatus==="unauthorized")throw new Error("You must be authenticated to unsubscribe from a channel");const t=this._getUnsubscribeParams({channels:e});return new Promise(async(r,n)=>{const i=this.getSubscriptions();if(i.length>0){const a={method:`${Yo}.unsubscribe`,params:Ce(F({},t),{events:i})};try{await this.execute(a)}catch(o){return n(o)}}else this.logger.warn("`unsubscribe()` was called without any listeners attached.");return r()})}updateToken(e){return new Promise((t,r)=>{this.session.once("session.auth_error",n=>{r(n)}),this.session.once("session.connected",()=>{t()}),this.store.dispatch(yn.reauthAction({token:e}))})}publish(e){return this.execute({method:`${Yo}.publish`,params:e})}async getAllowedChannels(){await this._waitUntilSessionAuthorized();const e=this.select(Y_);return e&&"channels"in e&&e.channels?e.channels:{}}},Voe=e=>Js({store:e.store,Component:J_})(e),eS=class{constructor(t){this.payload=t}get id(){return this.payload.id}get channel(){return this.payload.channel}get content(){return this.payload.content}get meta(){return this.payload.meta}get publishedAt(){return this.payload.publishedAt}},Hoe=function*(e){U().trace("chatWorker started");const{instance:t,channels:{swEventChannel:r}}=e;function*n(a){const{type:o,payload:s}=a;switch(o){case"chat.channel.message":{const{channel:l,message:c}=s,u=wn(Ce(F({},c),{channel:l})),d=new s3(u);t.emit("message",d);break}case"chat.member.joined":case"chat.member.updated":case"chat.member.left":{const{member:l}=s,c=wn(l),u=new l3(c),d=wI(o);t.emit(d,u);break}default:U().warn(`Unknown chat event: "${o}"`);break}}const i=a=>a.type.startsWith("chat.");for(;;){const a=yield ye(r,i);yield te(n,a)}U().trace("chatWorker ended")},a3=class extends J_{constructor(e){super(e),ie(this,"subscribeMethod",`${_ie}.subscribe`)}initWorker(){this.runWorker("chat",{worker:Hoe})}},o3=Lie(a3,{publish:JI,getMembers:t3,getMessages:e3,setMemberState:n3,getMemberState:i3}),Woe=e=>Js({store:e.store,Component:o3})(e),s3=class extends eS{get member(){return this.payload.member}},l3=class{constructor(e){this.payload=e}get id(){return this.payload.id}get channel(){return this.payload.channel}get state(){var e;return(e=this.payload.state)!=null?e:{}}},hC=e=>{const t=XI(e==null?void 0:e.channels)?FI(e.channels):void 0;return Ce(F({},e),{channels:t})},qoe=()=>{};function Koe(e){return class extends e{getMembers(t){return this._client.execute({method:"chat.members.get",params:t},{transformResolve:r=>({members:r.members.map(n=>wn(n))})})}getMessages(t){return this._client.execute({method:"chat.messages.get",params:t},{transformResolve:r=>({messages:r.messages.map(n=>wn(n)),cursor:r.cursor})})}setMemberState(t={}){var r=t,{memberId:n}=r,i=Sn(r,["memberId"]);return this._client.execute({method:"chat.member.set_state",params:F({member_id:n},i)},{transformResolve:qoe,transformParams:hC})}getMemberState(t={}){var r=t,{memberId:n}=r,i=Sn(r,["memberId"]);return this._client.execute({method:"chat.member.get_state",params:F({member_id:n},i)},{transformResolve:a=>({channels:a.channels}),transformParams:hC})}}}var Yoe={};Tn(Yoe,{memberPositionWorker:()=>Foe,memberUpdatedWorker:()=>c3});var tS=function*(e,t,r){const n=wI(e);r.emit(n,t)};function*Goe(e){const{action:t,memberList:r,instance:n,dispatcher:i=tS}=e,a=t.payload.layout.layers,o={};a.forEach(s=>{var l;const c=s.member_id;if(!c)return;const u=r.get(c);u&&s.position!==((l=u.member)==null?void 0:l.current_position)?(Vy({memberList:r,memberId:c,currentPosition:s.position}),o[c]=!0):o[c]=!1});for(const[s,l]of r)if(o[s])yield i==null?void 0:i("video.member.updated",l,n);else if(o[s]===void 0){const c=Vy({memberList:r,memberId:s,currentPosition:"off-canvas"});if(!c)return;yield i==null?void 0:i("video.member.updated",c,n)}}function*c3({action:e,memberList:t,instance:r,dispatcher:n=tS}){var i,a;const o=e.payload.member.id,s=Vy({memberList:t,memberId:o,currentPosition:(a=(i=t.get(o))==null?void 0:i.member)==null?void 0:a.current_position});if(!s)return;const{member:{updated:l=[]}}=e.payload,c=Ce(F({},s),{member:F(F({},s.member),e.payload.member)});t.set(o,c);for(const u of l){const d=`${e.type}.${u}`;yield n==null?void 0:n(d,c,r)}yield n==null?void 0:n(e.type,c,r)}var Foe=function*({instance:t,channels:r,initialState:n,getSession:i,instanceMap:a,dispatcher:o=tS}){if(!n)return;const{swEventChannel:s}=r;let l=Xoe(n);const c=u=>{l.has(u.member.id)||l.set(u.member.id,u)};for(;;){const u=yield ye(s,d=>d.type==="video.member.joined"||d.type==="video.member.updated"||d.type==="video.member.left"||d.type==="video.layout.changed");switch(u.type){case"video.member.joined":{c(u.payload);break}case"video.member.updated":{c(u.payload),yield te(c3,{action:u,channels:r,memberList:l,instance:t,getSession:i,instanceMap:a,dispatcher:o});break}case"video.member.left":{const d=u.payload.member;l.delete(d.id);break}case"video.layout.changed":{yield te(Goe,{action:u,channels:r,memberList:l,instance:t,dispatcher:o});break}}}},Vy=({memberList:e,memberId:t,currentPosition:r})=>{const n=e.get(t);if(n){if(!r)return n}else return;const i=Ce(F({},n),{member:Ce(F({},n==null?void 0:n.member),{current_position:r})});return e.set(t,i),i},Xoe=e=>{const t=e.room_session.members,r=new Map;return t.forEach(n=>{const i=n.id,a=e.room_session.id||e.room_session.room_session_id;r.set(i,{room_id:e.room_session.room_id,room_session_id:a,member:n})}),r},Qoe={};Tn(Qoe,{configureFullStack:()=>ese,configureJestStore:()=>Joe,createMockedLogger:()=>Zoe,createSessionChannel:()=>ise,createSwEventChannel:()=>nse,rpcConnectResultVRT:()=>rse,wait:()=>tse});var u3="8f0a119a-cda7-4497-a47d-c81493b824d4",d3="<VRT>",Zoe=()=>({fatal:jest.fn(),error:jest.fn(),warn:jest.fn(),info:jest.fn(),debug:jest.fn(),trace:jest.fn(),wsTraffic:jest.fn()}),Joe=e=>G_(F({userOptions:{project:u3,token:d3,devTools:!1},SessionConstructor:Eae,runRootSaga:!1},e)),ese=()=>{const e={dispatch:console.log,connect:jest.fn(),disconnect:jest.fn(),execute:jest.fn()},t=new Di,r=G_({userOptions:{project:u3,token:d3,devTools:!1},SessionConstructor:jest.fn().mockImplementation(()=>e)});return r.dispatch(yn.initAction()),r.dispatch(yn.authSuccessAction()),{store:r,session:e,emitter:t,destroy:()=>r.dispatch(yn.destroyAction())}},tse=e=>new Promise(t=>{setTimeout(t,e)}),rse={identity:"f3bc99df-2c3d-4fa4-b1dc-e8a8ffc579e6@e3fefa44-1bad-4be9-ad9b-1cbb9abd60c7.west-us",authorization:{type:"video",project_id:"8f0a119a-cda7-4497-a47d-c81493b824d4",project:"8f0a119a-cda7-4497-a47d-c81493b824d4",scopes:["video"],scope_id:"26675883-8499-4ee9-85eb-691c4aa209f8",resource:"9c80f1e8-9430-4070-a043-937eb3a96b38",join_as:"member",user_name:"Joe",room:{name:"lobby",display_name:"Lobby",scopes:["room.self.audio_mute","room.self.audio_unmute"],meta:{}},signature:"SGZtkRD9fvuBAOUp1UF56zESxdEvGT6qSGZtkRD9fvuBAOUp1UF56zESxdEvGT6q",media_allowed:"all",audio_allowed:"both",video_allowed:"both",meta:{}},protocol:"signalwire_SGZtkRD9fvuBAOUp1UF56zESxdEvGT6qSGZtkRD9fvuBAOUp1UF56zESxdEvGT6q_03e8c927-8ea3-4661-86d5-778c3e03296a_8f0a119a-cda7-4497-a47d-c81493b824d4",ice_servers:[{urls:"turn.swire.io:443",credential:"sFTwvi8ShXcYNOcyYjFy3ATIUpQ=",credentialType:"password",username:"1619521908:8f0a119a-cda7-4497-a47d-c81493b824d4"}]},nse=()=>vu(),ise=()=>Xs(),Hy=F({},zI);const f3=e=>new window.RTCPeerConnection(e),h3=()=>typeof navigator<"u"&&!!navigator.mediaDevices,yo=()=>{if(!h3())throw new Error("The media devices API isn't supported in this environment");return navigator.mediaDevices},ase=()=>typeof yo().getUserMedia=="function",ose=()=>typeof yo().getDisplayMedia=="function",m3=()=>yo().getSupportedConstraints(),Go=e=>e&&e instanceof MediaStream,cv=()=>"sinkId"in HTMLMediaElement.prototype,rS=async(e,t)=>{if(e===null){U().warn("No HTMLMediaElement to attach the speakerId");return}else if(typeof t!="string"){U().warn(`Invalid speaker deviceId: '${t}'`);return}else if(!cv()){U().warn("Browser does not support output device selection.");return}try{return await e.setSinkId(t)}catch(r){throw r.name==="SecurityError"?U().error(`You need to use HTTPS for selecting audio output device: ${r}`):U().error(`Error: ${r}`),r}},sse=e=>e,nS=e=>{var t;Go(e)&&((t=e==null?void 0:e.getTracks())===null||t===void 0||t.forEach(Qi))},Qi=e=>{e&&e.readyState==="live"&&(e.stop(),e.dispatchEvent(new Event("ended")))},lse={camera:"videoinput",microphone:"audioinput",speaker:"audiooutput"},iS=e=>{if(e)return lse[e]},dh=()=>yo().enumerateDevices(),aS=async e=>{let t=await dh().catch(r=>[]);return e&&(t=t.filter(({kind:r})=>r===e)),t},cse=async e=>{const t=await aS(e);return t.length?t.every(({deviceId:r,label:n})=>!!(r&&n)):(U().warn(`No ${e} devices to check for permissions!`),null)},Au=async e=>{if("permissions"in navigator&&typeof navigator.permissions.query=="function"&&e)try{return(await navigator.permissions.query({name:e})).state==="granted"}catch{}return cse(iS(e))},oS=()=>Au("camera"),sS=()=>Au("microphone"),v3=()=>Au("speaker"),use=5e3,dse=async e=>{const t=[];return e!=null&&e.audio&&t.push(sS()),e!=null&&e.video&&t.push(oS()),t.length?(await Promise.all(t)).every(Boolean):!1},el=async(e={audio:!0,video:!0})=>{var t;try{const r=yo().getUserMedia(e);if(await dse(e)){const i=new Error("Timeout reading from your devices");return await EI(r,use,i)}return await r}catch(r){switch(r.name){case"Error":{U().error((t=r==null?void 0:r.message)!==null&&t!==void 0?t:"navigator.mediaDevices.getUserMedia doesn't seem to be supported.");break}case"NotFoundError":{U().error("No media tracks of the type specified were found that satisfy the given constraints.");break}case"NotReadableError":{U().error("Hardware error occurred at the operating system, browser, or Web page level which prevented access to the device. This could have been caused by having the Camera or Mic being user by another application.");break}case"OverconstrainedError":{U().error(`The constraint: ${r.constraint} cannot be met by the selected device.`),U().info("List of available constraints:",m3());break}case"NotAllowedError":{U().error("The user has mostly likely denied access to the device. This could also happen if the browsing context is insecure (using HTTP rather than HTTPS)");break}case"TypeError":{Object.keys(e).length===0?U().error(`Constraints can't be empty nor have "video" and "audio" set to false.`):U().error("Please check that you are calling this method from a secure context (using HTTPS rather than HTTP).");break}case"SecurityError":{U().error("User media support is disabled on the Document on which getUserMedia() was called. The mechanism by which user media support is enabled and disabled is left up to the individual user agent.");break}}throw r}},p3=e=>yo().getDisplayMedia(e),fse=async e=>{try{const t=await el(e);nS(t)}catch(t){throw t}},hse=e=>({audio:!e||e==="all"||e==="microphone"||e==="speaker",video:!e||e==="all"||e==="camera"}),uv=async(e,t=!1)=>tl(e,t),mse=()=>uv("camera"),vse=()=>uv("microphone"),pse=()=>uv("speaker"),Wy=(e,t={})=>{const r=[];return e.filter(({deviceId:n,kind:i,groupId:a})=>{var o;if(!n||t.targets&&!(!((o=t.targets)===null||o===void 0)&&o.includes(i)))return!1;if(!a)return!0;const s=`${i}-${a}`,l=t!=null&&t.excludeDefault?n!=="default":!0;return!r.includes(s)&&l?(r.push(s),!0):!1})},tl=async(e,t=!1)=>{const r=await Au(e);let n;if(r===!1){const a=hse(e);n=await el(a)}const i=await aS(iS(e));return n&&nS(n),t===!0?i:Wy(i)},gse=()=>tl("camera"),yse=()=>tl("microphone"),g3=()=>tl("speaker"),mC=async(e,t,r)=>{const n=await tl(r,!0);for(let i=0;i<n.length;i++){const{deviceId:a,label:o}=n[i];if(e===a||t===o)return a}return null},vC=e=>{const t=new Map;return e.forEach(r=>{r.deviceId&&t.set(r.deviceId,r)}),t},bse=(e,t)=>{const r=vC(e),n=vC(e),i=[];U().debug("[_getDeviceListDiff] <- oldDevices",e),U().debug("[_getDeviceListDiff] -> newDevices",t);const a=t.filter(o=>{const s=o.deviceId,l=r.get(s);return l&&(n.delete(s),o.label!==l.label&&i.push(o)),l===void 0});return{updated:i.map(o=>({type:"updated",payload:o})),removed:Array.from(n,([o,s])=>s).map(o=>({type:"removed",payload:o})),added:a.map(o=>({type:"added",payload:o}))}},xse={camera:oS,microphone:sS,speaker:v3},qy=["camera","microphone","speaker"],pC=`Allowed targets are: '${qy.join("', '")}'`,Op={speaker:cv},_se=async e=>{const t=e.targets;return(await Promise.all(t.map(n=>xse[n]()))).reduce((n,i,a)=>{var o;const s=t[a],c=(s in Op?(o=Op[s])===null||o===void 0?void 0:o.call(Op):!0)?"supported":"unsupported";return n[c].push([s,!!i]),n},{supported:[],unsupported:[]})},Sse=async e=>{var t;const r=((t=e.targets)!==null&&t!==void 0?t:qy).filter(o=>qy.includes(o)?!0:(U().warn(`We'll ignore the "${o}" target as it is not allowed. ${pC}.`),!1));if(!r.length)throw new Error(`At least one "target" is required for createDeviceWatcher(). ${pC}.`);const n=await _se({targets:r});if(n.unsupported.length>0&&r.length===n.unsupported.length)throw new Error(`The platform doesn't support "${r.join(", ")}" as target/s, which means it's not possible to watch for changes on those devices.`);if(n.supported.every(([o,s])=>!s))throw new Error("You must ask the user for permissions before being able to listen for device changes. Try calling getUserMedia() before calling `createDeviceWatcher()`.");let i=[];const a=n.supported.reduce((o,[s,l])=>(l?o.push(s):i.push(s),o),[]);if(a.length!==r.length){const o=n.unsupported.length>0?`The platform doesn't support "${n.unsupported.map(([l])=>l).join(", ")}" as target/s, which means it's not possible to watch for changes on those devices. `:"",s=i.length>0?`The user hasn't granted permissions for the following targets: ${i.join(", ")}. `:"";U().warn(`${o}${s}We'll be watching for the following targets instead: "${a.join(", ")}"`)}return U().debug(`Watching these targets: "${a.join(", ")}"`),a},dv=async(e={})=>{const t=await Sse({targets:e.targets}),r=new Di,n=await dh(),i=t==null?void 0:t.reduce((s,l)=>{const c=iS(l);return c&&s.push(c),s},[]);let a=Wy(n,{excludeDefault:!0,targets:i});const o=async()=>{const s=await dh(),l=a,c=Wy(s,{excludeDefault:!0,targets:i});a=c;const u=bse(l,c),d=u.added.length>0,f=u.removed.length>0,h=u.updated.length>0;(d||f||h)&&r.emit("changed",{changes:u,devices:c}),d&&r.emit("added",{changes:u.added,devices:c}),f&&r.emit("removed",{changes:u.removed,devices:c}),h&&r.emit("updated",{changes:u.updated,devices:c})};return yo().addEventListener("devicechange",o),r},wse=()=>dv({targets:["microphone"]}),y3=()=>dv({targets:["speaker"]}),Ese=()=>dv({targets:["camera"]}),b3=e=>typeof(e==null?void 0:e.getTracks)=="function",Ase=async e=>{if(b3(e))return e;let t;return typeof e=="string"?t={audio:{deviceId:e}}:t={audio:e},el(t)},Cse=e=>{const t=e.createAnalyser();return t.fftSize=64,t.minDecibels=-90,t.maxDecibels=-10,t.smoothingTimeConstant=.85,t},Ose=100,Tse=async e=>{const t=await Ase(e);if(!t)throw new Error("Failed to get the audio stream");const r=new Di,n=new(window.AudioContext||window.webkitAudioContext),i=Cse(n);let a,o;try{n.createMediaStreamSource(t).connect(i)}catch{throw new Error("No audio track found")}t.getAudioTracks().forEach(c=>{c.addEventListener("ended",()=>{r.emit("destroyed","disconnected")})});const s=()=>{try{const c=new Uint8Array(i.frequencyBinCount);i.getByteFrequencyData(c);const u=c.reduce((d,f)=>d+f,0)/20;o!==u&&(o=u,r.emit("volumeChanged",Math.min(o,Ose))),a=requestAnimationFrame(s)}catch{r.emit("destroyed","error")}};a=requestAnimationFrame(s);const l=()=>{a&&cancelAnimationFrame(a),n.state!=="closed"&&n.close().catch(c=>{U().error("Error closing the AudioContext",c)}),b3(e)||t.getTracks().forEach(c=>c.stop()),r.emit("destroyed",null),r.removeAllListeners()};return new Proxy(r,{get(c,u,d){return u==="destroy"?l:Reflect.get(c,u,d)}})},Tp=async e=>(await g3()).find(r=>r.deviceId===e||r.deviceId==="default"&&e===""||r.deviceId===""&&e==="default"),gC=e=>{U().info("RTCService.getUserMedia",e);const{audio:t,video:r}=e;if(!(!t&&!r))return el(e)},yC=async e=>{var t,r;const{micLabel:n="",micId:i}=e;let a=(t=e.audio)!==null&&t!==void 0?t:!0;if(i&&a){const c=await mC(i,n,"microphone").catch(u=>null);c&&(typeof a=="boolean"&&(a={}),a.deviceId={exact:c})}const{camLabel:o="",camId:s}=e;let l=(r=e.video)!==null&&r!==void 0?r:!0;if(s&&l){const c=await mC(s,o,"camera").catch(u=>null);c&&(typeof l=="boolean"&&(l={}),l.deviceId={exact:c})}return{audio:a,video:l}},Mse=(e,t)=>{const{disableUdpIceServers:r=!1}=t,n=i=>{const a="transport=udp";return Array.isArray(i)?i.filter(o=>!o.includes(a)):i.includes(a)?"":i};return e.map(i=>Object.assign(Object.assign({},i),{urls:r?n(i.urls):i.urls}))};var x3={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},t.splitSections=function(r){return r.split(`
m=`).map((i,a)=>(a>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(r){const n=t.splitSections(r);return n&&n[0]},t.getMediaSections=function(r){const n=t.splitSections(r);return n.shift(),n},t.matchPrefix=function(r,n){return t.splitLines(r).filter(i=>i.indexOf(n)===0)},t.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let a=8;a<n.length;a+=2)switch(n[a]){case"raddr":i.relatedAddress=n[a+1];break;case"rport":i.relatedPort=parseInt(n[a+1],10);break;case"tcptype":i.tcpType=n[a+1];break;case"ufrag":i.ufrag=n[a+1],i.usernameFragment=n[a+1];break;default:i[n[a]]===void 0&&(i[n[a]]=n[a+1]);break}return i},t.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const a=r.type;return n.push("typ"),n.push(a),a!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},t.parseIceOptions=function(r){return r.substring(14).split(" ")},t.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},t.parseFmtp=function(r){const n={};let i;const a=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<a.length;o++)i=a[o].trim().split("="),n[i[0].trim()]=i[1];return n},t.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const a=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?a.push(o+"="+r.parameters[o]):a.push(o)}),n+="a=fmtp:"+i+" "+a.join(";")+`\r
`}return n},t.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},t.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(a=>{n+="a=rtcp-fb:"+i+" "+a.type+(a.parameter&&a.parameter.length?" "+a.parameter:"")+`\r
`}),n},t.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},a=r.indexOf(":",n);return a>-1?(i.attribute=r.substring(n+1,a),i.value=r.substring(a+1)):i.attribute=r.substring(n+1),i},t.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},t.getMid=function(r){const n=t.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},t.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:t.matchPrefix(r+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(a=>{i+="a=fingerprint:"+a.algorithm+" "+a.value+`\r
`}),i},t.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,n){return t.matchPrefix(r+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(r,n){const i=t.matchPrefix(r+n,"a=ice-ufrag:")[0],a=t.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&a?{usernameFragment:i.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},t.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=t.splitLines(r)[0].split(" ");n.profile=a[2];for(let s=3;s<a.length;s++){const l=a[s],c=t.matchPrefix(r,"a=rtpmap:"+l+" ")[0];if(c){const u=t.parseRtpMap(c),d=t.matchPrefix(r,"a=fmtp:"+l+" ");switch(u.parameters=d.length?t.parseFmtp(d[0]):{},u.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),n.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(u.name.toUpperCase());break}}}t.matchPrefix(r,"a=extmap:").forEach(s=>{n.headerExtensions.push(t.parseExtmap(s))});const o=t.matchPrefix(r,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(s=>{o.forEach(l=>{s.rtcpFeedback.find(u=>u.type===l.type&&u.parameter===l.parameter)||s.rtcpFeedback.push(l)})}),n},t.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=t.writeRtpMap(o),i+=t.writeFmtp(o),i+=t.writeRtcpFb(o)});let a=0;return n.codecs.forEach(o=>{o.maxptime>a&&(a=o.maxptime)}),a>0&&(i+="a=maxptime:"+a+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=t.writeExtmap(o)}),i},t.parseRtpEncodingParameters=function(r){const n=[],i=t.parseRtpParameters(r),a=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=t.matchPrefix(r,"a=ssrc:").map(f=>t.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=s.length>0&&s[0].ssrc;let c;const u=t.matchPrefix(r,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(v=>parseInt(v,10)));u.length>0&&u[0].length>1&&u[0][0]===l&&(c=u[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(h.rtx={ssrc:c}),n.push(h),a&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},n.push(h))}}),n.length===0&&l&&n.push({ssrc:l});let d=t.matchPrefix(r,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,n.forEach(f=>{f.maxBitrate=d})),n},t.parseRtcpParameters=function(r){const n={},i=t.matchPrefix(r,"a=ssrc:").map(s=>t.parseSsrcMedia(s)).filter(s=>s.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const a=t.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=a.length>0,n.compound=a.length===0;const o=t.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},t.parseMsid=function(r){let n;const i=t.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const a=t.matchPrefix(r,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(a.length>0)return n=a[0].value.split(" "),{stream:n[0],track:n[1]}},t.parseSctpDescription=function(r){const n=t.parseMLine(r),i=t.matchPrefix(r,"a=max-message-size:");let a;i.length>0&&(a=parseInt(i[0].substring(19),10)),isNaN(a)&&(a=65536);const o=t.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:a};const s=t.matchPrefix(r,"a=sctpmap:");if(s.length>0){const l=s[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:a}}},t.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(r,n,i){let a;const o=n!==void 0?n:2;return r?a=r:a=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+a+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(r,n){const i=t.splitLines(r);for(let a=0;a<i.length;a++)switch(i[a]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[a].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(r){return t.splitLines(r)[0].split(" ")[0].substring(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){const i=t.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(r){const i=t.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=t.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(x3);var kse=x3.exports;const fh=un(kse),bC=e=>/^m=audio/.test(e),xC=e=>/^m=video/.test(e),jse=e=>{const t=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),r=e.match(t);return r&&r.length==2?r[1]:null},Pse=e=>e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),_C=e=>{const t=`\r
`,r=e.split(t),n=r.findIndex(s=>/^a=rtpmap/.test(s)&&/opus\/48000/.test(s));if(n<0)return e;const i=jse(r[n]),a=new RegExp(`a=fmtp:${i}`),o=r.findIndex(s=>a.test(s));return o>=0?/stereo=1;/.test(r[o])||(r[o]+="; stereo=1; sprop-stereo=1"):r[n]+=`${t}a=fmtp:${i} stereo=1; sprop-stereo=1`,r.join(t)},Nse=(e,t)=>{const r=`\r
`,n=t.split(r),i=n.findIndex(bC),a=n.findIndex(xC);if(a==-1||i==-1||i<a)return e;const o=e.split(r),s=o.findIndex(bC),l=o.findIndex(xC),c=o.slice(s,l),u=o.slice(l,o.length-1);return[...o.slice(0,s),...u,...c,""].join(r)},Rse=(e,t,r,n)=>{const i=`\r
`,a=e.split(i);return a.forEach((o,s)=>{/^a=fmtp:\d*/.test(o)?a[s]+=`;x-google-max-bitrate=${t};x-google-min-bitrate=${r};x-google-start-bitrate=${n}`:/^a=mid:(1|video)/.test(o)&&(a[s]+=`\r
b=AS:${t}`)}),a.join(i)},SC=e=>{try{const t=/typ (?:srflx|prflx|relay)/,r=fh.getMediaSections(e);for(const n of r)if(!fh.splitLines(n).some(o=>o.indexOf("a=candidate")===0&&t.test(o)))return!1;return!0}catch(t){return U().error("Error checking SDP",t),!1}},Dse=e=>{try{const t=fh.getMediaSections(e);for(const r of t)if(!fh.splitLines(r).some(a=>a.indexOf("a=candidate")===0))return!1;return!0}catch(t){return U().error("Error checking SDP",t),!1}},Ise=e=>{const t=/^a=candidate.*.local\ .*/,r=`\r
`;return e.split(r).filter(n=>!t.test(n)).join(r)},wC=(e,t)=>{const r=Pse(e).split(`
`);let n=!1;const i=["inactive","recvonly","sendonly","sendrecv","stopped"];for(let a of r)if(a.startsWith("m="))n=a.startsWith(`m=${t}`);else if(n&&a.startsWith("a=")){const o=a.substring(2);if(i.includes(o))return o}return n?"sendrecv":"stopped"},Lse=e=>{switch(e){case"sendrecv":return"sendrecv";case"sendonly":return"recvonly";case"recvonly":return"sendonly";case"inactive":return"inactive";default:return"inactive"}},EC=({localSdp:e,remoteSdp:t,media:r})=>{const n=wC(e,r),i=Lse(n);return wC(t,r)===i},zse=e=>{if(!e.hasAudioReceiver&&!e.hasVideoReceiver){U().warn(`Missing receivers to inspect media for RTCPeer "${e.uuid}"`);return}U().debug(`Start watching media for RTCPeer "${e.uuid}"`);let t=0,r=0,n=!0,i;const a=()=>{clearTimeout(i)},o=async()=>{var s,l;let c=0,u=0;try{const d=await e.instance.getStats(null),f=(s=e.remoteAudioTrack)===null||s===void 0?void 0:s.id,h=(l=e.remoteVideoTrack)===null||l===void 0?void 0:l.id;d.forEach(v=>{v.type==="inbound-rtp"&&v.kind==="audio"&&v.trackIdentifier===f&&(U().trace(`audio inbound-rtp: packetsReceived: ${v.packetsReceived} (at ${v.lastPacketReceivedTimestamp})`),c=v.packetsReceived),v.type==="inbound-rtp"&&v.kind==="video"&&v.trackIdentifier===h&&(U().trace(`video inbound-rtp: packetsReceived: ${v.packetsReceived} (at ${v.lastPacketReceivedTimestamp})`),u=v.packetsReceived)})}catch(d){U().warn("getStats error",d)}finally{const d=c&&c<=t,f=u&&u<=r;d&&f?(U().warn(`audioPacketsReceived: ${c} - previousAudioValue: ${t}`),U().warn(`videoPacketsReceived: ${u} - previousVideoValue: ${r}`),e.triggerResume()):(t=c??t,r=u??r,a(),n&&e.instance.connectionState!=="closed"&&(i=setTimeout(()=>o(),e.watchMediaPacketsTimeout)))}};return{start:()=>{a(),o()},stop:()=>{n=!1,a()}}};function $se(){const e=window.AudioContext||window.webkitAudioContext,t=new e,r=t.createOscillator(),n=t.createMediaStreamDestination();r.frequency.value=0,r.connect(n),r.start();const i=n.stream.getAudioTracks()[0];return i._mockContext=t,i._mockOscillator=r,i}function Use(){const e=document.createElement("canvas");if(!e.captureStream)return console.warn("canvas.captureStream not supported, using audio-only mock"),null;e.width=320,e.height=240;const t=e.getContext("2d");t&&(t.fillStyle="#000000",t.fillRect(0,0,e.width,e.height));const n=e.captureStream(1).getVideoTracks()[0];return n._mockCanvas=e,n}function AC(e){e.readyState==="live"&&e.stop(),e._mockOscillator&&(e._mockOscillator.stop(),e._mockOscillator.disconnect(),delete e._mockOscillator),e._mockContext&&(e._mockContext.close(),delete e._mockContext)}function CC(e){e&&(e.readyState==="live"&&e.stop(),e._mockCanvas&&(e._mockCanvas.remove(),delete e._mockCanvas))}const OC=4,TC=20;class Bse{constructor(t,r=3,n=!1){this.pool=new Map,this.turnRefreshInterval=24e4,this.logger=U();const i=t.iceCandidatePoolSize||10;this.config=Object.assign(Object.assign({},t),{iceCandidatePoolSize:i>TC?TC:i}),this.poolSize=r>OC?OC:r,this.forceRefresh=n}async initializePool(){this.logger.info(`Initializing RTCPeerConnection pool with size ${this.poolSize}`);const t=[];for(let n=0;n<this.poolSize;n++)t.push(this.createPooledConnection());(await Promise.all(t)).forEach(n=>{n&&this.pool.set(n.id,n)}),this.logger.info(`Pool initialized with ${this.pool.size} connections`),this.forceRefresh&&(this.logger.info("Manual force refresh mode enabled, TURN allocations will not be refreshed by this manager."),this.startMaintenanceWorker())}getConnection(){for(const[t,r]of this.pool.entries())if(this.logger.debug(`Checking pooled connection ${t}`),this.logger.debug(`Connection state: ${r.pc.connectionState}`),this.logger.debug(`Signaling state: ${r.pc.signalingState}`),this.logger.debug(`ICE connection state: ${r.pc.iceConnectionState}`),this.isConnectionValid(r))return this.logger.info(`Providing pooled connection ${t}`),this.pool.delete(t),this.cleanupMockTracks(r),this.replenishPool().catch(n=>{this.logger.error("Failed to replenish pool:",n)}),r.pc;return this.logger.warn("No valid pooled connections available"),null}cleanup(){this.logger.info("Cleaning up RTCPeerConnectionManager"),this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=void 0);for(const[,t]of this.pool.entries())this.closeConnection(t);this.pool.clear()}async createPooledConnection(){var t;try{const r=f3(this.config),n=`conn_${Date.now()}_${Math.random().toString(36).substring(2,11)}`;this.logger.debug(`Creating pooled connection ${n}`);const i=$se(),a=Use(),o=[],s=r.addTrack(i);o.push(s);let l=null;a&&(l=r.addTrack(a),o.push(l));const c=await r.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await r.setLocalDescription(c),await this.waitForIceGathering(r);const u={id:n,pc:r,createdAt:Date.now(),lastRefreshed:Date.now(),iceGatheringComplete:!0,mockTracks:{audio:i,video:a||void 0},senders:o};return this.logger.debug(`Pooled connection ${n} created successfully`),this.logger.debug(`ICE candidates gathered for connection ${n}:`,(t=r.localDescription)===null||t===void 0?void 0:t.sdp),u}catch(r){return this.logger.error("Failed to create pooled connection:",r),null}}waitForIceGathering(t){return new Promise(r=>{if(t.iceGatheringState==="complete"){r();return}const n=()=>{t.iceGatheringState==="complete"&&(i(),r())},i=()=>{t.removeEventListener("icegatheringstatechange",n),clearTimeout(a)};t.addEventListener("icegatheringstatechange",n);const a=setTimeout(()=>{this.logger.warn("ICE gathering timeout, proceeding anyway"),i(),r()},1e4)})}cleanupMockTracks(t){this.logger.debug(`Cleaning up mock tracks for connection ${t.id}`),t.mockTracks.audio&&AC(t.mockTracks.audio),t.mockTracks.video&&CC(t.mockTracks.video),t.senders.forEach(r=>{try{t.pc.removeTrack(r)}catch(n){this.logger.warn("Error removing track:",n)}}),this.cleanupEventListeners(t.pc),t.mockTracks={},t.senders=[]}cleanupEventListeners(t){["icecandidate","icegatheringstatechange","iceconnectionstatechange","connectionstatechange","signalingstatechange","negotiationneeded","track","datachannel","addstream","removestream"].forEach(n=>{t[`on${n}`]=null})}isConnectionValid(t){if(t.pc.connectionState==="closed"||t.pc.connectionState==="failed")return this.logger.debug(`Pooled connection ${t.id} is not valid: ${t.pc.connectionState}`),!1;if(t.pc.signalingState==="closed")return this.logger.debug(`Pooled connection ${t.id} signalingState is not valid: ${t.pc.signalingState}`),!1;if(t.pc.iceConnectionState==="failed"||t.pc.iceConnectionState==="disconnected")return this.logger.debug(`Pooled connection ${t.id} iceConnectionState is not valid: ${t.pc.iceConnectionState}`),!1;const r=Date.now()-t.lastRefreshed;return this.forceRefresh&&r>this.turnRefreshInterval?(this.logger.debug(`Pooled connection ${t.id} is not valid: TURN allocation age ${r}`),!1):!0}async replenishPool(){const t=this.poolSize-this.pool.size;if(!(t<=0)){this.logger.debug(`Replenishing pool with ${t} connections`);for(let r=0;r<t;r++){const n=await this.createPooledConnection();n&&this.pool.set(n.id,n)}}}startMaintenanceWorker(){this.refreshTimer&&clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.refreshTurnAllocations().catch(t=>{this.logger.error("TURN refresh error:",t)})},this.turnRefreshInterval)}async refreshTurnAllocations(){const t=Date.now();for(const[r,n]of this.pool.entries())if(t-n.lastRefreshed>this.turnRefreshInterval)try{await this.refreshConnection(n)}catch(a){this.logger.error(`Failed to refresh connection ${r}:`,a),this.pool.delete(r),this.closeConnection(n)}this.replenishPool().catch(r=>{this.logger.error("Failed to replenish after refresh:",r)})}async refreshConnection(t){var r;this.logger.debug(`Refreshing TURN allocation for connection ${t.id}`),t.pc.restartIce();const n=await t.pc.createOffer({iceRestart:!0});await t.pc.setLocalDescription(n),await this.waitForIceGathering(t.pc),t.lastRefreshed=Date.now(),this.logger.debug(`TURN allocation refreshed for connection ${t.id}`),this.logger.debug(`New ICE candidates for connection ${t.id}:`,(r=t.pc.localDescription)===null||r===void 0?void 0:r.sdp)}closeConnection(t){try{t.mockTracks.audio&&AC(t.mockTracks.audio),t.mockTracks.video&&CC(t.mockTracks.video),t.pc.connectionState!=="closed"&&t.pc.close()}catch(r){this.logger.error(`Error closing connection ${t.id}:`,r)}}}class Vse{constructor(){this.logger=U()}async initializePool(t,r={}){var n,i;if(this.manager){this.logger.warn("Connection pool already initialized");return}this.logger.info("Initializing connection pool");const a={iceServers:t,iceCandidatePoolSize:(n=r.iceCandidatePoolSize)!==null&&n!==void 0?n:10};this.manager=new Bse(a,(i=r.poolSize)!==null&&i!==void 0?i:2),await this.manager.initializePool()}getConnection(){return this.manager?this.manager.getConnection():(this.logger.warn("Connection pool not initialized"),null)}cleanup(){this.manager&&(this.logger.info("Cleaning up connection pool"),this.manager.cleanup(),this.manager=void 0)}get isInitialized(){return!!this.manager}}const Al=new Vse,Hse=12e3;class Wse{get logger(){return U()}constructor(t,r){this.call=t,this.type=r,this.uuid=$r(),this._negotiating=!1,this._processingRemoteSDP=!1,this._restartingIce=!1,this._candidatesSnapshot=[],this._allCandidates=[],this._processingLocalSDP=!1,this.logger.debug("New Peer with type:",this.type,"Options:",this.options),this._onIce=this._onIce.bind(this),this._onEndedTrackHandler=this._onEndedTrackHandler.bind(this),this.options.prevCallId&&(this.uuid=this.options.prevCallId),this.options.prevCallId=void 0,this.options.localStream&&Go(this.options.localStream)&&(this._localStream=this.options.localStream),this.rtcConfigPolyfill=this.config}get options(){return this.call.options}get watchMediaPacketsTimeout(){var t;return(t=this.options.watchMediaPacketsTimeout)!==null&&t!==void 0?t:2e3}get isNegotiating(){return this._negotiating}get localStream(){return this._localStream}set localStream(t){this._localStream=t}get remoteStream(){return this._remoteStream}get isOffer(){return this.type==="offer"}get isAnswer(){return this.type==="answer"}get isSimulcast(){return this.options.simulcast===!0}get isSfu(){return this.options.sfu===!0}get localVideoTrack(){const t=this._getSenderByKind("video");return(t==null?void 0:t.track)||null}get localAudioTrack(){const t=this._getSenderByKind("audio");return(t==null?void 0:t.track)||null}get remoteVideoTrack(){const t=this._getReceiverByKind("video");return(t==null?void 0:t.track)||null}get remoteAudioTrack(){const t=this._getReceiverByKind("audio");return(t==null?void 0:t.track)||null}get hasAudioSender(){return!!this._getSenderByKind("audio")}get hasVideoSender(){return!!this._getSenderByKind("video")}get hasAudioReceiver(){return!!this._getReceiverByKind("audio")}get hasVideoReceiver(){return!!this._getReceiverByKind("video")}get config(){const{rtcPeerConfig:t={}}=this.options,r=Object.assign({bundlePolicy:"max-compat",iceServers:Mse(this.call.iceServers,{disableUdpIceServers:this.options.disableUdpIceServers}),sdpSemantics:"unified-plan"},t);return this.logger.debug("RTC config",r),r}get localSdp(){var t,r;return(r=(t=this.instance)===null||t===void 0?void 0:t.localDescription)===null||r===void 0?void 0:r.sdp}get remoteSdp(){var t,r;return(r=(t=this.instance)===null||t===void 0?void 0:t.remoteDescription)===null||r===void 0?void 0:r.sdp}get hasIceServers(){if(this.instance){const{iceServers:t=[]}=this.getConfiguration();return!!(t!=null&&t.length)}return!1}stopTrackSender(t){var r;try{const n=this._getSenderByKind(t);if(!n)return this.logger.info(`There is not a '${t}' sender to stop.`);n.track&&(Qi(n.track),(r=this._localStream)===null||r===void 0||r.removeTrack(n.track))}catch(n){this.logger.error("RTCPeer stopTrackSender error",t,n)}}stopTrackReceiver(t){var r;try{const n=this._getReceiverByKind(t);if(!n)return this.logger.info(`There is not a '${t}' receiver to stop.`);n.track&&(Qi(n.track),(r=this._remoteStream)===null||r===void 0||r.removeTrack(n.track))}catch(n){this.logger.error("RTCPeer stopTrackReceiver error",t,n)}}async restoreTrackSender(t){var r;try{const n=this._getSenderByKind(t);if(!n)return this.logger.info(`There is not a '${t}' sender to restore.`);if(n.track&&n.track.readyState!=="ended")return this.logger.info(`There is already an active ${t} track.`);const i=await yC(this.options),a=await gC({[t]:i[t]});if(a&&Go(a)){const o=a.getTracks().find(s=>s.kind===t);o&&(await n.replaceTrack(o),(r=this._localStream)===null||r===void 0||r.addTrack(o))}}catch(n){this.logger.error("RTCPeer restoreTrackSender error",t,n)}}getDeviceId(t){try{const r=this._getSenderByKind(t);if(!r||!r.track)return null;const{deviceId:n=null}=r.track.getSettings();return n}catch(r){return this.logger.error("RTCPeer getDeviceId error",t,r),null}}getTrackSettings(t){try{const r=this._getSenderByKind(t);return!r||!r.track?null:r.track.getSettings()}catch(r){return this.logger.error("RTCPeer getTrackSettings error",t,r),null}}getTrackConstraints(t){try{const r=this._getSenderByKind(t);return!r||!r.track?null:r.track.getConstraints()}catch(r){return this.logger.error("RTCPeer getTrackConstraints error",t,r),null}}getDeviceLabel(t){try{const r=this._getSenderByKind(t);return!r||!r.track?null:r.track.label}catch(r){return this.logger.error("RTCPeer getDeviceLabel error",t,r),null}}restartIceWithRelayOnly(){var t,r;try{if(this.isAnswer)return this.logger.warn("Skip restartIceWithRelayOnly since we need to generate answer");const n=this.getConfiguration();if(n.iceTransportPolicy==="relay")return this.logger.warn("RTCPeer already with iceTransportPolicy relay only");const i=Object.assign(Object.assign({},n),{iceTransportPolicy:"relay"});this.setConfiguration(i),this.restartIce()}catch(n){this.logger.error("restartIceWithRelayOnly",n),(t=this._rejectStartMethod)===null||t===void 0||t.call(this,n),(r=this._pendingNegotiationPromise)===null||r===void 0||r.reject(n)}}restartIce(){if(this._negotiating||this._restartingIce)return this.logger.warn("Skip restartIce");this._restartingIce=!0,this.logger.debug("Restart ICE"),this.type="offer",this.instance.restartIce()}triggerResume(){if(this.logger.info("Probably half-open so force close from client"),this._resumeTimer){this.logger.info('[skipped] Already in "resume" state');return}this.call.emit("media.disconnected"),this.call.emit("media.reconnecting"),this.clearTimers(),this._resumeTimer=setTimeout(()=>{this.logger.warn("Disconnecting due to RECONNECTION_ATTEMPT_TIMEOUT"),this.call.emit("media.disconnected"),this.call.leaveReason="RECONNECTION_ATTEMPT_TIMEOUT",this.call.setState("hangup")},Hse),this.call._closeWSConnection()}resetNeedResume(){this.clearResumeTimer(),this.options.watchMediaPackets&&this.startWatchMediaPackets()}stopWatchMediaPackets(){this._mediaWatcher&&this._mediaWatcher.stop()}startWatchMediaPackets(){var t;this.stopWatchMediaPackets(),this._mediaWatcher=zse(this),(t=this._mediaWatcher)===null||t===void 0||t.start()}async applyMediaConstraints(t,r){try{const n=this._getSenderByKind(t);if(!n||!n.track)return this.logger.info("No sender to apply constraints",t,r);if(n.track.readyState==="live"){const i=Object.assign(Object.assign({},n.track.getConstraints()),r),a=this.getDeviceId(t);a&&!this.options.screenShare&&(i.deviceId={exact:a}),this.logger.info(`Apply ${t} constraints`,this.call.id,i),await n.track.applyConstraints(i)}}catch{this.logger.error("Error applying constraints",t,r)}}_getSenderByKind(t){var r;return!((r=this.instance)===null||r===void 0)&&r.getSenders?this.instance.getSenders().find(({track:n})=>n&&n.kind===t):(this.logger.warn("RTCPeerConnection.getSenders() not available."),null)}_getReceiverByKind(t){var r;return!((r=this.instance)===null||r===void 0)&&r.getReceivers?this.instance.getReceivers().find(({track:n})=>n&&n.kind===t):(this.logger.warn("RTCPeerConnection.getReceivers() not available."),null)}async startNegotiation(t=!1){var r,n,i;if(this._negotiating)return this.logger.warn("Skip twice onnegotiationneeded!");this._negotiating=!0;try{if((this.options.additionalDevice||this.options.screenShare)&&((n=(r=this.instance)===null||r===void 0?void 0:r.getTransceivers)===null||n===void 0||n.call(r).forEach(a=>{a.direction="sendonly"})),this.instance.removeEventListener("icecandidate",this._onIce),this.instance.addEventListener("icecandidate",this._onIce),this.isOffer){this.logger.debug("Trying to generate offer");const a={voiceActivityDetection:!1};this._supportsAddTransceiver()||(a.offerToReceiveAudio=this.options.negotiateAudio,a.offerToReceiveVideo=this.options.negotiateVideo);const o=await this.instance.createOffer(a);await this._setLocalDescription(o)}if(this.isAnswer){this.logger.debug("Trying to generate answer"),await this._setRemoteDescription({sdp:this.options.remoteSdp,type:"offer"});const a=await this.instance.createAnswer({voiceActivityDetection:!1});await this._setLocalDescription(a)}t&&this.instance.signalingState==="have-local-offer"&&this._sdpReady(),this.logger.info("iceGatheringState",this.instance.iceGatheringState),this.instance.iceGatheringState==="gathering"&&(this._iceTimeout=setTimeout(()=>{this._onIceTimeout()},this.options.maxIceGatheringTimeout))}catch(a){this.logger.error(`Error creating ${this.type}:`,a),(i=this._pendingNegotiationPromise)===null||i===void 0||i.reject(a)}}onRemoteBye({code:t,message:r}){var n,i;const a={code:t,message:r};(n=this._rejectStartMethod)===null||n===void 0||n.call(this,a),(i=this._pendingNegotiationPromise)===null||i===void 0||i.reject(a),this.stop()}async onRemoteSdp(t){var r,n;if(this._processingRemoteSDP||this.remoteSdp&&this.remoteSdp===t){this.logger.warn("Ignore same remote SDP",t);return}try{const i=this.isOffer?"answer":"offer";if(i==="answer"&&this.instance.signalingState!=="have-local-offer"){this.logger.warn("Ignoring offer SDP as signaling state is not have-local-offer");return}this._processingRemoteSDP=!0,await this._setRemoteDescription({sdp:t,type:i}),this._processingRemoteSDP=!1,this.isOffer&&(this._resolveStartMethod(),(r=this._pendingNegotiationPromise)===null||r===void 0||r.resolve()),this.resetNeedResume()}catch(i){this._processingRemoteSDP=!1,this.logger.error(`Error handling remote SDP on call ${this.call.id}:`,i),this.call.hangup(),this._rejectStartMethod(i),(n=this._pendingNegotiationPromise)===null||n===void 0||n.reject(i)}}_setupRTCPeerConnection(){if(!this.instance){let t=null;try{t=Al.getConnection()}catch(r){this.logger.debug("Could not access session connection pool",r)}t?(this.logger.info("Using pre-warmed connection from session pool with ICE candidates ready"),this.instance=t):(this.logger.debug("Creating new RTCPeerConnection (no pooled connection available)"),this.instance=f3(this.config)),this._attachListeners()}}async start(){return new Promise(async(t,r)=>{var n,i,a;this._resolveStartMethod=t,this._rejectStartMethod=r;try{this._localStream=await this._retrieveLocalStream()}catch(s){return this._rejectStartMethod(s),(n=this._pendingNegotiationPromise)===null||n===void 0||n.reject(s),this.call.setState("hangup")}this._setupRTCPeerConnection();let o=!1;if(this._localStream&&Go(this._localStream)){const s=this._localStream.getAudioTracks();this.logger.debug("Local audio tracks: ",s);const l=this._localStream.getVideoTracks();if(this.logger.debug("Local video tracks: ",l),o=!!(s.length||l.length),this.isOffer&&this._supportsAddTransceiver()){const c={direction:this.options.negotiateAudio?"sendrecv":"sendonly",streams:[this._localStream]};this.logger.debug("Applying audioTransceiverParams",c);const u=this.instance.getTransceivers().filter(h=>{var v,p;return((v=h.receiver.track)===null||v===void 0?void 0:v.kind)==="audio"||!h.sender.track&&!h.receiver.track&&((p=h.mid)===null||p===void 0?void 0:p.includes("audio"))});s.forEach((h,v)=>{var p;if(v<u.length){const x=u[v];this.logger.debug("Reusing existing audio transceiver",x.mid),x.sender.replaceTrack(h),x.direction=c.direction||"sendrecv",!((p=c.streams)===null||p===void 0)&&p[0]&&(x.sender.streams=c.streams)}else this.logger.debug("Creating new audio transceiver"),this.instance.addTransceiver(h,c)});const d={direction:this.options.negotiateVideo?"sendrecv":"sendonly",streams:[this._localStream]};if(this.isSimulcast){const h=["0","1","2"];d.sendEncodings=h.map(v=>({active:!0,rid:v,scaleResolutionDownBy:Number(v)*6||1}))}this.logger.debug("Applying videoTransceiverParams",d);const f=this.instance.getTransceivers().filter(h=>{var v,p;return((v=h.receiver.track)===null||v===void 0?void 0:v.kind)==="video"||!h.sender.track&&!h.receiver.track&&((p=h.mid)===null||p===void 0?void 0:p.includes("video"))});if(l.forEach((h,v)=>{var p;if(v<f.length){const x=f[v];if(this.logger.debug("Reusing existing video transceiver",x.mid),x.sender.replaceTrack(h),x.direction=d.direction||"sendrecv",!((p=d.streams)===null||p===void 0)&&p[0]&&(x.sender.streams=d.streams),d.sendEncodings){const g=x.sender.getParameters();g.encodings=d.sendEncodings,x.sender.setParameters(g)}}else this.logger.debug("Creating new video transceiver"),this.instance.addTransceiver(h,d)}),this.isSfu){const{msStreamsNumber:h=5}=this.options;this.logger.debug("Add ",h,"recvonly MS Streams"),d.direction="recvonly";for(let v=0;v<Number(h);v++)this.instance.addTransceiver("video",d)}}else if(typeof this.instance.addTrack=="function"){const c=this._localStream;s.forEach(u=>this.instance.addTrack(u,c)),l.forEach(u=>this.instance.addTrack(u,c))}else this.instance.addStream(this._localStream)}if(this.isOffer){if(this.instance.signalingState==="have-local-offer"){this.logger.debug("Reusing pooled connection, managing transceivers");const s=((i=this._localStream)===null||i===void 0?void 0:i.getAudioTracks())||[],l=((a=this._localStream)===null||a===void 0?void 0:a.getVideoTracks())||[];this.instance.getTransceivers().forEach(u=>{var d,f,h,v;const p=((d=u.receiver.track)===null||d===void 0?void 0:d.kind)==="audio"||!u.sender.track&&!u.receiver.track&&((f=u.mid)===null||f===void 0?void 0:f.includes("audio")),x=((h=u.receiver.track)===null||h===void 0?void 0:h.kind)==="video"||!u.sender.track&&!u.receiver.track&&((v=u.mid)===null||v===void 0?void 0:v.includes("video"));p&&s.length===0&&(this.logger.debug("Setting unused audio transceiver to inactive",u.mid),u.direction="inactive"),x&&l.length===0&&(this.logger.debug("Setting unused video transceiver to inactive",u.mid),u.direction="inactive")})}this.options.negotiateAudio&&this._checkMediaToNegotiate("audio"),this.options.negotiateVideo&&this._checkMediaToNegotiate("video"),this.instance.signalingState==="have-local-offer"&&(this.logger.debug("Reusing pooled connection with local offer"),this.startNegotiation(!0)),!this._supportsAddTransceiver()&&!o&&this.startNegotiation()}else this.startNegotiation()})}detachAndStop(){var t;typeof((t=this.instance)===null||t===void 0?void 0:t.getTransceivers)=="function"&&this.instance.getTransceivers().forEach(r=>{r.sender.track&&r.sender.track.stop(),r.receiver.track&&r.receiver.track.stop()}),this.stop()}stop(){var t,r,n;(t=this._localStream)===null||t===void 0||t.getTracks().forEach(i=>i.stop()),(r=this._remoteStream)===null||r===void 0||r.getTracks().forEach(i=>i.stop()),(n=this.instance)===null||n===void 0||n.close(),this.stopWatchMediaPackets()}_supportsAddTransceiver(){return typeof this.instance.addTransceiver=="function"}_checkMediaToNegotiate(t){if(!this._getSenderByKind(t)&&this._supportsAddTransceiver()){const n=this.instance.getTransceivers().find(i=>{var a,o;return((a=i.receiver.track)===null||a===void 0?void 0:a.kind)===t||!i.sender.track&&!i.receiver.track&&((o=i.mid)===null||o===void 0?void 0:o.includes(t))});if(n)this.logger.debug("Found existing transceiver for",t,n.mid),(n.direction==="inactive"||n.direction==="sendonly")&&(n.direction="recvonly");else{const i=this.instance.addTransceiver(t,{direction:"recvonly"});this.logger.debug("Add transceiver",t,i)}}}async _sdpReady(){var t,r;if(this._processingLocalSDP){this.logger.debug("Already processing local SDP, skipping");return}if(this.type==="offer"&&!["have-local-offer","have-local-pranswer"].includes(this.instance.signalingState)){this.logger.warn(`_sdpReady called in wrong state: ${this.instance.signalingState}`);return}if(this._processingLocalSDP=!0,clearTimeout(this._iceTimeout),!this.instance.localDescription){this.logger.error("Missing localDescription",this.instance);return}const{sdp:n}=this.instance.localDescription;if(!Dse(n)){this.logger.info(`No candidate - retry 
`),this._processingLocalSDP=!1,this.startNegotiation(!0);return}if(!this._sdpIsValid()){this.logger.info("SDP ready but not valid"),this._processingLocalSDP=!1,this._onIceTimeout();return}try{await this.call.onLocalSDPReady(this),this._processingLocalSDP=!1,this.isAnswer&&(this._resolveStartMethod(),(t=this._pendingNegotiationPromise)===null||t===void 0||t.resolve())}catch(i){this._rejectStartMethod(i),(r=this._pendingNegotiationPromise)===null||r===void 0||r.reject(i),this._processingLocalSDP=!1}}_sdpIsValid(){return this.localSdp&&this.hasIceServers?SC(this.localSdp):!!this.localSdp}_forceNegotiation(){this.logger.info("Force negotiation again"),this._negotiating=!1,this.startNegotiation()}_onIceTimeout(){var t;if(this._sdpIsValid()){this._sdpReady();return}this.logger.info("ICE gathering timeout");const r=this.getConfiguration();if(r.iceTransportPolicy==="relay"){this.logger.info('RTCPeer already with "iceTransportPolicy: relay"');const n={code:"ICE_GATHERING_FAILED",message:"Ice gathering timeout"};this._rejectStartMethod(n),(t=this._pendingNegotiationPromise)===null||t===void 0||t.reject(n),this.call.setState("destroy");return}this.setConfiguration(Object.assign(Object.assign({},r),{iceTransportPolicy:"relay"})),this._forceNegotiation()}_onIce(t){var r,n;if(this._iceTimeout&&clearTimeout(this._iceTimeout),!t.candidate){this.instance.removeEventListener("icecandidate",this._onIce),this._candidatesSnapshot.length>0&&(this.logger.debug("No more candidates, calling _sdpReady"),this._sdpReady());return}this._allCandidates.push(t.candidate),this.logger.debug("RTCPeer Candidate:",t.candidate),t.candidate.type==="host"?this._iceTimeout=setTimeout(()=>{this.instance.removeEventListener("icecandidate",this._onIce),this._onIceTimeout()},this.options.maxIceGatheringTimeout):!((r=this.instance.localDescription)===null||r===void 0)&&r.sdp&&(SC(this.instance.localDescription.sdp)?this._candidatesSnapshot.length===0&&this.type==="offer"&&(this._candidatesSnapshot=[...this._allCandidates],this.logger.info("SDP has candidates for all media sections, calling _sdpReady for early invite"),setTimeout(()=>this._sdpReady(),0)):(this.logger.info("SDP does not have candidates for all media sections, waiting for more candidates"),this.logger.debug((n=this.instance.localDescription)===null||n===void 0?void 0:n.sdp)))}_retryWithMoreCandidates(){this._hasMoreCandidates()&&this.instance.connectionState!=="connected"&&(this.logger.info("More candidates found after ICE gathering complete, triggering renegotiation"),this._negotiating=!1,this._candidatesSnapshot=[],this._allCandidates=[],this.type="offer",this.instance.signalingState==="stable"?this.startNegotiation(!0):(this.logger.warn("Signaling state is not stable, cannot start negotiation immediately"),this.restartIce()))}_hasMoreCandidates(){return this._allCandidates.length>this._candidatesSnapshot.length}_setLocalDescription(t){const{useStereo:r,googleMaxBitrate:n,googleMinBitrate:i,googleStartBitrate:a}=this.options;return t.sdp&&r&&(t.sdp=_C(t.sdp)),t.sdp&&n&&i&&a&&(t.sdp=Rse(t.sdp,n,i,a)),this.instance.setLocalDescription(t)}_setRemoteDescription(t){t.sdp&&this.options.useStereo&&(t.sdp=_C(t.sdp)),t.sdp&&this.instance.localDescription&&(t.sdp=Nse(t.sdp,this.instance.localDescription.sdp));const r=sse(t);return this.logger.debug(`REMOTE SDP 
`,`Type: ${t.type}`,`

`,t.sdp),this.instance.setRemoteDescription(r)}async _retrieveLocalStream(){if(Go(this.options.localStream))return this.options.localStream;const t=await yC(this.options);return gC(t)}_attachListeners(){this.instance.addEventListener("signalingstatechange",()=>{switch(this.logger.debug("signalingState:",this.instance.signalingState),this.instance.signalingState){case"stable":this._negotiating=!1,this._restartingIce=!1,this.resetNeedResume(),this.instance.connectionState==="connected"&&this.emitMediaConnected();break;case"have-local-offer":{this.instance.iceGatheringState==="complete"&&(this.instance.removeEventListener("icecandidate",this._onIce),this._sdpReady());break}case"closed":delete this.instance;break;default:this._negotiating=!0}}),this.instance.addEventListener("connectionstatechange",()=>{switch(this.logger.debug("connectionState:",this.instance.connectionState),this.instance.connectionState){case"connecting":this._connectionStateTimer=setTimeout(()=>{this.logger.warn("connectionState timed out"),this._hasMoreCandidates()?this._retryWithMoreCandidates():this.restartIceWithRelayOnly()},this.options.maxConnectionStateTimeout);break;case"connected":this.clearConnectionStateTimer(),this.emitMediaConnected();break;case"disconnected":this.logger.debug("[test] Prevent reattach!");break;case"failed":{this.triggerResume();break}}}),this.instance.addEventListener("negotiationneeded",()=>{this.logger.debug("Negotiation needed event"),this.startNegotiation()}),this.instance.addEventListener("iceconnectionstatechange",()=>{this.logger.debug("iceConnectionState:",this.instance.iceConnectionState)}),this.instance.addEventListener("icegatheringstatechange",()=>{this.logger.debug("iceGatheringState:",this.instance.iceGatheringState),this.instance.iceGatheringState==="complete"&&(this.logger.debug("ICE gathering complete"),this._sdpReady())}),this.instance.addEventListener("track",t=>{this.call.emit("track",t),this.isSfu,this._remoteStream=t.streams[0]}),this.instance.addEventListener("addstream",t=>{t.stream&&(this._remoteStream=t.stream)}),this._attachAudioTrackListener(),this._attachVideoTrackListener()}clearTimers(){this.clearResumeTimer(),this.clearWatchMediaPacketsTimer(),this.clearConnectionStateTimer()}clearConnectionStateTimer(){clearTimeout(this._connectionStateTimer)}clearWatchMediaPacketsTimer(){clearTimeout(this._watchMediaPacketsTimer)}clearResumeTimer(){clearTimeout(this._resumeTimer),this._resumeTimer=void 0}emitMediaConnected(){this.call.emit("media.connected")}_onEndedTrackHandler(t){const r=t.target,n=r.kind==="audio"?"microphone":"camera";this.call.emit(`${n}.disconnected`,{deviceId:r.id,label:r.label})}_attachAudioTrackListener(){var t;(t=this.localStream)===null||t===void 0||t.getAudioTracks().forEach(r=>{r.addEventListener("ended",this._onEndedTrackHandler)})}_attachVideoTrackListener(){var t;(t=this.localStream)===null||t===void 0||t.getVideoTracks().forEach(r=>{r.addEventListener("ended",this._onEndedTrackHandler)})}_detachAudioTrackListener(){var t;(t=this.localStream)===null||t===void 0||t.getAudioTracks().forEach(r=>{r.removeEventListener("ended",this._onEndedTrackHandler)})}_detachVideoTrackListener(){var t;(t=this.localStream)===null||t===void 0||t.getVideoTracks().forEach(r=>{r.removeEventListener("ended",this._onEndedTrackHandler)})}setConfiguration(t){var r;this.rtcConfigPolyfill=t,this.instance&&typeof((r=this.instance)===null||r===void 0?void 0:r.setConfiguration)=="function"&&this.instance.setConfiguration(t)}getConfiguration(){var t;return this.instance&&typeof((t=this.instance)===null||t===void 0?void 0:t.getConfiguration)=="function"?this.instance.getConfiguration():this.rtcConfigPolyfill||this.config}}function qse(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}const Kse=e=>V_(e.type),Yse=function*(e){U().debug("vertoEventWorker started");const{channels:t,instance:r,initialState:n}=e,{swEventChannel:i}=t,{rtcPeerId:a}=n;if(!a)throw new Error("Missing rtcPeerId for roomSubscribedWorker");const o=function*(l){var c,u;const{id:d,method:f,params:h={}}=l.payload,{callID:v,nodeId:p}=h,x=r.getRTCPeerById(v);if(!x){U().warn(`RTCPeer '${v}' not found for method: '${f}'`,h);return}const g=r.peer;switch(f){case"verto.media":case"verto.answer":{if(x.uuid===(g==null?void 0:g.uuid)){const b=f==="verto.media"?"early":"active";r.setState(b)}h!=null&&h.sdp&&x.onRemoteSdp(h.sdp),yield bt(RI.upsert({id:(c=l.payload.params)===null||c===void 0?void 0:c.callID,nodeId:(u=l.payload.params)===null||u===void 0?void 0:u.nodeId})),yield tt([r,r.execute],{method:r._getRPCMethod(),params:{message:fC(d,f),node_id:p}});break}case"verto.bye":{yield tt([r,r.onVertoBye],{rtcPeerId:v,byeCause:h==null?void 0:h.cause,byeCauseCode:h==null?void 0:h.causeCode,redirectDestination:h==null?void 0:h.redirectDestination}),yield tt([r,r.execute],{method:r._getRPCMethod(),params:{message:fC(d,f),node_id:p}});break}case"verto.ping":{const{nodeId:b}=h,_=qse(h,["nodeId"]);yield tt([r,r.execute],{method:r._getRPCMethod(),params:{message:lae(_),node_id:b}});break}case"verto.mediaParams":{if(!v||!h.mediaParams){U().warn("Invalid mediaParams event",h);break}const{audio:b,video:_}=h.mediaParams;x&&_&&x.applyMediaConstraints("video",_),x&&b&&x.applyMediaConstraints("audio",b);break}case"verto.display":{r.setActiveRTCPeer(a),r.emit("verto.display",l.payload.params);break}default:return U().warn(`Unknown Verto method: ${f}`,h)}},s=DI.createCatchableSaga(o,l=>{U().error("Verto Error",l)});try{for(;;){const l=yield ye(i,c=>{var u;return U().debug(`vertoEventWorker for: ${a} checking action...`),Kse(c)?((u=c.payload.params)===null||u===void 0?void 0:u.callID)===a:!1});yield te(s,l)}}finally{U().debug(`vertoEventWorker for ${a} [cancelled]`)}},Gse=function*(e){var t;U().debug("roomSubscribedWorker started");const{channels:r,instance:n,initialState:i}=e,{swEventChannel:a}=r,{rtcPeerId:o}=i;if(!o)throw new Error("Missing rtcPeerId for roomSubscribedWorker");try{const s=yield ye(a,u=>u.type==="video.room.subscribed"||u.type==="call.joined"?u.payload.call_id===o:!1),l=JSON.parse(JSON.stringify(s.payload));n.setActiveRTCPeer(o);const c=s.payload.room_session.id||s.payload.room_session.room_session_id;yield bt(RI.upsert({id:s.payload.call_id,roomId:(t=s.payload.room_session)===null||t===void 0?void 0:t.room_id,roomSessionId:c,memberId:s.payload.member_id,previewUrl:s.payload.room_session.preview_url})),n.emit("room.subscribed",s.payload),n.emit("room.joined",Fse.call(n,l)),U().debug("roomSubscribedWorker ended",o)}finally{U().debug(`roomSubscribedWorker for ${o} [cancelled]`)}};function Fse(e){return["room_session","room"].forEach(r=>{e[r]&&e[r].recordings&&(e[r].recordings=(e[r].recordings||[]).map(n=>{let i=this.instanceMap.get(n.id);return i?i.setPayload({room_id:e.room.room_id,room_session_id:e.room_session.id,recording:n}):i=jd.createRoomSessionRecordingObject({store:this.store,payload:{room_id:e.room.room_id,room_session_id:e.room_session.id,recording:n}}),this.instanceMap.set(n.id,i),i})),e[r]&&e[r].playbacks&&(e[r].playbacks=(e[r].playbacks||[]).map(n=>{let i=this.instanceMap.get(n.id);return i?i.setPayload({room_id:e.room.room_id,room_session_id:e.room_session.id,playback:n}):i=jd.createRoomSessionPlaybackObject({store:this.store,payload:{room_id:e.room.room_id,room_session_id:e.room_session.id,playback:n}}),this.instanceMap.set(n.id,i),i})),e[r]&&e[r].streams&&(e[r].streams=(e[r].streams||[]).map(n=>{let i=this.instanceMap.get(n.id);return i?i.setPayload({room_id:e.room.room_id,room_session_id:e.room_session.id,stream:n}):i=jd.createRoomSessionStreamObject({store:this.store,payload:{room_id:e.room.room_id,room_session_id:e.room_session.id,stream:n}}),this.instanceMap.set(n.id,i),i}))}),e}const Xse=function*(e){U().debug("promoteDemoteWorker started");const{channels:t,instance:r,initialState:n}=e,{swEventChannel:i}=t,{rtcPeerId:a}=n;if(!a)throw new Error("Missing rtcPeerId for promoteDemoteWorker");try{const o=yield ye(i,u=>u.type==="video.member.promoted"||u.type==="video.member.demoted"?u.payload.member_id===r.memberId:!1);U().debug("promoteDemoteWorker:",o.type,o.payload),yield bt(wu.updateAuthorization(o.payload.authorization));const s=yield tD(Hy.getAuthorization);if(!s)throw new Error(`Invalid authorization for '${o.type}'`);const{audio_allowed:l,video_allowed:c}=s;switch(o.type){case"video.member.promoted":r.updateMediaOptions({audio:l==="both",video:c==="both",negotiateAudio:l!=="none",negotiateVideo:c!=="none"});break;case"video.member.demoted":r.updateMediaOptions({audio:!1,video:!1,negotiateAudio:l!=="none",negotiateVideo:c!=="none"});break}r._triggerNewRTCPeer(),U().debug("promoteDemoteWorker ended",a)}finally{U().debug(`promoteDemoteWorker for ${a} [cancelled]`)}},Qse=function*(e){U().debug("sessionAuthWorker started");const{instance:t}=e;switch((yield ye([yn.authSuccessAction.type,yn.authErrorAction.type])).type){case yn.authSuccessAction.type:yield tt([t,t.resume]);break;case yn.authErrorAction.type:yield tt([t,t.setState],"hangup");break}U().debug("sessionAuthWorker ended")},Zse=function*(e){var t;const r=U();r.debug("sessionConnectionPoolWorker started");const n=e.initialState||{};try{r.debug("Waiting for session/connected action");const a=((t=(yield ye("session/connected")).payload)===null||t===void 0?void 0:t.ice_servers)||[];if(!a||a.length===0){r.warn("No ICE servers available, cannot initialize connection pool");return}r.info("Session authorized, initializing connection pool"),yield tt([Al,Al.initializePool],a,n),r.info("Connection pool initialized successfully"),yield ye(yn.sessionDisconnectedAction.type),r.info("Session disconnected, cleaning up connection pool"),yield tt([Al,Al.cleanup])}catch(i){r.error("Error in sessionConnectionPoolWorker",i)}finally{r.debug("sessionConnectionPoolWorker ended")}},Jse=1e3,lS={echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},ele=Object.assign(Object.assign({},lS),{noiseSuppression:!1,autoGainControl:!1,googAutoGainControl:!1}),_3={width:{ideal:1280,min:320},height:{ideal:720,min:180},aspectRatio:{ideal:16/9}},tle={destinationNumber:"room",remoteCallerName:"Outbound Call",remoteCallerNumber:"",callerName:"",callerNumber:"",audio:lS,video:_3,useStereo:!1,attach:!1,screenShare:!1,additionalDevice:!1,userVariables:{},requestTimeout:10*1e3,autoApplyMediaParams:!0,iceGatheringTimeout:2*1e3,maxIceGatheringTimeout:5*1e3,maxConnectionStateTimeout:3*1e3,watchMediaPackets:!0,watchMediaPacketsTimeout:2*1e3};class cS extends Eu{constructor(t){super(t),this.leaveReason=void 0,this.gotEarly=!1,this.state="new",this.prevState="new",this.rtcPeerMap=new Map,this.resuming=!1,this._myWorkers=[],this.onVertoBye=r=>{this.logger.debug("onVertoBye",r);const{rtcPeerId:n,byeCause:i="NORMAL_CLEARING",byeCauseCode:a="16",redirectDestination:o}=r;this.cause=String(i),this.causeCode=String(a);const s=this.getRTCPeerById(n);if(!s)return this.logger.warn("Invalid RTCPeer to hangup",r);if(o&&s.localSdp){this.logger.debug("Redirect Destination to:",o,"for RTCPeer:",s.uuid),this.executeInvite(s.localSdp,s.uuid,o);return}s.onRemoteBye({code:this.causeCode,message:this.cause}),this.activeRTCPeerId===(s==null?void 0:s.uuid)&&(this.logger.debug("onVertoBye go hangup"),this.setState("hangup"))},this.options=Object.assign(Object.assign({},tle),t),this._checkDefaultMediaConstraints(),this.setState("new"),this.logger.trace("New Call with Options:",this.options),this._initPeer()}get id(){return this.__uuid}get active(){return this.state==="active"}get requesting(){return this.state==="requesting"}get trying(){return this.state==="trying"}get memberId(){return this.component.memberId}get previewUrl(){return this.component.previewUrl}get roomId(){return this.component.roomId}get roomSessionId(){return this.component.roomSessionId}get nodeId(){return this.component.nodeId||this.options.nodeId}get callId(){var t;return((t=this.peer)===null||t===void 0?void 0:t.uuid)||""}get localStream(){var t;return(t=this.peer)===null||t===void 0?void 0:t.localStream}set localStream(t){this.peer&&(this.peer.localStream=t)}get remoteStream(){var t;return(t=this.peer)===null||t===void 0?void 0:t.remoteStream}get iceServers(){var t,r;return(r=(t=this.options)===null||t===void 0?void 0:t.iceServers)!==null&&r!==void 0?r:this.select(Hy.getIceServers)}get component(){return this.select(t=>VI.getComponent(t,this.callId))||{}}get cameraId(){return this.peer?this.peer.getDeviceId("video"):null}get cameraLabel(){return this.peer?this.peer.getDeviceLabel("video"):null}get cameraConstraints(){return this.peer?this.peer.getTrackConstraints("video"):null}get microphoneId(){return this.peer?this.peer.getDeviceId("audio"):null}get microphoneLabel(){return this.peer?this.peer.getDeviceLabel("audio"):null}get microphoneConstraints(){return this.peer?this.peer.getTrackConstraints("audio"):null}get withAudio(){var t;return!!(!((t=this.peer)===null||t===void 0)&&t.hasAudioReceiver)}get withVideo(){var t;return!!(!((t=this.peer)===null||t===void 0)&&t.hasVideoReceiver)}get localAudioTrack(){return this.peer?this.peer.localAudioTrack:null}get localVideoTrack(){return this.peer?this.peer.localVideoTrack:null}get peer(){return this.getRTCPeerById(this.activeRTCPeerId)}set peer(t){if(!t){this.logger.warn("Invalid RTCPeer",t);return}if(this.logger.debug("Set RTCPeer",t.uuid,t),this.rtcPeerMap.set(t.uuid,t),this.peer&&this.peer.instance&&this.callId!==t.uuid){const r=this.peer.uuid;this.logger.debug(">>> Stop old RTCPeer",r),this.hangup(r).catch(console.error),this.peer.detachAndStop()}this.logger.debug(">>> Replace RTCPeer with",t.uuid),this.activeRTCPeerId=t.uuid}emit(t,...r){return super.emit(t,...r)}dialogParams(t){const{destinationNumber:r,attach:n,callerName:i,callerNumber:a,remoteCallerName:o,remoteCallerNumber:s,userVariables:l,screenShare:c,additionalDevice:u,fromFabricAddressId:d,pingSupported:f=!0}=this.options;return{dialogParams:{id:t,destinationNumber:r,attach:n,reattaching:n,callerName:i,callerNumber:a,remoteCallerName:o,remoteCallerNumber:s,userVariables:l,screenShare:c,additionalDevice:u,fromFabricAddressId:d,pingSupported:f,version:Jse}}}getRTCPeerById(t){return this.rtcPeerMap.get(t)}appendRTCPeer(t){return this.rtcPeerMap.set(t.uuid,t)}removeRTCPeer(t){return this.rtcPeerMap.delete(t)}setActiveRTCPeer(t){this.peer=this.getRTCPeerById(t)}setLocalStream(t){return new Promise(async(r,n)=>{try{if(!this.peer||!this.localStream)return n(new Error("Invalid RTCPeerConnection."));if(!Go(t))return n(new Error("Invalid stream provided."));const i=this.localStream.getAudioTracks(),a=t.getAudioTracks();a.length<=0?this.logger.info("No audio track found in the stream provided. Audio will be unaffected."):(i.forEach(l=>{var c;Qi(l),(c=this.localStream)===null||c===void 0||c.removeTrack(l)}),a.forEach(l=>{var c;(c=this.localStream)===null||c===void 0||c.addTrack(l)}));const o=this.localStream.getVideoTracks(),s=t.getVideoTracks();s.length<=0?this.logger.info("No video track found in the stream provided. Video will be unaffected."):(o.forEach(l=>{var c;Qi(l),(c=this.localStream)===null||c===void 0||c.removeTrack(l)}),s.forEach(l=>{var c;(c=this.localStream)===null||c===void 0||c.addTrack(l)})),await this.updateStream(this.localStream),this.logger.debug("setLocalStream done"),r(this.localStream)}catch(i){this.logger.error("setLocalStream",i),n(i)}})}vertoExecute(t){return this.execute({method:this._getRPCMethod(),params:t})}_getRPCMethod(){const t=this.select(Hy.getAuthorization);return t&&Zie(t)?"webrtc.verto":"video.message"}async _triggerNewRTCPeer(){this.logger.debug("_triggerNewRTCPeer Start");try{this.logger.debug("Build a new RTCPeer");const t=this._buildPeer("offer");this.logger.debug("Trigger start for the new RTCPeer!"),await t.start()}catch(t){this.logger.error("Error building new RTCPeer to promote/demote",t)}}updateCamera(t){return this.applyConstraintsAndRefreshStream({video:Object.assign({aspectRatio:16/9},t)})}updateMicrophone(t){return this.applyConstraintsAndRefreshStream({audio:t})}_getTransceiverDirection(t){let r="inactive";return t==="audio"&&(this.options.audio&&this.options.negotiateAudio?r="sendrecv":this.options.audio&&!this.options.negotiateAudio?r="sendonly":!this.options.audio&&this.options.negotiateAudio?r="recvonly":r="inactive"),t==="video"&&(this.options.video&&this.options.negotiateVideo?r="sendrecv":this.options.video&&!this.options.negotiateVideo?r="sendonly":!this.options.video&&this.options.negotiateVideo?r="recvonly":r="inactive"),r}manageSendersWithConstraints(t){return t.audio===!1&&(this.logger.info("Switching off the microphone"),this.stopOutboundAudio()),t.video===!1&&(this.logger.info("Switching off the camera"),this.stopOutboundVideo()),t.audio||t.video}updateConstraints(t,{attempt:r=0}={}){return r>1?Promise.reject(new Error("Failed to update constraints")):new Promise(async(n,i)=>{var a;try{if(!this.peer)return i(new Error("Invalid RTCPeerConnection."));if(!Object.keys(t).length)return i(new Error("Invalid audio/video constraints."));if(this.logger.debug("updateConstraints trying constraints",this.__uuid,t),!this.manageSendersWithConstraints(t))return this.logger.debug("Either `video` and `audio` (or both) constraints were set to `false` so their corresponding senders (if any) were stopped"),n();let s={};(a=this.localStream)===null||a===void 0||a.getTracks().forEach(c=>{var u;s[c.kind]=c.getConstraints(),t[c.kind]!==void 0&&(this.logger.debug("updateConstraints stop old tracks first?"),this.logger.debug("Track readyState:",c.kind,c.readyState),Qi(c),c.stop(),(u=this.localStream)===null||u===void 0||u.removeTrack(c))});let l;try{this.logger.info("updateConstraints with",t),l=await el(t)}catch(c){return this.logger.error("Error updating device constraints:",c.name,c.message,c),this.logger.info("Restoring previous constraints",s),await this.updateConstraints(s,{attempt:r+1}),i(c)}this.logger.debug("updateConstraints done"),n(l)}catch(o){this.logger.error("updateConstraints",o),i(o)}})}async updateStream(t){try{if(!this.peer)throw new Error("Invalid RTCPeerConnection.");const r=this.localVideoTrack,n=this.localAudioTrack;this.logger.debug("updateStream got stream",t),this.localStream||(this.localStream=new MediaStream);const i=t.getTracks();this.logger.debug(`updateStream got ${i.length} tracks`);for(const a of i)this.logger.debug("updateStream apply track: ",a),await this.handleTransceiverForTrack(a),this.emitDeviceUpdatedEvents({newTrack:a,prevAudioTrack:n,prevVideoTrack:r});this.logger.debug("updateStream done")}catch(r){throw this.logger.error("updateStream error",r),r}}async handleTransceiverForTrack(t){var r,n;if(!this.peer)return this.logger.error("Invalid RTCPeerConnection");const i=this.peer.instance.getTransceivers().find(({mid:a,sender:o,receiver:s})=>o.track&&o.track.kind===t.kind?(this.logger.debug("Found transceiver by sender"),!0):s.track&&s.track.kind===t.kind?(this.logger.debug("Found transceiver by receiver"),!0):a===null?(this.logger.debug("Found disassociated transceiver"),!0):!1);if(i){this.logger.debug("handleTransceiverForTrack got transceiver",i.currentDirection,i.mid),((r=i.sender.track)===null||r===void 0?void 0:r.id)!==t.id&&(await i.sender.replaceTrack(t),this.logger.debug(`handleTransceiverForTrack replaceTrack for ${t.kind}`));const a=this._getTransceiverDirection(t.kind);i.direction!==a&&(i.direction=a,this.logger.debug(`handleTransceiverForTrack set direction to ${a}`)),this.replaceOldTrack(t)}else{this.logger.debug("handleTransceiverForTrack no transceiver found; addTransceiver and start dancing!");const a=this._getTransceiverDirection(t.kind);this.peer.type="offer",(n=this.localStream)===null||n===void 0||n.addTrack(t),this.peer.instance.addTransceiver(t,{direction:a,streams:[this.localStream]})}}replaceOldTrack(t){if(!this.peer||!this.localStream)return this.logger.error("Invalid RTCPeerConnection");this.peer._detachAudioTrackListener(),this.peer._detachVideoTrackListener(),this.localStream.getTracks().forEach(r=>{var n;r.kind===t.kind&&r.id!==t.id&&(this.logger.debug("replaceOldTrack stop old track and apply new one"),Qi(r),(n=this.localStream)===null||n===void 0||n.removeTrack(r))}),this.localStream.addTrack(t),t.kind==="audio"&&(this.options.micId=t.getSettings().deviceId),t.kind==="video"&&(this.options.camId=t.getSettings().deviceId),this.peer._attachAudioTrackListener(),this.peer._attachVideoTrackListener()}emitDeviceUpdatedEvents({newTrack:t,prevAudioTrack:r,prevVideoTrack:n}){t.kind==="audio"?this.emit("microphone.updated",{previous:{deviceId:r==null?void 0:r.id,label:r==null?void 0:r.label},current:{deviceId:t.id,label:t.label}}):t.kind==="video"&&this.emit("camera.updated",{previous:{deviceId:n==null?void 0:n.id,label:n==null?void 0:n.label},current:{deviceId:t.id,label:t.label}})}async applyConstraintsAndRefreshStream(t){const r=await this.updateConstraints(t);r&&await this.updateStream(r)}runRTCPeerWorkers(t){const r=this.runWorker("vertoEventWorker",{worker:Yse,initialState:{rtcPeerId:t}});if(this._myWorkers.push(r),!(this.options.additionalDevice||this.options.screenShare)){const i=this.runWorker("roomSubscribedWorker",{worker:Gse,initialState:{rtcPeerId:t}});this._myWorkers.push(i);const a=this.runWorker("promoteDemoteWorker",{worker:Xse,initialState:{rtcPeerId:t}});this._myWorkers.push(a)}}removeRTCWorkers(){for(const t of this._myWorkers)this.cancelWorker(t);this._myWorkers=[]}_destroyPeer(){this.peer&&(this.peer.detachAndStop(),this.removeRTCWorkers(),this.removeRTCPeer(this.peer.uuid),this.peer=void 0)}invite(){return Bie({asyncCallable:async()=>new Promise(async(t,r)=>{await this._waitUntilSessionAuthorized(),this.direction="outbound",this.peer=this._buildPeer("offer");try{await this.peer.start(),t(this)}catch(n){this.logger.error("Invite error",n),this._destroyPeer(),r(n)}}),maxRetries:5,delayFn:Uie({initialDelay:0}),expectedErrorHandler:t=>this.requesting&&[bI,xI].includes(t)?(this.logger.debug("Retrying verto.invite with new RTCPeer"),!1):!0})}answer(){return new Promise(async(t,r)=>{this.direction="inbound",this.peer||(this.peer=this._buildPeer("answer"));try{await this.peer.start(),t(this)}catch(n){this.logger.error("Answer error",n),r(n)}})}async onLocalSDPReady(t){if(!t.instance.localDescription)throw this.logger.error("Missing localDescription",t),new Error("Invalid RTCPeerConnection localDescription");const{type:r,sdp:n}=t.instance.localDescription,i=this._mungeSDP(n);switch(this.logger.debug(`LOCAL SDP 
`,`Type: ${r}`,`

`,i),r){case"offer":return this._watchSessionAuth(),!this.resuming&&t.instance.remoteDescription?this.executeUpdateMedia(i,t.uuid):this.executeInvite(i,t.uuid);case"answer":return this.executeAnswer(i,t.uuid);default:return this.logger.error(`Unknown SDP type: '${r}' on call ${this.id}`)}}_closeWSConnection(){this._watchSessionAuth(),this.store.dispatch(yn.sessionForceCloseAction())}_watchSessionAuth(){this.sessionAuthTask&&this.sessionAuthTask.cancel(),this.sessionAuthTask=this.runWorker("sessionAuthWorker",{worker:Qse})}async resume(){var t;if(this.logger.warn(`[resume] Call ${this.id}`),!((t=this.peer)===null||t===void 0)&&t.instance){const{connectionState:r}=this.peer.instance;this.logger.debug(`[resume] connectionState for ${this.id} is '${r}'`),r!=="closed"&&(this.resuming=!0,this.peer.restartIce())}}async executeInvite(t,r,n){const i=this.getRTCPeerById(r);if(!i||i.instance.remoteDescription&&!this.resuming)throw new Error(`RTCPeer '${r}' already has a remoteDescription. Invalid invite.`);this.state==="new"&&this.setState("requesting");try{const a=this.options.screenShare?{layout:this.options.layout,positions:this.options.positions}:{},o=aae(Object.assign(Object.assign(Object.assign({},this.dialogParams(r)),a),{sdp:t}));let s=[];this.options.screenShare?s=["video.room.screenshare"]:this.options.additionalDevice?s=["video.room.additionaldevice"]:s=this.getSubscriptions(),this.logger.debug("Subscribing to",s);const l=await this.vertoExecute({message:o,callID:r,node_id:n??this.options.nodeId,subscribe:s});this.state==="requesting"&&this.setState("trying"),this.logger.debug("Invite response",l),this.resuming=!1}catch(a){throw this.setState("hangup"),a}}async executeAnswer(t,r,n){this.state==="new"&&this.setState("answering");try{const i=sae(Object.assign(Object.assign({},this.dialogParams(r)),{sdp:t})),a=await this.vertoExecute({message:i,callID:r,node_id:n??this.options.nodeId,subscribe:this.getSubscriptions()});this.logger.debug("Answer response",a),this.resuming=!1,this.setActiveRTCPeer(r)}catch(i){throw this.setState("hangup"),i}}async executeUpdateMedia(t,r){var n,i;try{const a=Cp(Object.assign(Object.assign({},this.dialogParams(r)),{sdp:t,action:"updateMedia"})),o=await this.vertoExecute({message:a,callID:r,node_id:this.nodeId});if(this.logger.debug("UpdateMedia response",o),!this.peer)return this.logger.error("Invalid RTCPeer to updateMedia");if(!o.sdp)return this.logger.error("UpdateMedia invalid SDP answer",o);await this.peer.onRemoteSdp(o.sdp)}catch(a){throw this.logger.error("UpdateMedia error",a),(i=(n=this.peer)===null||n===void 0?void 0:n._pendingNegotiationPromise)===null||i===void 0||i.reject(a),a}}async hangup(t){const r=t??this.callId;if(!r)throw new Error("Invalid RTCPeer ID to hangup");try{const n=dC(this.dialogParams(r));await this.vertoExecute({message:n,callID:r,node_id:this.nodeId})}catch(n){this.logger.error("Hangup error:",n)}finally{if(r!==this.callId)return this.logger.warn("Prevent setState hangup",r,this.callId);this.setState("hangup")}}async hangupAll(){const t=this.callId;if(!t)throw new Error("Invalid RTCPeer ID to hangup");try{const r=dC(Object.assign({cause:"REJECT_ALL",causeCode:"825"},this.dialogParams(t)));await this.vertoExecute({message:r,callID:t,node_id:this.nodeId})}catch(r){this.logger.error("HangupAll error:",r)}finally{this.setState("hangup")}}async sendDigits(t){const r=this.callId;if(!r)throw new Error("Invalid RTCPeer ID to send DTMF");const n=oae(Object.assign(Object.assign({},this.dialogParams(r)),{dtmf:t}));await this.vertoExecute({message:n,callID:r,node_id:this.nodeId})}doReinviteWithRelayOnly(){this.peer&&this.active&&this.peer.restartIceWithRelayOnly()}stopOutboundAudio(){this.peer&&this.active&&this.peer.stopTrackSender("audio")}restoreOutboundAudio(){this.peer&&this.active&&this.peer.restoreTrackSender("audio")}stopOutboundVideo(){this.peer&&this.active&&this.peer.stopTrackSender("video")}restoreOutboundVideo(){this.peer&&this.active&&this.peer.restoreTrackSender("video")}setState(t){switch(this.prevState=this.state,this.state=t,this.logger.trace(`Call ${this.id} state change from ${this.prevState} to ${this.state}`),this.emit(this.state,this),t){case"purge":{this._finalize();break}case"hangup":{this.setState("destroy");break}case"destroy":this._finalize();break}}updateMediaOptions(t){this.logger.debug("updateMediaOptions",Object.assign({},t)),this.options=Object.assign(Object.assign({},this.options),t),this._checkDefaultMediaConstraints()}_mungeSDP(t){return Ise(t)}_checkDefaultMediaConstraints(){this.options.video===!0&&(this.options.video=_3),this.options.audio===!0&&(this.options.audio=this.options.screenShare?ele:lS)}_initPeer(){this.options.remoteSdp&&(this.peer=this._buildPeer("answer"))}_buildPeer(t){const r=new Wse(this,t);return this.appendRTCPeer(r),this.runRTCPeerWorkers(r.uuid),r}_finalize(){this.rtcPeerMap.forEach(t=>{t.stop()}),this.rtcPeerMap.clear()}_upsertTransceiverByKind(t,r){if(!this.peer)return this.logger.error("Invalid RTCPeerConnection");let n=this.peer.instance.getTransceivers().find(i=>{var a,o;return((a=i.sender.track)===null||a===void 0?void 0:a.kind)===r||((o=i.receiver.track)===null||o===void 0?void 0:o.kind)===r});if(n){if(n.direction===t){this.logger.info(`Transceiver ${r} has the same direction "${t}".`);return}n.direction=t,this.logger.info(`Updated ${r} transceiver to "${t}" mode.`)}else t!=="inactive"&&(this.peer.type="offer",n=this.peer.instance.addTransceiver(r,{direction:t}),this.logger.info(`Added ${r} transceiver in "${t}" mode.`));t==="stopped"||t==="inactive"?(this.peer.stopTrackReceiver(r),this.peer.stopTrackSender(r)):t==="sendonly"?this.peer.stopTrackReceiver(r):t==="recvonly"&&this.peer.stopTrackSender(r)}async updateMedia(t){var r,n,i,a,o,s;try{const{audio:l,video:c}=t;if(!this.peer)throw new Error("Invalid RTCPeerConnection");if(this.peer.isNegotiating)throw new Error("The peer is already negotiating the media!");const u=this.peer,d=new Promise((x,g)=>{u._pendingNegotiationPromise={resolve:x,reject:g}}),f=["sendonly","sendrecv"].includes((l==null?void 0:l.direction)||""),h=["sendonly","sendrecv"].includes((c==null?void 0:c.direction)||""),v=["sendrecv","receive"].includes((l==null?void 0:l.direction)||""),p=["sendrecv","receive"].includes((c==null?void 0:c.direction)||"");if(this.updateMediaOptions(Object.assign(Object.assign(Object.assign(Object.assign({},l&&{audio:(r=l==null?void 0:l.constraints)!==null&&r!==void 0?r:f}),c&&{video:(n=c==null?void 0:c.constraints)!==null&&n!==void 0?n:h}),l&&{negotiateAudio:v}),c&&{negotiateVideo:p})),await this.applyConstraintsAndRefreshStream(Object.assign(Object.assign({},l&&{audio:(i=l==null?void 0:l.constraints)!==null&&i!==void 0?i:f}),c&&{video:(a=c==null?void 0:c.constraints)!==null&&a!==void 0?a:h})),l&&!f&&this._upsertTransceiverByKind(l.direction,"audio"),c&&!h&&this._upsertTransceiverByKind(c.direction,"video"),await this.peer.startNegotiation(),await d,!EC({localSdp:this.peer.localSdp,remoteSdp:this.peer.remoteSdp,media:"audio"}))throw new Error("The server did not set the audio direction correctly");if(!EC({localSdp:this.peer.localSdp,remoteSdp:this.peer.remoteSdp,media:"video"}))throw new Error("The server did not set the video direction correctly")}catch(l){throw(s=(o=this.peer)===null||o===void 0?void 0:o._pendingNegotiationPromise)===null||s===void 0||s.reject(l),l}}async setAudioDirection(t){if(!["sendonly","sendrecv","recvonly","inactive"].includes(t))throw new Error("Invalid direction specified");return this.updateMedia({audio:{direction:t}})}async setVideoDirection(t){if(!["sendonly","sendrecv","recvonly","inactive"].includes(t))throw new Error("Invalid direction specified");return this.updateMedia({video:{direction:t}})}async hold(){const t=Cp(Object.assign(Object.assign({},this.dialogParams(this.callId)),{action:"hold"}));await this.vertoExecute({message:t,callID:this.callId,node_id:this.nodeId})}async unhold(){const t=Cp(Object.assign(Object.assign({},this.dialogParams(this.callId)),{action:"unhold"}));this.vertoExecute({message:t,callID:this.callId,node_id:this.nodeId})}}function Ky(e){this.message=e}Ky.prototype=new Error,Ky.prototype.name="InvalidCharacterError";var MC=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Ky("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,i=0,a=0,o="";n=t.charAt(a++);~n&&(r=i%4?64*r+n:n,i++%4)?o+=String.fromCharCode(255&r>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o};function rle(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(MC(r).replace(/(.)/g,function(n,i){var a=i.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}(t)}catch{return MC(t)}}function hh(e){this.message=e}function mh(e,t){if(typeof e!="string")throw new hh("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(rle(e.split(".")[r]))}catch(n){throw new hh("Invalid token specified: "+n.message)}}hh.prototype=new Error,hh.prototype.name="InvalidTokenError";var S3=Object.defineProperty,nle=Object.defineProperties,ile=Object.getOwnPropertyDescriptors,vh=Object.getOwnPropertySymbols,w3=Object.prototype.hasOwnProperty,E3=Object.prototype.propertyIsEnumerable,Yy=(e,t,r)=>t in e?S3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))w3.call(t,r)&&Yy(e,r,t[r]);if(vh)for(var r of vh(t))E3.call(t,r)&&Yy(e,r,t[r]);return e},he=(e,t)=>nle(e,ile(t)),ga=(e,t)=>{var r={};for(var n in e)w3.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&vh)for(var n of vh(e))t.indexOf(n)<0&&E3.call(e,n)&&(r[n]=e[n]);return r},Cu=(e,t)=>{for(var r in t)S3(e,r,{get:t[r],enumerable:!0})},se=(e,t,r)=>Yy(e,typeof t!="symbol"?t+"":t,r),ale={};Cu(ale,{ChatMember:()=>L_,ChatMessage:()=>I_,Client:()=>kce});var ole=({track:e,element:t})=>(t.autoplay=!0,t.playsinline=!0,t.srcObject=new MediaStream([e]),e.addEventListener("ended",()=>{t.srcObject=null,t.remove()}),t),A3=mi.createAction("swJs/audioSetSpeakerAction"),C3=({speakerId:e})=>function*({instance:r,runSaga:n}){if(typeof Audio>"u"){I().warn("`Audio` is not supported on this environment.");return}try{const i=r.getAudioEl();let a;const o=function(s){switch(s.track.kind){case"audio":{a=n(lle,{track:s.track,element:i,speakerId:e,room:r});break}}};r.on("track",o),r.once("destroy",()=>{a==null||a.cancel()})}catch(i){I().error("audioElementSaga",i)}};function*sle({element:e,room:t}){const r=mi.getCustomSagaActionType(t.__uuid,A3);for(;;){const n=yield ye([r]);try{switch(n.type){case r:const i=yield tt(rS,e,n.payload);t.emit(`${x_}.speaker.updated`,n.payload),t.settleCustomSagaTrigger({dispatchId:n.dispatchId,payload:i,kind:"resolve"});break}}catch(i){t.settleCustomSagaTrigger({dispatchId:n.dispatchId,payload:i,kind:"reject"}),I().error(i)}}}function*lle({track:e,element:t,speakerId:r,room:n}){ole({track:e,element:t}),r&&rS(t,r).catch(()=>{}),yield te(sle,{element:t,room:n})}var cle=function*(e){I().trace("videoManagerRoomsWorker started");const{instance:t,action:{type:r,payload:n}}=e,i={rooms:n.rooms.map(a=>Hr(a))};t.emit(Aa(r),i),I().trace("videoManagerRoomsWorker ended")},ule=function*(e){I().trace("videoManagerRoomWorker started");const{instance:t,action:{type:r,payload:n}}=e;t.emit(Aa(r),Hr(n)),I().trace("videoManagerRoomWorker ended")},dle=function*(e){I().trace("videoManagerWorker started");const{channels:{swEventChannel:t}}=e;function*r(n){const{type:i}=n;switch(i){case"video-manager.rooms.subscribed":yield te(cle,X({action:n},e));break;case"video-manager.room.added":case"video-manager.room.deleted":case"video-manager.room.ended":case"video-manager.room.started":case"video-manager.room.updated":yield te(ule,X({action:n},e));break;default:I().warn(`Unknown video-manager event: "${i}"`);break}}for(;;){const n=yield ye(t,i=>i.type.startsWith("video-manager."));yield te(r,n)}I().trace("videoManagerWorker ended")},fle=class extends qD{constructor(e){super(e),this.runWorker("videoManagerWorker",{worker:dle})}getSubscriptions(){const e=this.eventNames().map(t=>`video-manager.${t}`);return yu(e)}},hle=e=>{const t=Wr({store:e.store,Component:fle})(e);return new Proxy(t,{get(n,i,a){return i==="_eventsNamespace"?"":i==="eventChannel"?"video-manager.rooms":Reflect.get(n,i,a)}})},mle={echoCancellation:!0,noiseSuppression:!1,autoGainControl:!1,googAutoGainControl:!1},vle=e=>{const{authorization:t,audio:r=!0,video:n=!0,sendAudio:i,sendVideo:a,receiveAudio:o,receiveVideo:s}=e;I().debug("getJoinMediaParams options",X({},e));const{audio_allowed:l,video_allowed:c,join_as:u}=t,f=(u??"member")==="member",h=f&&l==="both",v=f&&c==="both",p=l!=="none",x=c!=="none",g=!!(i??r),b=!!(a??n),_=!!(o??r),S=!!(s??n);return!h&&g&&I().info("Not allowed to send audio on this room. Default values will be used."),!v&&b&&I().info("Not allowed to send video on this room. Default values will be used."),!p&&_&&I().info("Not allowed to receive video from the room. Default values will be used."),!x&&S&&I().info("Not allowed to receive video from the room. Default values will be used."),{mustSendAudio:h&&g,mustSendVideo:v&&b,mustRecvAudio:p&&_,mustRecvVideo:x&&S}},ple=e=>Object.values(e).some(Boolean),O3="sw-sdk-",gle=e=>`${O3}${e}`,T3="sw-overlay-",M3=e=>`${T3}${e}`,yle=class extends cS{join(){return super.invite()}leave(){return super.hangup()}},ble=Xm(yle,{audioMute:Y.audioMuteMember,audioUnmute:Y.audioUnmuteMember,videoMute:Y.videoMuteMember,videoUnmute:Y.videoUnmuteMember,setMicrophoneVolume:Y.setInputVolumeMember,setInputVolume:Y.setInputVolumeMember,setInputSensitivity:Y.setInputSensitivityMember}),xle=()=>{},uS="memberList.updated",_le=zte({event:uS}),Gy=rre(_le),k3=["video.room.joined","video.member.joined","video.member.left","video.member.updated"],Sle=e=>k3.includes(e),wle=e=>yu(k3).filter(t=>!e.includes(t)),Ele=e=>e.some(t=>t.includes(uS)),Ale=e=>e.type==="video.room.joined"?e.payload.room_session.members:[e.payload.member],Cle=({action:e,memberList:t})=>{const r=Ale(e);switch(e.type){case"video.member.left":r.forEach(n=>{t.delete(n.id)});break;default:r.forEach(n=>{t.set(n.id,n)})}return Array.from(t.values())},Ole=(e,t)=>{wle(t).forEach(a=>{e.once(a,xle)});const n=({members:a})=>{e.emit(uS,{members:a})};return e.on(Gy,n),{cleanup:()=>{e.off(Gy,n)}}};function*Tle({swEventChannel:e,instance:t}){const r=new Map;function*n(i){const a=i.type==="video.room.joined"?i.payload.room_session.id:i.payload.room_session_id,o=Cle({action:i,memberList:r}),s={room_session_id:a,members:o};t.emit(Gy,s)}for(;;){const i=yield ye(e,({type:a})=>Sle(a));yield te(n,i)}}var Mle=function*({channels:{swEventChannel:t},instance:r}){const n=r.getSubscriptions();if(!Ele(n))return;const{cleanup:i}=Ole(r,n);yield te(Tle,{swEventChannel:t,instance:r}),r.once("destroy",()=>{i()})},j3=function*(e){I().trace("childMemberJoinedWorker started");const{channels:t,instance:r,initialState:n,onDone:i,onFail:a}=e,{swEventChannel:o}=t,{parentId:s}=n;if(!s)throw new Error("Missing parentId for childMemberJoinedWorker");const l=yield ye(o,u=>u.type==="video.member.joined"?u.payload.member.parent_id===s:!1),{member:c}=l.payload;if(c!=null&&c.parent_id){const u=yield tD(KD.getComponentsById);Object.values(u).find(f=>"memberId"in f&&f.memberId===c.parent_id)?(yield bt(jre.upsert({id:r.callId,roomId:l.payload.room_id,roomSessionId:l.payload.room_session_id,memberId:c.id})),i==null||i()):a==null||a({error:new Error("Unknown parent_id")})}I().trace("childMemberJoinedWorker ended")},kle=function*(e){I().trace("videoStreamWorker started");const{instance:t,action:{type:r,payload:n},instanceMap:{get:i,set:a,remove:o}}=e;let s=i(n.stream.id);switch(s?s.setPayload(n):s=Y.createRoomSessionStreamObject({store:t.store,payload:n}),a(n.stream.id,s),r){case"video.stream.started":t.emit("stream.started",s);break;case"video.stream.ended":t.emit("stream.ended",s),o(n.stream.id);break;default:I().warn(`Unknown video.stream event: "${r}"`);break}I().trace("videoStreamWorker ended")},jle=function*(e){I().trace("videoRecordWorker started");const{instance:t,action:{type:r,payload:n},instanceMap:{get:i,set:a,remove:o}}=e;let s=i(n.recording.id);s?s.setPayload(n):s=Y.createRoomSessionRecordingObject({store:t.store,payload:n}),a(n.recording.id,s);const l=Aa(r);switch(r){case"video.recording.started":case"video.recording.updated":{t.emit(l,s);break}case"video.recording.ended":t.emit(l,s),o(n.recording.id);break;default:I().warn(`Unknown video.stream event: "${r}"`);break}I().trace("videoRecordWorker ended")},Ple=function*(e){I().trace("videoPlaybackWorker started");const{instance:t,action:{type:r,payload:n},instanceMap:{get:i,set:a,remove:o}}=e;let s=i(n.playback.id);s?s.setPayload(n):s=Y.createRoomSessionPlaybackObject({store:t.store,payload:n}),a(n.playback.id,s);const l=Aa(r);switch(r){case"video.playback.started":case"video.playback.updated":{t.emit(l,s);break}case"video.playback.ended":t.emit(l,s),o(n.playback.id);break;default:I().warn(`Unknown video.stream event: "${r}"`);break}I().trace("videoPlaybackWorker ended")},Nle=function*(e){I().trace("videoWorker started");const{channels:t,instance:r}=e,{swEventChannel:n}=t;function*i(o){const{type:s,payload:l}=o;switch(s){case"video.room.subscribed":yield te(z_.memberPositionWorker,he(X({},e),{instance:r,initialState:l}));return;case"video.playback.started":case"video.playback.updated":case"video.playback.ended":yield te(Ple,X({action:o},e));return;case"video.recording.started":case"video.recording.updated":case"video.recording.ended":yield te(jle,X({action:o},e));return;case"video.stream.ended":case"video.stream.started":yield te(kle,X({action:o},e));return;case"video.room.audience_count":{r.emit("room.audienceCount",l);return}case"video.member.talking":{const{member:u}=l;if("talking"in u){const d=u.talking?"started":"ended";r.emit(`member.talking.${d}`,l);const f=u.talking?"start":"stop";r.emit(`member.talking.${f}`,l)}break}case"video.layout.changed":{r.currentLayoutEvent=o.payload;break}}const c=Aa(s,"video");r.emit(c,l)}const a=o=>o.type.startsWith("video.");for(;;){const o=yield ye(n,a);yield te(i,o)}I().trace("videoWorker ended")},P3=class extends cS{constructor(){super(...arguments),se(this,"_screenShareList",new Set),se(this,"_audioEl"),se(this,"_overlayMap"),se(this,"_localVideoOverlay")}get audioEl(){return this._audioEl}set overlayMap(e){this._overlayMap=e}get overlayMap(){return this._overlayMap}set localVideoOverlay(e){this._localVideoOverlay=e}get localVideoOverlay(){return this._localVideoOverlay}get screenShareList(){return Array.from(this._screenShareList)}_attachSpeakerTrackListener(){cv()&&y3().then(e=>{e.on("removed",async t=>{var r,n;const i=this._audioEl.sinkId,a=t.changes.find(o=>{const s=o.payload.deviceId;return s===i||s===""&&i==="default"||s==="default"&&i===""});if(a){this.emit("speaker.disconnected",{deviceId:a.payload.deviceId,label:a.payload.label}),await((n=(r=this._audioEl).setSinkId)==null?void 0:n.call(r,""));const o=await Tp("default");if(!(o!=null&&o.deviceId))return;this.emit("speaker.updated",{previous:{deviceId:a.payload.deviceId,label:a.payload.label},current:{deviceId:o.deviceId,label:o.label}})}})})}_finalize(){this._screenShareList.clear(),super._finalize()}async hangup(e){return this._screenShareList.forEach(t=>{t.leave()}),super.hangup(e)}leave(){return this.hangup()}attachPreConnectWorkers(){this.runWorker("memberListUpdated",{worker:Mle})}getAudioEl(){return this._audioEl?this._audioEl:(this._audioEl=new Audio,this._attachSpeakerTrackListener(),this._audioEl)}getMemberOverlay(e){return this.overlayMap.get(M3(e))}async startScreenShare(e={}){return new Promise(async(t,r)=>{var n;const{autoJoin:i=!0,audio:a=!1,video:o=!0,layout:s,positions:l}=e;try{const c=await p3({audio:a===!0?mle:a,video:o}),u=he(X({},this.options),{screenShare:!0,recoverCall:!1,localStream:c,remoteStream:void 0,userVariables:he(X({},((n=this.options)==null?void 0:n.userVariables)||{}),{memberCallId:this.callId,memberId:this.memberId}),layout:s,positions:l}),d=Wr({store:this.store,Component:ble})(u);return c.getVideoTracks().forEach(f=>{f.addEventListener("ended",()=>{d&&d.active&&d.leave()})}),d.once("destroy",()=>{d.emit("room.left"),this._screenShareList.delete(d)}),d.runWorker("childMemberJoinedWorker",{worker:j3,onDone:()=>t(d),onFail:r,initialState:{parentId:this.memberId}}),this._screenShareList.add(d),i?await d.join():t(d)}catch(c){this.logger.error("ScreenShare Error",c),r(c)}})}updateSpeaker({deviceId:e}){const t=this.audioEl.sinkId;return this.once(`${x_}.speaker.updated`,async r=>{const n=await Tp(t),i=await Tp(r),a=(i==null?void 0:i.deviceId)===(n==null?void 0:n.deviceId);!(i!=null&&i.deviceId)||a||this.emit("speaker.updated",{previous:{deviceId:n==null?void 0:n.deviceId,label:n==null?void 0:n.label},current:{deviceId:i.deviceId,label:i.label}})}),this.triggerCustomSaga(A3(e))}},Rle=class extends cS{join(){return super.invite()}leave(){return super.hangup()}},Dle=Xm(Rle,{audioMute:Y.audioMuteMember,audioUnmute:Y.audioUnmuteMember,videoMute:Y.videoMuteMember,videoUnmute:Y.videoUnmuteMember,setInputVolume:Y.setInputVolumeMember,setMicrophoneVolume:Y.setInputVolumeMember,setInputSensitivity:Y.setInputSensitivityMember}),N3=class extends P3{constructor(e){super(e),se(this,"_deviceList",new Set),se(this,"_currentLayoutEvent"),this.initWorker()}set currentLayoutEvent(e){this._currentLayoutEvent=e}get currentLayoutEvent(){return this._currentLayoutEvent}get currentLayout(){var e;return(e=this._currentLayoutEvent)==null?void 0:e.layout}get currentPosition(){var e,t;return(t=(e=this._currentLayoutEvent)==null?void 0:e.layout.layers.find(r=>r.member_id===this.memberId))==null?void 0:t.position}get deviceList(){return Array.from(this._deviceList)}get interactivityMode(){return this.select(({session:e})=>{var t;const{authorization:r}=e;return(t=r==null?void 0:r.join_as)!=null?t:""})}get permissions(){return this.select(({session:e})=>{var t,r;const{authorization:n}=e;return(r=(t=n==null?void 0:n.room)==null?void 0:t.scopes)!=null?r:[]})}initWorker(){this.runWorker("videoWorker",{worker:Nle})}getSubscriptions(){const e=this.eventNames().map(t=>`video.${String(t)}`);return yu(e)}_finalize(){this._deviceList.clear(),super._finalize()}async hangup(e){return this._deviceList.forEach(t=>{t.leave()}),super.hangup(e)}join(){return super.invite()}getLayoutList(){return this.getLayouts()}getMemberList(){return this.getMembers()}async createScreenShareObject(e={}){return this.startScreenShare(e)}addCamera(e={}){const t=e,{autoJoin:r=!0}=t,n=ga(t,["autoJoin"]);return this.addDevice({autoJoin:r,video:n})}addMicrophone(e={}){const t=e,{autoJoin:r=!0}=t,n=ga(t,["autoJoin"]);return this.addDevice({autoJoin:r,audio:n})}async addDevice(e={}){return new Promise(async(t,r)=>{var n;const{autoJoin:i=!0,audio:a=!1,video:o=!1}=e;if(!a&&!o)throw new TypeError("At least one of `audio` or `video` must be requested.");const s=he(X({},this.options),{localStream:void 0,remoteStream:void 0,audio:a,video:o,additionalDevice:!0,recoverCall:!1,userVariables:he(X({},((n=this.options)==null?void 0:n.userVariables)||{}),{memberCallId:this.callId,memberId:this.memberId})}),l=Wr({store:this.store,Component:Dle})(s);l.once("destroy",()=>{l.emit("room.left"),this._deviceList.delete(l)});try{return l.runWorker("childMemberJoinedWorker",{worker:j3,onDone:()=>t(l),onFail:r,initialState:{parentId:this.memberId}}),this._deviceList.add(l),i?await l.join():t(l)}catch(c){this.logger.error("RoomDevice Error",c),r(c)}})}},Ile=Xm(N3,{audioMute:Y.audioMuteMember,audioUnmute:Y.audioUnmuteMember,videoMute:Y.videoMuteMember,videoUnmute:Y.videoUnmuteMember,deaf:Y.deafMember,undeaf:Y.undeafMember,setInputVolume:Y.setInputVolumeMember,setOutputVolume:Y.setOutputVolumeMember,setMicrophoneVolume:Y.setInputVolumeMember,setSpeakerVolume:Y.setOutputVolumeMember,setInputSensitivity:Y.setInputSensitivityMember,removeMember:Y.removeMember,removeAllMembers:Y.removeAllMembers,getMembers:Y.getMembers,getLayouts:Y.getLayouts,setLayout:Y.setLayout,setPositions:Y.setPositions,setMemberPosition:Y.setMemberPosition,hideVideoMuted:Y.hideVideoMuted,showVideoMuted:Y.showVideoMuted,getRecordings:Y.getRecordings,startRecording:Y.startRecording,getPlaybacks:Y.getPlaybacks,play:Y.play,setHideVideoMuted:Y.setHideVideoMuted,getMeta:Y.getMeta,setMeta:Y.setMeta,updateMeta:Y.updateMeta,deleteMeta:Y.deleteMeta,getMemberMeta:Y.getMemberMeta,setMemberMeta:Y.setMemberMeta,updateMemberMeta:Y.updateMemberMeta,deleteMemberMeta:Y.deleteMemberMeta,promote:Y.promote,demote:Y.demote,getStreams:Y.getStreams,startStream:Y.startStream,lock:Y.lock,unlock:Y.unlock,setRaisedHand:Y.setRaisedHand,setPrioritizeHandraise:Y.setPrioritizeHandraise}),kc=e=>e instanceof N3,Lle=e=>Wr({store:e.store,customSagas:e.customSagas,Component:Ile})(e),Ht=()=>{if(window&&window.sessionStorage)return window.sessionStorage},Qn=e=>{var t;let r="";try{const i=mh(e);r=(t=i==null?void 0:i.r)!=null?t:""}catch{try{r=mh(e,{header:!0}).typ||""}catch{r=""}}const n=!!r;return{authStateKey:n&&`as-${r}`,protocolKey:n&&`pt-${r}`,callIdKey:n&&`ci-${r}`}},Pd="ci-SAT",zle=10,$le=300,Ule=100,Ble=function*(e){I().debug("wsClientWorker started");const{channels:t,initialState:r,instance:n}=e,{swEventChannel:i}=t,{handleIncomingInvite:a}=r;function*o(c){n.emit(c.type,c.payload)}function*s(c){a(c.payload.params)}const l=c=>c.type==="webrtc.message"?c.payload.method==="verto.invite":!1;try{for(;;){const c=yield ye(i,()=>!0);yield te(o,c),l(c)&&(I().debug("Receiving a call over WebSocket",c),yield te(s,c))}}finally{I().trace("wsClientWorker ended")}},R3=class extends Qs{constructor(e){super(e),se(this,"_payload"),this._payload=e.payload}get id(){return this._payload.member.member_id}get callId(){return this._payload.member.call_id}get nodeId(){return this._payload.member.node_id}get memberId(){return this.id}get roomSessionId(){return this._payload.room_session_id}get roomId(){return this._payload.room_id}get parentId(){return this._payload.member.parent_id}get subscriberId(){return this._payload.member.subscriber_id}get addressId(){return this._payload.member.address_id}get name(){return this._payload.member.name}get type(){return this._payload.member.type}get requestedPosition(){return this._payload.member.requested_position}get currentPosition(){return this._payload.member.current_position}get meta(){return this._payload.member.meta}get handraised(){return this._payload.member.handraised}get talking(){return this._payload.member.talking}get audioMuted(){return this._payload.member.audio_muted}get videoMuted(){return this._payload.member.video_muted}get deaf(){return this._payload.member.deaf}get visible(){return this._payload.member.visible}get inputVolume(){return this._payload.member.input_volume}get outputVolume(){return this._payload.member.output_volume}get inputSensitivity(){return this._payload.member.input_sensitivity}get echoCancellation(){return this._payload.member.echo_cancellation}get autoGain(){return this._payload.member.auto_gain}get noiseSuppression(){return this._payload.member.noise_suppression}setPayload(e){const t=he(X(X({},this._payload),e),{member:X(X({},this._payload.member),e.member)});this._payload=t}},dS=e=>Wr({store:e.store,Component:R3})(e),Vle=function*(e){I().trace("callLeftWorker started");const{action:{payload:t},instance:r,instanceMap:n}=e,{room_session_id:i}=t;n.getAll().forEach(([a,o])=>{o instanceof R3&&o.roomSessionId===i&&n.remove(a)}),r.emit("call.left",t),r.emit("room.left",t),I().trace("callLeftWorker ended")},Fy=function*(e){I().trace("fabricMemberWorker started");const{instance:t,action:{type:r,payload:n},instanceMap:{get:i,set:a,remove:o}}=e,s=n.member.member_id;let l=i(s);if(!l&&r!=="member.talking"&&(l=dS({store:t.store,payload:n})),l&&l.setPayload(n),a(s,l),r.startsWith("member.updated.")){const c=Ry(r);t.emit(c,n)}switch(r){case"member.joined":t.emit(r,n);break;case"member.updated":t.emit(r,n);break;case"member.left":t.emit(r,n),o(s);break;case"member.talking":t.emit(r,n);break}I().trace("fabricMemberWorker ended")},Fo=class{constructor(e){this._flags=e}get on(){return this._flags.some(e=>!e.endsWith(".off"))}get off(){return this._flags.some(e=>!e.endsWith(".on"))}},Hle=class{constructor(e,t){this._flags=e,this._memberType=t,se(this,"_muteAudio"),se(this,"_muteVideo"),se(this,"_deaf"),se(this,"_raisehand")}get muteAudio(){var e;return this._muteAudio=(e=this._muteAudio)!=null?e:new Fo(this._flags.filter(t=>t===this._memberType||t===`${this._memberType}.mute`||t.startsWith(`${this._memberType}.mute.audio`))),this._muteAudio}get muteVideo(){var e;return this._muteVideo=(e=this._muteVideo)!=null?e:new Fo(this._flags.filter(t=>t===this._memberType||t===`${this._memberType}.mute`||t.startsWith(`${this._memberType}.mute.video`))),this._muteVideo}get microphoneVolume(){return this._flags.some(e=>e===this._memberType||e===`${this._memberType}.microphone`||e.startsWith(`${this._memberType}.microphone.volume`))}get microphoneSensitivity(){return this._flags.some(e=>e===this._memberType||e===`${this._memberType}.microphone`||e.startsWith(`${this._memberType}.microphone.sensitivity`))}get speakerVolume(){return this._flags.some(e=>e===this._memberType||e===`${this._memberType}.speaker`||e.startsWith(`${this._memberType}.speaker.volume`))}get deaf(){var e;return this._deaf=(e=this._deaf)!=null?e:new Fo(this._flags.filter(t=>t===this._memberType||t.startsWith(`${this._memberType}.deaf`))),this._deaf}get raisehand(){var e;return this._raisehand=(e=this._raisehand)!=null?e:new Fo(this._flags.filter(t=>t===this._memberType||t.startsWith(`${this._memberType}.raisehand`))),this._raisehand}get position(){return this._flags.some(e=>e===this._memberType||e.startsWith(`${this._memberType}.position`))}get meta(){return this._flags.some(e=>e===this._memberType||e.startsWith(`${this._memberType}.meta`))}get remove(){return this._flags.some(e=>e===this._memberType||e.startsWith(`${this._memberType}.remove`))}get audioFlags(){return this._flags.some(e=>e===this._memberType||e.startsWith(`${this._memberType}.audioflags.set`))}},Wle=class{constructor(e){this._flags=e,se(this,"_self"),se(this,"_member"),se(this,"_vmutedHide"),se(this,"_lock")}_buildMemberCapability(e){return new Hle(this._flags.filter(t=>t.startsWith(e)),e)}get self(){var e;return this._self=(e=this._self)!=null?e:this._buildMemberCapability("self"),this._self}get member(){var e;return this._member=(e=this._member)!=null?e:this._buildMemberCapability("member"),this._member}get end(){return this._flags.some(e=>e==="end")}get setLayout(){return this._flags.some(e=>e.startsWith("layout"))}get sendDigit(){return this._flags.some(e=>e.startsWith("digit"))}get vmutedHide(){var e;return this._vmutedHide=(e=this._vmutedHide)!=null?e:new Fo(this._flags.filter(t=>t.startsWith("vmuted"))),this._vmutedHide}get lock(){var e;return this._lock=(e=this._lock)!=null?e:new Fo(this._flags.filter(t=>t.startsWith("lock"))),this._lock}get device(){return this._flags.some(e=>e==="device")}get screenshare(){return this._flags.some(e=>e==="screenshare")}},qle=e=>new Wle(e),ph=e=>he(X({},e),{id:e.member_id}),Kle=e=>he(X({},ph(e)),{updated:e.updated.map(t=>t==="member_id"?"id":t)}),Yle=e=>he(X({},e),{room:he(X({},e.room_session),{members:e.room_session.members.map(ph)}),room_session:he(X({},e.room_session),{members:e.room_session.members.map(ph)})}),Gle=e=>({room_session_id:e.room_session_id,room_id:e.room_id,member:ph(e.member)}),Fle=e=>({type:`video.${e.type}`,payload:Gle(e.payload)}),Xle=e=>({room_session_id:e.room_session_id,room_id:e.room_id,member:Kle(e.member)}),Qle=e=>({type:`video.${e.type}`,payload:Xle(e.payload)}),Zle=e=>({type:`video.${e.type}`,payload:e.payload}),Jle=function*(e){var t;I().trace("callJoinWorker started");const{action:r,instanceMap:n,instance:i}=e,{payload:a}=r,{get:o,set:s}=n;yield te(z_.memberPositionWorker,he(X({},e),{initialState:Yle(a),dispatcher:function*(c,u){const d=Aa(c,"video"),f=he(X({},u),{member:he(X({},u.member),{member_id:u.member.id})});yield te(Fy,he(X({},e),{action:{type:d,payload:f}}))}})),(t=a.room_session.members)==null||t.forEach(c=>{let u=o(c.member_id);u?u.setPayload({member:c,room_id:a.room_id,room_session_id:a.room_session_id}):u=dS({store:i.store,payload:{member:c,room_id:a.room_id,room_session_id:a.room_session_id}}),s(c.member_id,u)}),i.member=o(a.member_id),i.capabilities=qle(a.capabilities);const l=he(X({},a),{capabilities:i.capabilities});i.emit("call.joined",l),I().trace("callJoinWorker ended")},ece=function*(e){const{action:t,channels:{swEventChannel:r},instance:n}=e,i=t.payload.call_id,a=t.payload.room_session_id;I().debug(`callSegmentWorker started for: callId ${i}, roomSessionId ${a}`),yield te(Jle,he(X({},e),{action:t}));function*o(l){const{type:c,payload:u}=l;switch(c){case"call.joined":break;case"call.left":return yield tt(Vle,he(X({},e),{action:l})),!0;case"call.updated":n.emit(c,u),n.emit("room.updated",u);break;case"call.play":n.emit(c,u);break;case"call.connect":n.emit(c,u);break;case"call.room":n.emit(c,u);break;case"member.joined":case"member.left":{yield te(Fy,he(X({},e),{action:l}));const d=Fle(l);yield bt(r,d);break}case"member.updated":{const d=Qle(l);yield bt(r,d);break}case"layout.changed":{n.currentLayoutEvent=l.payload,n.emit(c,u);const d=Zle(l);yield bt(r,d);break}case"member.talking":{yield te(Fy,he(X({},e),{action:l}));break}default:I().warn("Got an unknown fabric event",l)}return!1}const s=l=>{const{type:c,payload:u}=l,d=c.startsWith("call.")||c.startsWith("member.")||c.startsWith("layout."),f="call_id"in u&&i===u.call_id,h=a===u.room_session_id;return!!(d&&(f||h))};for(;;){const l=yield ye(r,s),c=yield te(o,l);if(yield Iee(c))return}},tce=function*(e){I().trace("fabricWorker started");const{channels:{swEventChannel:t},instance:r}=e;function*n(o){const{type:s,payload:l}=o;switch(s){case"call.joined":{if(!r.selfMember){const c=dS({store:r.store,payload:{member:o.payload.room_session.members.find(u=>u.member_id===o.payload.member_id),room_id:o.payload.room_id,room_session_id:o.payload.room_session_id}});r.selfMember=c}yield te(ece,he(X({},e),{instance:r,action:o}));break}case"call.state":r.emit(s,l);break}}let i=!1;const a=o=>{if(o.type==="call.state")return!0;if(o.type!=="call.joined")return!1;if(!i){const s=o.payload.call_id,l=o.payload.origin_call_id;return s===l?(i=!0,!0):!1}return!0};for(;;){const o=yield ye(t,a);yield te(n,o)}I().trace("fabricWorker ended")},Mn=(e,t)=>!(e!=null&&e.memberId)||e.memberId===t.member.id;function rce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.muteAudio.off:(r=this.capabilities)==null?void 0:r.member.muteAudio.off))throw new Ft("Missing audio mute capability")}function nce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.muteAudio.on:(r=this.capabilities)==null?void 0:r.member.muteAudio.on))throw new Ft("Missing audio unmute capability")}function ice(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.muteVideo.off:(r=this.capabilities)==null?void 0:r.member.muteVideo.off))throw new Ft("Missing video mute capability")}function ace(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.muteVideo.on:(r=this.capabilities)==null?void 0:r.member.muteVideo.on))throw new Ft("Missing video unmute capability")}function oce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.deaf.on:(r=this.capabilities)==null?void 0:r.member.deaf.on))throw new Ft("Missing deaf capability")}function sce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.deaf.off:(r=this.capabilities)==null?void 0:r.member.deaf.off))throw new Ft("Missing undeaf capability")}function lce(e){var t;if(!(e!=null&&e.memberId))throw new TypeError('Invalid or missing "memberId" argument');if(!((t=this.capabilities)==null?void 0:t.member.remove))throw new Ft("Missing remove member capability")}function cce(e){var t,r,n,i;const{raised:a=!0}=e||{},o=Mn(e,this),s=o?(t=this.capabilities)==null?void 0:t.self.raisehand.on:(r=this.capabilities)==null?void 0:r.member.raisehand.on,l=o?(n=this.capabilities)==null?void 0:n.self.raisehand.off:(i=this.capabilities)==null?void 0:i.member.raisehand.off;if(a&&!s)throw new Ft("Missing raisehand capability");if(!a&&!l)throw new Ft("Missing lowerhand capability")}function uce(){var e;if(!((e=this.capabilities)!=null&&e.setLayout))throw new Ft("Missing setLayout capability")}function dce(e){var t,r,n,i;if(!(Mn(e,this)?(r=(t=this.capabilities)==null?void 0:t.self)==null?void 0:r.microphoneVolume:(i=(n=this.capabilities)==null?void 0:n.member)==null?void 0:i.microphoneVolume))throw new Ft("Missing setInputVolume capability");if(e.volume<-50||e.volume>50)throw new RangeError("The volume ranges from -50 to 50")}function fce(e){var t,r,n,i;if(!(Mn(e,this)?(r=(t=this.capabilities)==null?void 0:t.self)==null?void 0:r.speakerVolume:(i=(n=this.capabilities)==null?void 0:n.member)==null?void 0:i.speakerVolume))throw new Ft("Missing setOutputVolume capability");if(e.volume<-50||e.volume>50)throw new RangeError("The volume ranges from -50 to 50")}function hce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.microphoneSensitivity:(r=this.capabilities)==null?void 0:r.member.microphoneSensitivity))throw new Ft("Missing setInputSensitivity capability");if(e.value<0||e.value>100)throw new RangeError("The sensitivity value ranges from 0 to 100")}function mce(e){var t,r;if(e.positions&&!Object.keys(e.positions).length)throw new TypeError("Invalid positions specified");if(!(Object.keys(e.positions).some(a=>["self",`${this.memberId}`].includes(a))?(t=this.capabilities)==null?void 0:t.self.position:(r=this.capabilities)==null?void 0:r.member.position))throw new Ft("Missing setPositions capability")}function vce(){var e;if(!((e=this.capabilities)!=null&&e.lock.on))throw new Ft("Missing lock capability")}function pce(){var e;if(!((e=this.capabilities)!=null&&e.lock.off))throw new Ft("Missing unlock capability")}function gce(e){var t,r;if(!(Mn(e,this)?(t=this.capabilities)==null?void 0:t.self.audioFlags:(r=this.capabilities)==null?void 0:r.member.audioFlags))throw new Ft("Missing audio flags capability");const{echoCancellation:a,autoGain:o,noiseSuppression:s}=e||{};if(a===void 0&&o===void 0&&s===void 0)throw new TypeError("Invalid parameters: you must specify at least one of `echoCancellation`, `autoGain`, or `noiseSuppression`")}var kC={audioMute:rce,audioUnmute:nce,videoMute:ice,videoUnmute:ace,deaf:oce,undeaf:sce,removeMember:lce,setRaisedHand:cce,setLayout:uce,setInputVolume:dce,setOutputVolume:fce,setInputSensitivity:hce,setPositions:mce,lock:vce,unlock:pce,setAudioFlags:gce};function yce(e){return new Proxy(e,{get(t,r,n){if(typeof r=="string"&&r in kC){const i=t,a=i[r];if(typeof a=="function")return async function(...o){const s=kC[r];return s&&s.apply(i,o),a.apply(i,o)}}return Reflect.get(t,r,n)}})}var D3=class extends P3{constructor(e){super(e),se(this,"_self"),se(this,"_member"),se(this,"_currentLayoutEvent"),se(this,"_capabilities"),this.initWorker()}get memberId(){var e;return(e=this._member)==null?void 0:e.memberId}dialogParams(e){const t=super.dialogParams(e);return t.dialogParams.attach=this.options.attach||this.resuming,t.dialogParams.reattaching=this.options.attach||this.resuming,t}set currentLayoutEvent(e){this._currentLayoutEvent=e}get currentLayoutEvent(){return this._currentLayoutEvent}get currentLayout(){var e;return(e=this._currentLayoutEvent)==null?void 0:e.layout}get currentPosition(){var e,t;return(t=(e=this._currentLayoutEvent)==null?void 0:e.layout.layers.find(r=>r.member_id===this.memberId))==null?void 0:t.position}get capabilities(){return this._capabilities}set capabilities(e){this._capabilities=e}get selfMember(){return this._self}set selfMember(e){this._self=e}set member(e){this._member=e}get member(){return this._member}initWorker(){this.runWorker("fabricWorker",{worker:tce}),this.runWorker("makeAudioElement",{worker:C3({speakerId:this.options.speakerId})})}async join(){var e,t;return this.options.attach&&(this.options.prevCallId=(t=(e=Ht())==null?void 0:e.getItem(Pd))!=null?t:void 0,this.logger.debug(`Tying to reattach to previuos call? ${!!this.options.prevCallId} - prevCallId: ${this.options.prevCallId}`)),super.invite()}executeAction(e,t={}){var r,n,i;const{method:a,channel:o,memberId:s,extraParams:l={}}=e,c=!s||s==="all"?this.member:this.instanceMap.get(s);if(!c)throw new Error(s&&s!=="all"?`Member ${s} not found`:"No target member available");return this.execute({method:a,params:X(he(X({},o&&{channels:[o]}),{self:{member_id:(r=this.selfMember)==null?void 0:r.id,call_id:(n=this.selfMember)==null?void 0:n.callId,node_id:(i=this.selfMember)==null?void 0:i.nodeId},target:{member_id:s==="all"?s:c.id,call_id:c.callId,node_id:c.nodeId}}),l)},t)}async resume(){var e;if(this.logger.warn(`[resume] Call ${this.id}`),(e=this.peer)!=null&&e.instance){const{connectionState:t}=this.peer.instance;this.logger.debug(`[resume] connectionState for ${this.id} is '${t}'`),["closed","failed","disconnected"].includes(t)&&(this.resuming=!this.selfMember,this.peer.restartIce())}}async start(){return new Promise(async(e,t)=>{try{this.once("room.subscribed",r=>{var n;(n=Ht())==null||n.setItem(Pd,r.call_id),e()}),this.once("destroy",()=>{var r;(r=Ht())==null||r.removeItem(Pd)}),await this.join()}catch(r){this.logger.error("WSClient call start",r),t(r)}})}async audioMute(e){return this.executeAction({method:"call.mute",channel:"audio",memberId:e==null?void 0:e.memberId})}async audioUnmute(e){return this.executeAction({method:"call.unmute",channel:"audio",memberId:e==null?void 0:e.memberId})}async videoMute(e){return this.executeAction({method:"call.mute",channel:"video",memberId:e==null?void 0:e.memberId})}async videoUnmute(e){return this.executeAction({method:"call.unmute",channel:"video",memberId:e==null?void 0:e.memberId})}async deaf(e){return this.executeAction({method:"call.deaf",memberId:e==null?void 0:e.memberId})}async undeaf(e){return this.executeAction({method:"call.undeaf",memberId:e==null?void 0:e.memberId})}async getLayouts(){return this.executeAction({method:"call.layout.list"},{transformResolve:e=>({layouts:e.layouts})})}async getMembers(){return this.executeAction({method:"call.member.list"},{transformResolve:e=>({members:e.members})})}async removeMember(e){return this.executeAction({method:"call.member.remove",memberId:e.memberId})}async setRaisedHand(e){const{raised:t=!0,memberId:r}=e||{};return this.executeAction({method:t?"call.raisehand":"call.lowerhand",memberId:r})}async setLayout(e){const t={layout:e.name,positions:e.positions};return this.executeAction({method:"call.layout.set",extraParams:t})}async setInputVolume(e){return this.executeAction({method:"call.microphone.volume.set",memberId:e.memberId,extraParams:{volume:e.volume}})}async setOutputVolume(e){return this.executeAction({method:"call.speaker.volume.set",memberId:e.memberId,extraParams:{volume:e.volume}})}async setInputSensitivity(e){return this.executeAction({method:"call.microphone.sensitivity.set",memberId:e.memberId,extraParams:{sensitivity:e.value}})}async setPositions(e){var t,r,n;const i=[];if(Object.entries(e.positions).forEach(([a,o])=>{const s=a==="self"?this.member:this.instanceMap.get(a);s&&i.push({target:{member_id:s.id,call_id:s.callId,node_id:s.nodeId},position:o})}),!i.length)throw new Error("Invalid targets");return this.execute({method:"call.member.position.set",params:{self:{member_id:(t=this.selfMember)==null?void 0:t.id,call_id:(r=this.selfMember)==null?void 0:r.callId,node_id:(n=this.selfMember)==null?void 0:n.nodeId},targets:i}})}async lock(){return this.executeAction({method:"call.lock"})}async unlock(){return this.executeAction({method:"call.unlock"})}async setAudioFlags(e){const t=e,{memberId:r}=t,n=ga(t,["memberId"]);return this.executeAction({method:"call.audioflags.set",memberId:r,extraParams:Dy(n)})}},jc=e=>e instanceof D3,bce=e=>{const t=Wr({store:e.store,Component:D3})(e);return yce(t)},I3=class{constructor(e){se(this,"id"),se(this,"_domElement"),se(this,"_status"),this.id=e.id,this._status="hidden"}get userId(){return this.id.split(T3)[1]}get domElement(){return this._domElement}set domElement(e){I().debug("Setting domElement for ",this.id),this._domElement=e}get status(){return this._status}set status(e){this._status=e}hide(){if(!this.domElement)return I().warn("Missing overlay to hide");this.domElement.style.opacity="0",this.status="hidden"}show(){if(!this.domElement)return I().warn("Missing overlay to show");this.domElement.style.opacity="1",this.status="visible"}},xce=class extends I3{constructor(e){super(e),se(this,"_mirrored"),se(this,"_room"),this._mirrored=e.mirrorLocalVideoOverlay,this._room=e.room,this.fabricMemberVideoMutedHandler=this.fabricMemberVideoMutedHandler.bind(this),this.videoMemberVideoMutedHandler=this.videoMemberVideoMutedHandler.bind(this),this.attachListeners()}get userId(){return this.id.split(O3)[1]}get mirrored(){return this._mirrored}attachListeners(){jc(this._room)?this._room.on("member.updated.videoMuted",this.fabricMemberVideoMutedHandler):kc(this._room)&&this._room.on("member.updated.videoMuted",this.videoMemberVideoMutedHandler)}detachListeners(){jc(this._room)?this._room.off("member.updated.videoMuted",this.fabricMemberVideoMutedHandler):kc(this._room)&&this._room.off("member.updated.videoMuted",this.videoMemberVideoMutedHandler)}memberVideoMutedHandler(e,t){try{e===this._room.memberId&&(t?this.hide():this.show())}catch(r){I().error("Error handling videoMuted in LocalVideoOverlay",r)}}fabricMemberVideoMutedHandler(e){this.memberVideoMutedHandler(e.member.member_id,e.member.video_muted)}videoMemberVideoMutedHandler(e){this.memberVideoMutedHandler(e.member.id,e.member.video_muted)}setMediaStream(e){if(!this.domElement)return I().warn("Missing local overlay to set the stream");const t=this.domElement.querySelector("video");t&&(t.srcObject=e)}setMirror(e=this._mirrored){if(!this.domElement||!this.domElement.firstChild)return I().warn("Missing local overlay to set the mirror");const t=this.domElement.firstChild;t.style.transform=e?"scale(-1, 1)":"scale(1, 1)",t.style.webkitTransform=e?"scale(-1, 1)":"scale(1, 1)",this._mirrored=e}},L3=()=>{const e=document.createElement("video");return e.muted=!0,e.autoplay=!0,e.playsInline=!0,e.addEventListener("pause",()=>{e.play().catch(t=>{I().error("Video Element Paused",e,t)})}),e},_ce=({element:e})=>new Promise(t=>{e.addEventListener("canplay",function r(){e.removeEventListener("canplay",r),t()}),e.addEventListener("resize",function r(){e.removeEventListener("resize",r),t()})}),z3=({x:e,y:t,width:r,height:n})=>({top:`${t}%`,left:`${e}%`,width:`${r}%`,height:`${n}%`}),jC=({location:e})=>{const{top:t,left:r,width:n,height:i}=z3(e),a=document.createElement("div");return a.style.position="absolute",a.style.overflow="hidden",a.style.top=t,a.style.left=r,a.style.width=n,a.style.height=i,a},PC=({location:e,element:t})=>{const{top:r,left:n,width:i,height:a}=z3(e);return t.style.top=r,t.style.left=n,t.style.width=i,t.style.height=a,t},Sce=e=>{const{applyLocalVideoOverlay:t,applyMemberOverlay:r,overlayMap:n,localVideoOverlay:i,mirrorLocalVideoOverlay:a,rootElement:o}=e;return async s=>{I().debug("Process layout.changed");try{const{layout:l,memberId:c,localStream:u}=s,{layers:d=[]}=l,f=o.querySelector(".mcuLayers"),h=document.createDocumentFragment(),v=new Set;if(t){const p=d.find(({member_id:b})=>b===c),x=i.id;let g=i.domElement;if(v.add(x),!p)I().warn("Local video overlay location not found"),i.status="hidden",g&&i.hide();else{if(g)I().debug("Update local video overlay"),PC({location:p,element:g});else{I().debug("Build local video overlay"),g=jC({location:p}),g.id=x;const _=L3();_.srcObject=u,_.disablePictureInPicture=!0,_.style.width="100%",_.style.height="100%",_.style.pointerEvents="none",_.style.objectFit="cover",g.appendChild(_),i.domElement=g,a&&i.setMirror()}u.getVideoTracks().filter(_=>_.enabled&&_.readyState==="live").length>0&&p.visible?(i.setMediaStream(u),i.show()):i.hide(),h.appendChild(g)}}r&&d.forEach(p=>{const x=p.member_id;if(!x)return;const g=M3(x);v.add(g);let b=n.get(g);if(b&&b.domElement)I().debug("Update an overlay for ",x),PC({location:p,element:b.domElement});else{I().debug("Build an overlay for ",x),b=new I3({id:g}),n.set(g,b);const _=jC({location:p});_.id=`${g}-${$r()}`,b.domElement=_}p.visible?b.show():b.hide(),h.appendChild(b.domElement)}),n.forEach((p,x)=>{v.has(x)||(p.domElement&&p.domElement.parentNode&&p.domElement.parentNode.removeChild(p.domElement),n.delete(x))}),f&&(f.innerHTML="",f.appendChild(h))}catch(l){I().error("Layout Changed Error",l)}}},wce=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},Ece=({track:e,element:t})=>{t.srcObject=new MediaStream([e]),e.addEventListener("ended",()=>{t.srcObject=null,t.remove()})},Ace=({video:e,rootElement:t,paddingWrapper:r})=>{const n=(s,l)=>{const c=e.videoWidth/e.videoHeight,u=s/l;return c>u?"100%":`${l*c}px`},i=Bte(({width:s,height:l})=>{const c=e.videoHeight/e.videoWidth*100;if(r){const u=l/s*100;r.style.paddingBottom=`${u>c?c:u}%`,r.style.width=n(s,l)}},100),a=new ResizeObserver(s=>{s.forEach(l=>{if(l.contentBoxSize){const{inlineSize:c,blockSize:u}=Array.isArray(l.contentBoxSize)?l.contentBoxSize[0]:l.contentBoxSize;i({width:c,height:u})}else l.contentRect&&i({width:l.contentRect.width,height:l.contentRect.height})})}),o=()=>{const s=t.clientWidth,l=t.clientHeight;i({width:s,height:l})};return{start:()=>{a.observe(t),e.addEventListener("resize",o)},stop:()=>{a.disconnect(),e.removeEventListener("resize",o)}}},$3=async e=>{var t;try{const{room:r,rootElement:n,applyLocalVideoOverlay:i=!0,applyMemberOverlay:a=!0,mirrorLocalVideoOverlay:o=!0}=e;let s=!1;const l=new Map,c=$r();let u;n?u=n:(u=document.createElement("div"),u.id=`rootElement-${c}`);const d=gle(c),f=new xce({id:d,mirrorLocalVideoOverlay:o,room:r});i&&l.set(d,f);const h=Sce({applyLocalVideoOverlay:i,applyMemberOverlay:a,overlayMap:l,localVideoOverlay:f,mirrorLocalVideoOverlay:o,rootElement:u}),v=S=>{var w;(w=r.peer)!=null&&w.hasVideoSender&&r.localStream?h({layout:S.layout,localStream:r.localStream,memberId:r.memberId}):f.hide()},p=S=>{if(I().debug("Received layout.changed - videoTrack",s),s){v(S);return}},x=async S=>{s=!0,await Cce({applyLocalVideoOverlay:i,applyMemberOverlay:a,rootElement:u,track:S});const w=r.currentLayoutEvent;w&&v(w)},g=(t=r.peer)==null?void 0:t.remoteVideoTrack;g&&await x(g);const b=async function(S){S.track.kind==="video"&&await x(S.track)},_=()=>{wce(u),l.clear(),r.overlayMap=l,(jc(r)||kc(r))&&(r.off("track",b),r.off("layout.changed",p),r.off("destroy",_)),f.detachListeners()};return(jc(r)||kc(r))&&(r.on("track",b),r.on("layout.changed",p),r.once("destroy",_)),r.overlayMap=l,r.localVideoOverlay=f,{element:u,overlayMap:l,localVideoOverlay:f,unsubscribe:_}}catch(r){throw I().error("Unable to build the video element"),r}},Cce=async e=>{try{const{applyLocalVideoOverlay:t,applyMemberOverlay:r,track:n,rootElement:i}=e,a=L3();if(Ece({element:a,track:n}),a.style.width="100%",a.style.maxHeight="100%",i.querySelector(".mcuContent")){I().debug("MCU Content already there");return}const o=document.createElement("div");o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.right="0",o.style.bottom="0",o.appendChild(a);const s=document.createElement("div");s.classList.add("paddingWrapper"),s.style.paddingBottom="56.25%",s.style.position="relative",s.style.width="100%",s.appendChild(o);let l=null;(t||r)&&(l=document.createElement("div"),l.classList.add("mcuLayers"),l.style.display="none",s.appendChild(l));const c=document.createElement("div");c.classList.add("mcuContent"),c.style.position="relative",c.style.width="100%",c.style.height="100%",c.style.margin="0 auto",c.style.display="flex",c.style.alignItems="center",c.style.justifyContent="center",c.appendChild(s),i.style.width="100%",i.style.height="100%",i.appendChild(c),I().debug("MCU readyState 1 >>",a.readyState),a.readyState===HTMLMediaElement.HAVE_NOTHING&&(I().debug("Wait for the MCU to be ready"),await _ce({element:a})),I().debug("MCU is ready..");const u=Ace({rootElement:i,video:a,paddingWrapper:s});u.start(),n.addEventListener("ended",()=>{u&&u.stop()}),l&&(l.style.display="block")}catch(t){I().error("Handle video track error",t)}},Oce=class extends WD{constructor(){super(...arguments),se(this,"_videoManager"),se(this,"_chat"),se(this,"_pubSub")}get rooms(){return{makeRoomObject:e=>{const t=e,{rootElement:r,applyLocalVideoOverlay:n=!0,applyMemberOverlay:i=!0,mirrorLocalVideoOverlay:a=!0,stopCameraWhileMuted:o=!0,stopMicrophoneWhileMuted:s=!0}=t,l=ga(t,["rootElement","applyLocalVideoOverlay","applyMemberOverlay","mirrorLocalVideoOverlay","stopCameraWhileMuted","stopMicrophoneWhileMuted"]),c=[];c.push(C3({speakerId:l.speakerId}));const u=Lle(he(X({},l),{store:this.store,customSagas:c}));if(r)try{$3({applyLocalVideoOverlay:n,applyMemberOverlay:i,mirrorLocalVideoOverlay:a,room:u,rootElement:r})}catch{this.logger.error("Unable to build the video element automatically")}return u.on("room.subscribed",d=>{var f;const h=(f=d.room_session.members)==null?void 0:f.find(v=>v.id===u.memberId);if(h!=null&&h.audio_muted)try{u.stopOutboundAudio()}catch(v){this.logger.error("Error handling audio_muted",v)}if(h!=null&&h.video_muted)try{u.stopOutboundVideo()}catch(v){this.logger.error("Error handling video_muted",v)}}),s&&u.on("member.updated.audio_muted",({member:d})=>{try{d.id===u.memberId&&"audio_muted"in d&&(d.audio_muted?u.stopOutboundAudio():u.restoreOutboundAudio())}catch(f){this.logger.error("Error handling audio_muted",f)}}),o&&u.on("member.updated.video_muted",({member:d})=>{try{d.id===u.memberId&&"video_muted"in d&&(d.video_muted?u.stopOutboundVideo():u.restoreOutboundVideo())}catch(f){this.logger.error("Error handling video_muted",f)}}),u}}}get chat(){return this._chat||(this._chat=JD.createBaseChatObject({store:this.store})),this._chat}get pubSub(){return this._pubSub||(this._pubSub=N_.createBasePubSubObject({store:this.store})),this._pubSub}get videoManager(){return this._videoManager||(this._videoManager=hle(this.options)),this._videoManager}reauthenticate(e){this.store.dispatch(mi.reauthAction({token:e}))}},Tce=typeof CloseEvent=="function"?CloseEvent:Vte,U3=class extends Tre{constructor(e){var t;let r={};try{r=mh(e.token,{header:!0})}catch{}super(he(X({},e),{host:(r==null?void 0:r.ch)||e.host})),this.options=e,se(this,"WebSocketConstructor",WebSocket),se(this,"CloseEventConstructor",Tce),se(this,"agent","@signalwire/js/browser/3.29.1"),se(this,"tokenTyp"),this.tokenTyp=(t=r.typ)!=null?t:"VRT"}get allowReattach(){var e;return((e=this.options)==null?void 0:e.reattach)!==!1&&(this.isVRT()||this.isSAT())}async retrieveRelayProtocol(){var e,t;if(!this.allowReattach)return"";const{protocolKey:r}=Qn(this.options.token);return r?(this.logger.trace("Search protocol for",r),(t=(e=Ht())==null?void 0:e.getItem(r))!=null?t:""):""}async persistRelayProtocol(){var e;if(!this.allowReattach)return;const{protocolKey:t}=Qn(this.options.token);t&&(this.logger.trace("Persist protocol",t,this.relayProtocol),(e=Ht())==null||e.setItem(t,this.relayProtocol))}removeRelayProtocol(){var e;const{protocolKey:t}=Qn(this.options.token);t&&(this.logger.debug("Remove protocol",t,this.relayProtocol),(e=Ht())==null||e.removeItem(t))}removePrevCallId(){var e;const{callIdKey:t}=Qn(this.options.token);t&&(this.logger.debug("Remove Call",t),(e=Ht())==null||e.removeItem(t))}async retrieveSwAuthorizationState(){var e,t;const{authStateKey:r}=Qn(this.options.token);return r&&(t=(e=Ht())==null?void 0:e.getItem(r))!=null?t:""}async persistSwAuthorizationState(e){var t;if(!this.allowReattach)return;const{authStateKey:r}=Qn(this.options.token);r&&(this.logger.trace("Persist auth state",r,e),(t=Ht())==null||t.setItem(r,e))}removeSwAuthorizationState(){var e;const{authStateKey:t}=Qn(this.options.token);t&&(this.logger.trace("Remove auth state",t),(e=Ht())==null||e.removeItem(t))}_onSocketClose(e){var t,r,n;if(this.status==="disconnected"){const{protocolKey:i,authStateKey:a,callIdKey:o}=Qn(this.options.token);this.logger.debug("Cleaning up storage"),i&&(this.logger.debug("Remove protocolKey",i),(t=Ht())==null||t.removeItem(i)),a&&(this.logger.debug("Remove authStateKey",a),(r=Ht())==null||r.removeItem(a)),o&&(this.logger.debug("Remove callIdKey",o),(n=Ht())==null||n.removeItem(o))}super._onSocketClose(e)}isVRT(){return this.tokenTyp==="VRT"}isSAT(){return this.tokenTyp==="SAT"}},Ou=e=>{const t=he(X({},e),{emitter:HD()}),r=_u({userOptions:t,SessionConstructor:U3});return Wr({store:r,Component:Oce})(t)},Mce=["subscribe","publish","getMessages","getMembers","getMemberState","getAllowedChannels","setMemberState"],kce=function(e){const t=Ou(e),r=i=>async(...a)=>(await t.connect(),t.chat[i](...a)),n={_session:t,disconnect:()=>t.disconnect()};return new Proxy(t.chat,{get(i,a,o){return a in n?n[a]:Mce.includes(a)?r(a):Reflect.get(i,a,o)}})},jce={};Cu(jce,{Client:()=>Nce,PubSubMessage:()=>Rce});Object.keys(T_).map(e=>`member.updated.${e}`);var Pce=["getAllowedChannels","subscribe","publish"],Nce=function(e){const t=Ou(e),r=i=>async(...a)=>(await t.connect(),t.pubSub[i](...a)),n={_session:t,disconnect:()=>t.disconnect()};return new Proxy(t.pubSub,{get(i,a,o){return a in n?n[a]:Pce.includes(a)?r(a):Reflect.get(i,a,o)}})},Rce=N_.PubSubMessage,Dce={};Cu(Dce,{SignalWire:()=>V3,isFabricRoomSession:()=>jc});var Ice=0,Lce=0,zce=0,$ce=3e4;async function Uce(e,t,r,n,i){const a=await AD({asyncCallable:()=>fetch(e,t),maxRetries:r,validator:o=>{if(!o.ok&&o.status>=500)throw new Iy(o.status,o.statusText)},delayFn:ED({initialDelay:n,variation:i})});if(!a.ok){if(a.status===401)throw new C_(a.status,"Unauthorized");let o;try{o=await a.json()}catch{}const s=o!=null&&o.errors?JSON.stringify(o.errors):"Not Found";throw new Iy(a.status,s,o)}try{a.parsedBody=await a.json()}catch{}return a}var Bce=(e,t=Uce)=>{var r=e,{baseUrl:n,maxApiRequestRetries:i=Ice,apiRequestRetriesDelay:a=Lce,apiRequestRetriesDelayIncrement:o=zce,timeout:s=$ce}=r,l=ga(r,["baseUrl","maxApiRequestRetries","apiRequestRetriesDelay","apiRequestRetriesDelayIncrement","timeout"]);return async(u,d)=>{const f=X(X(X({},d!=null&&d.body?{"Content-Type":"application/json"}:{}),l.headers),d==null?void 0:d.headers),h=Hce(he(X(X({},l),d),{headers:f}));let v;if(s){const p=new AbortController,x=p.signal;h.signal=x,v=setTimeout(()=>{p.abort()},s)}try{return{body:(await t(Wce({path:u,baseUrl:n,searchParams:d==null?void 0:d.searchParams}),h,i,a,o)).parsedBody}}catch(p){throw p}finally{v&&clearTimeout(v)}}},Vce=e=>typeof e=="string"?e:JSON.stringify(e),Hce=e=>Object.entries(e).reduce((t,[r,n])=>r==="body"?he(X({},t),{body:Vce(n)}):n!=null?he(X({},t),{[r]:n}):t,{}),Wce=({path:e,baseUrl:t,searchParams:r})=>{const n=new URL(e,t);return r&&Object.entries(r).forEach(([i,a])=>{a!=null&&n.searchParams.append(i,a)}),n.toString()};function B3(e,t){const r=async n=>{if(!n)return Promise.resolve(void 0);const{body:i}=await t(n);return B3(i,t)};return{data:e.data,self:async()=>{const{self:n}=e.links;return r(n)},nextPage:async()=>{const{next:n}=e.links;return r(n)},prevPage:async()=>{const{prev:n}=e.links;return r(n)},firstPage:async()=>{const{first:n}=e.links;return r(n)},hasNext:!!e.links.next,hasPrev:!!e.links.prev}}function qce(e,t){const r=t.toString();return r?`${e}?${r}`:e}var Kce=e=>e&&"name"in e,Yce=e=>e&&"id"in e,Gce=e=>e&&"data"in e,Fce=class{constructor(e){this.options=e,se(this,"httpClient"),this.httpClient=Bce({baseUrl:`https://${this.httpHost}`,headers:{Authorization:`Bearer ${this.options.token}`},maxApiRequestRetries:this.options.maxApiRequestRetries,apiRequestRetriesDelay:this.options.apiRequestRetriesDelay,apiRequestRetriesDelayIncrement:this.options.apiRequestRetriesDelayIncrement})}get fetch(){return this.httpClient}get httpHost(){let e={};try{e=mh(this.options.token,{header:!0})}catch{}const t=this.options.host||(e==null?void 0:e.ch);return t?`fabric.${t.split(".").splice(1).join(".")}`:"fabric.signalwire.com"}async getAddress(e){let t="/api/fabric/addresses";Kce(e)?t=`${t}?name=${e.name}`:Yce(e)&&(t=`${t}/${e.id}`);const{body:r}=await this.httpClient(t);if(Gce(r)){if(!r.data[0])throw new Iy(404,"Not Found");return r.data[0]}return r}async getAddresses(e){const{type:t,displayName:r,pageSize:n,sortBy:i,sortOrder:a}=e||{};let o="/api/fabric/addresses";const s=new URLSearchParams;t&&s.append("type",t),r&&s.append("display_name",r),n&&s.append("page_size",n.toString()),i&&s.append("sort_by",i),a&&s.append("sort_order",a);const l=qce(o,s);I().debug(`[getAddresses] query URL ${l}`);const{body:c}=await this.httpClient(l);return B3(c,this.httpClient)}async registerDevice(e){const{deviceType:t,deviceToken:r}=e,n="/subscriber/devices",{body:i}=await this.httpClient(n,{method:"POST",body:{device_type:t,device_token:r}});return i}async unregisterDevice(e){const{id:t}=e,r=`/subscriber/devices/${t}`;await this.httpClient(r,{method:"DELETE"})}async getSubscriberInfo(){let e="/api/fabric/subscriber/info";const{body:t}=await this.httpClient(e);return t}},Xce=class{constructor(e){this.options=e,se(this,"_client"),se(this,"_pendingInvites",{}),se(this,"_handlers",{}),this._client=e.client}_buildNotification(e){const t=async n=>new Promise((i,a)=>{delete this._pendingInvites[e.callID];try{const o=this.options.buildInboundCall(e,n);o.answer(),i(o)}catch(o){a(o)}}),r=()=>(delete this._pendingInvites[e.callID],this.options.executeVertoBye(e.callID,e.nodeId));return{invite:{details:e,accept:n=>t(n),reject:()=>r()}}}setNotificationHandlers(e){this._handlers.all=e.all,(e.pushNotification&&this._handlers.all!=e.pushNotification||!e.pushNotification)&&(this._handlers.pushNotification=e.pushNotification),(e.websocket&&this._handlers.all!=e.websocket||!e.websocket)&&(this._handlers.websocket=e.websocket)}handleIncomingInvite(e){var t,r;if(e.callID in this._pendingInvites){this._client.logger.debug(`skiping nottification for pending invite to callID: ${e.callID}`);return}if(this._pendingInvites[e.callID]=e,!(this._handlers.all||this._handlers[e.source])){this._client.logger.warn("Skiping nottification due to no listeners");return}const n=this._buildNotification(e);(r=(t=this._handlers).all)==null||r.call(t,n);const i=this._handlers[e.source];i==null||i(n)}},Qce=class extends U3{constructor(e){super(e),this.options=e,se(this,"connectVersion",ore)}get signature(){if(this._rpcConnectResult){const{authorization:e}=this._rpcConnectResult;return e.jti}}async _checkTokenExpiration(){}async reauthenticate(){if(this.logger.debug("Session Reauthenticate",{ready:this.ready,expired:this.expired}),!this.ready||this.expired)return this.connect();const e={project:this._rpcConnectResult.authorization.project_id,jwt_token:this.options.token};try{const t=await this.execute(MD(e));this._rpcConnectResult=X(X({},this._rpcConnectResult),t)}catch(t){throw t}}async execute(e){return AD({asyncCallable:async()=>(await this._waitConnected(),super.execute(e)),maxRetries:this.options.maxApiRequestRetries,delayFn:ED({initialDelay:this.options.apiRequestRetriesDelay,variation:this.options.apiRequestRetriesDelayIncrement}),expectedErrorHandler:t=>(I().warn(t),CD(e)?!0:are(e)&&![yD,bD].includes(t)?(I().debug("skip verto.invite retry on error:",t),!0):!1)})}},Zce=e=>{const t=_u({userOptions:e,SessionConstructor:Qce});return he(X({},e),{store:t})},Jce=class extends WD{constructor(e){const t=Zce(e);super(t),this.wsClientOptions=e,se(this,"_incomingCallManager"),se(this,"_disconnected",!1),this._incomingCallManager=new Xce({client:this,buildInboundCall:this.buildInboundCall.bind(this),executeVertoBye:this.executeVertoBye.bind(this)}),this.runWorker("wsClientWorker",{worker:Ble,initialState:{handleIncomingInvite:r=>{this._incomingCallManager.handleIncomingInvite(X({source:"websocket"},r))}}}),this.initializeSessionConnectionPool()}makeFabricObject(e){const t=e,{rootElement:r,applyLocalVideoOverlay:n=!0,applyMemberOverlay:i=!0,stopCameraWhileMuted:a=!0,stopMicrophoneWhileMuted:o=!0,mirrorLocalVideoOverlay:s=!0}=t,l=ga(t,["rootElement","applyLocalVideoOverlay","applyMemberOverlay","stopCameraWhileMuted","stopMicrophoneWhileMuted","mirrorLocalVideoOverlay"]),c=bce(he(X({},l),{store:this.store}));if(r)try{$3({applyLocalVideoOverlay:n,applyMemberOverlay:i,mirrorLocalVideoOverlay:s,room:c,rootElement:r})}catch{this.logger.error("Unable to build the video element automatically")}const u=d=>{var f;const h=(f=d.room_session.members)==null?void 0:f.find(v=>v.member_id===c.memberId);if(h!=null&&h.audio_muted)try{c.stopOutboundAudio()}catch(v){this.logger.error("Error handling audio_muted",v)}if(h!=null&&h.video_muted)try{c.stopOutboundVideo()}catch(v){this.logger.error("Error handling video_muted",v)}};return c.on("room.subscribed",u),o&&c.on("member.updated.audioMuted",({member:d})=>{try{d.member_id===c.memberId&&"audio_muted"in d&&(d.audio_muted?c.stopOutboundAudio():c.restoreOutboundAudio())}catch(f){this.logger.error("Error handling audio_muted",f)}}),a&&c.on("member.updated.videoMuted",({member:d})=>{try{d.member_id===c.memberId&&"video_muted"in d&&(d.video_muted?c.stopOutboundVideo():c.restoreOutboundVideo())}catch(f){this.logger.error("Error handling video_muted",f)}}),c}buildOutboundCall(e){var t,r,n,i,a,o;let s=!1,l=!1;if(e.to){const[u,d]=e.to.split("?");if(!u)throw new Error("Invalid destination address");new URLSearchParams(d).get("channel")==="video"&&(s=!0,l=!0)}const c=this.makeFabricObject({audio:(t=e.audio)!=null?t:!0,video:(r=e.video)!=null?r:s,negotiateAudio:(n=e.negotiateAudio)!=null?n:!0,negotiateVideo:(i=e.negotiateVideo)!=null?i:l,rootElement:e.rootElement||this.wsClientOptions.rootElement,applyLocalVideoOverlay:e.applyLocalVideoOverlay,applyMemberOverlay:e.applyMemberOverlay,stopCameraWhileMuted:e.stopCameraWhileMuted,stopMicrophoneWhileMuted:e.stopMicrophoneWhileMuted,mirrorLocalVideoOverlay:e.mirrorLocalVideoOverlay,watchMediaPackets:!1,destinationNumber:(a=e.to)!=null?a:"",nodeId:e.nodeId,attach:(o=e.attach)!=null?o:!1,disableUdpIceServers:e.disableUdpIceServers||!1,userVariables:e.userVariables||this.wsClientOptions.userVariables,fromFabricAddressId:e.fromFabricAddressId});return c.once("destroy",()=>{this.logger.debug("RTC Connection Destroyed"),c.destroy()}),this.session.once("session.disconnected",()=>{this.logger.debug("Session Disconnected"),c.destroy(),this.destroy()}),c.attachPreConnectWorkers(),c}buildInboundCall(e,t){var r,n,i,a;const o=this.makeFabricObject({audio:(r=t.audio)!=null?r:!0,video:(n=t.video)!=null?n:!0,negotiateAudio:(i=t.negotiateAudio)!=null?i:!0,negotiateVideo:(a=t.negotiateVideo)!=null?a:!0,rootElement:t.rootElement||this.wsClientOptions.rootElement,applyLocalVideoOverlay:!0,applyMemberOverlay:!0,stopCameraWhileMuted:!0,stopMicrophoneWhileMuted:!0,watchMediaPackets:!1,nodeId:e.nodeId,remoteSdp:e.sdp,prevCallId:e.callID,disableUdpIceServers:t.disableUdpIceServers||!1,userVariables:t.userVariables||this.wsClientOptions.userVariables});return o.once("destroy",()=>{this.logger.debug("RTC Connection Destroyed"),o.destroy()}),this.session.once("session.disconnected",()=>{this.logger.debug("Session Disconnected"),o.destroy(),this.destroy()}),o.attachPreConnectWorkers(),o}async executeVertoBye(e,t){try{return await this.execute({method:"webrtc.verto",params:{callID:e,node_id:t,message:dre({cause:"USER_BUSY",causeCode:"17",dialogParams:{callID:e}})}})}catch(r){throw this.logger.warn("The call is not available anymore",e),r}}async executeVertoSubscribe(e,t){try{return await this.execute({method:"webrtc.verto",params:{callID:e,node_id:t,subscribe:[],message:fre({sessid:e,eventChannel:[]})}})}catch(r){throw this.logger.warn("The call is not available anymore",e),r}}disconnect(){return new Promise((e,t)=>{this._disconnected&&e(),this.session.once("session.disconnected",()=>{this.destroy(),e(),this._disconnected=!0}),super.disconnect()})}async dial(e){return new Promise(async(t,r)=>{var n;try{(n=Ht())==null||n.removeItem(Pd);const i=this.buildOutboundCall(e);t(i)}catch(i){this.logger.error("Unable to connect and dial a call",i),r(i)}})}async reattach(e){return new Promise(async(t,r)=>{try{const n=this.buildOutboundCall(he(X({},e),{attach:!0}));t(n)}catch(n){this.logger.error("Unable to connect and reattach a call",n),r(n)}})}handlePushNotification(e){const{incomingCallHandler:t}=e;return this._incomingCallManager.setNotificationHandlers({pushNotification:t}),new Promise(async(r,n)=>{const{decrypted:i,type:a}=e;a!=="call_invite"&&(this.logger.warn("Unknown notification type",e),n("Unknown notification type")),this.logger.debug("handlePushNotification",e);const{params:{params:o},node_id:s}=i;try{try{await this.executeVertoSubscribe(o.callID,s)}catch(l){this.logger.warn("Verto Subscribe",l)}this._incomingCallManager.handleIncomingInvite(X({source:"pushNotification",nodeId:s},o)),r({resultType:"inboundCall"})}catch(l){n(l)}})}updateToken(e){return new Promise((t,r)=>{this.session.once("session.auth_error",n=>{r(n)}),this.session.once("session.connected",()=>{t()}),this.store.dispatch(mi.reauthAction({token:e}))})}async online({incomingCallHandlers:e}){return(e.all||e.pushNotification)&&this.logger.warn("Make sure the device is not registered to receive Push Notifications while it is online"),this._incomingCallManager.setNotificationHandlers(e),this.execute({method:"subscriber.online",params:{}})}offline(){return this._incomingCallManager.setNotificationHandlers({}),this.execute({method:"subscriber.offline",params:{}})}initializeSessionConnectionPool(){this.runWorker("sessionConnectionPoolWorker",{worker:Zse,initialState:{poolSize:1,iceCandidatePoolSize:10}})}},V3=(()=>{let e=null;return t=>(e||(e=new Promise(async(r,n)=>{try{const i=X({maxApiRequestRetries:zle,apiRequestRetriesDelay:$le,apiRequestRetriesDelayIncrement:Ule},t),a=new Jce(i),o=new Fce(i),s=l=>()=>{throw new Error(`This version Conversation.${l} is unsupported by the backend. Use @signalwire/client instead.`)};await a.connect(),r({registerDevice:o.registerDevice.bind(o),unregisterDevice:o.unregisterDevice.bind(o),getSubscriberInfo:o.getSubscriberInfo.bind(o),disconnect:async()=>{await a.disconnect(),e=null},online:a.online.bind(a),offline:a.offline.bind(a),dial:a.dial.bind(a),reattach:a.reattach.bind(a),handlePushNotification:a.handlePushNotification.bind(a),updateToken:a.updateToken.bind(a),address:{getAddresses:o.getAddresses.bind(o),getAddress:o.getAddress.bind(o)},conversation:{getConversations:s("getConversations"),getMessages:s("getMessages"),getConversationMessages:s("getConversationMessages"),subscribe:s("subscribe"),sendMessage:s("sendMessage"),join:s("join")},chat:{getMessages:s("getMessages"),subscribe:s("subscribe"),sendMessage:s("sendMessage"),join:s("join")},on:a.on.bind(a),off:a.off.bind(a),__httpClient:o,__wsClient:a})}catch(i){n(i)}}).catch(r=>{throw e=null,r})),e)})(),eue={};Cu(eue,{RoomSession:()=>oue,createClient:()=>Ou,createRoomObject:()=>H3,isVideoRoomSession:()=>kc,joinRoom:()=>rue});var tue={aspectRatio:{ideal:16/9}},H3=e=>new Promise(async(t,r)=>{const n=e,{audio:i=!0,video:a=!0,iceServers:o,rootElementId:s,applyLocalVideoOverlay:l=!0,autoJoin:c=!1,stopCameraWhileMuted:u=!0,stopMicrophoneWhileMuted:d=!0,speakerId:f}=n,h=ga(n,["audio","video","iceServers","rootElementId","applyLocalVideoOverlay","autoJoin","stopCameraWhileMuted","stopMicrophoneWhileMuted","speakerId"]),v=Ou(X({},h));if(await v.connect(),!v)return;let p;if(s){const _=document.getElementById(s);_?p=_:(p=document.body,I().warn(`We couldn't find an element with id: ${s}: using 'document.body' instead.`))}const x=v.rooms.makeRoomObject({audio:i,video:a===!0?tue:a,negotiateAudio:!0,negotiateVideo:!0,iceServers:o,rootElement:p,applyLocalVideoOverlay:l,stopCameraWhileMuted:u,stopMicrophoneWhileMuted:d,speakerId:f});x.once("destroy",()=>{x.emit("room.left"),v.disconnect()});const g=()=>new Promise(async(_,S)=>{try{x.once("room.subscribed",w=>{_(x)}),await x.join()}catch(w){I().error("Join",w),v.disconnect(),S(w)}}),b=new Proxy(x,{get(_,S,w){return S==="join"?g:Reflect.get(_,S,w)}});if(c)try{await b.join(),t(b)}catch(_){r(_)}else t(b)}),rue=e=>H3(he(X({},e),{autoJoin:!0})),nue=["audioMute","audioUnmute","deaf","getLayouts","getMembers","getRecordings","hideVideoMuted","leave","removerMember","restoreOutboundAudio","restoreOutboundVideo","setInputSensitivity","setInputVolume","setLayout","setPositions","setMemberPosition","setOutputVolume","showVideoMuted","startRecording","stopOutboundAudio","stopOutboundVideo","undeaf","videoMute","videoUnmute","setMicrophoneVolume","setSpeakerVolume","getMeta","setMeta","updateMeta","deleteMeta","getMemberMeta","setMemberMeta","updateMemberMeta","deleteMemberMeta","promote","demote","lock","unlock"],iue=["member.joined","layout.changed"],aue=()=>{},oue=function(e){const t=e,{audio:r=!0,video:n=!0,iceServers:i,rootElement:a,applyLocalVideoOverlay:o=!0,mirrorLocalVideoOverlay:s=!1,stopCameraWhileMuted:l=!0,stopMicrophoneWhileMuted:c=!0,speakerId:u,destinationNumber:d,localStream:f,watchMediaPackets:h,watchMediaPacketsTimeout:v,disableUdpIceServers:p=!1}=t,x=ga(t,["audio","video","iceServers","rootElement","applyLocalVideoOverlay","mirrorLocalVideoOverlay","stopCameraWhileMuted","stopMicrophoneWhileMuted","speakerId","destinationNumber","localStream","watchMediaPackets","watchMediaPacketsTimeout","disableUdpIceServers"]);["audio","video"].forEach(O=>{O in e&&I().warn(`The '${O}' parameter on the RoomSession constructor is deprecated. Set it on the '.join()' function instead.`)});const b=(e==null?void 0:e.reattach)!==!1,{callIdKey:_}=Qn(x.token),S={joined:({call_id:O})=>{var P;b&&_&&((P=Ht())==null||P.setItem(_,O))},init:()=>{b&&E.on("room.subscribed",S.joined),E.options.prevCallId=S.getPrevCallId()},destroy:()=>{var O;b&&(E.off("room.subscribed",S.joined),_&&((O=Ht())==null||O.removeItem(_)))},getPrevCallId:()=>{var O,P;if(!(!b||!_))return(P=(O=Ht())==null?void 0:O.getItem(_))!=null?P:void 0}},w=Ou(x),E=w.rooms.makeRoomObject({negotiateAudio:!0,negotiateVideo:!0,iceServers:i,rootElement:a,applyLocalVideoOverlay:o,mirrorLocalVideoOverlay:s,stopCameraWhileMuted:l,stopMicrophoneWhileMuted:c,speakerId:u,destinationNumber:d,localStream:f,watchMediaPackets:h,watchMediaPacketsTimeout:v,prevCallId:S.getPrevCallId(),disableUdpIceServers:p});E.once("destroy",()=>{E.emit("room.left",{reason:E.leaveReason}),S.destroy(),w.disconnect()}),w.session.once("session.disconnected",()=>{E.destroy()});const C={join:O=>new Promise(async(P,k)=>{var N,V;try{E.attachPreConnectWorkers(),await w.connect();const H=(N=O==null?void 0:O.audio)!=null?N:r,$=(V=O==null?void 0:O.video)!=null?V:n,R=w._sessionAuthorization;if(I().debug("getJoinMediaParams authorization?",R),R&&R.type==="video"){const M=vle(X({authorization:R,sendAudio:!!H,sendVideo:!!$},O));if(!ple(M))return w.disconnect(),k(new Error(`Invalid arguments to join the room. The token used has join_as: '${R.join_as}'. 
${JSON.stringify(O,null,2)}
`));I().debug("Set mediaOptions",M),E.updateMediaOptions({audio:M.mustSendAudio?H||!0:!1,video:M.mustSendVideo?$||!0:!1,negotiateAudio:M.mustRecvAudio,negotiateVideo:M.mustRecvVideo})}E.once("room.subscribed",()=>{P(E)}),S.init(),iue.forEach(M=>E.once(M,aue)),await E.join()}catch(H){I().error("RoomSession Join",H),w.disconnect(),k(H)}})};return new Proxy(E,{get(O,P,k){if(P in C)return C[P];if(!O.active&&nue.includes(P))throw new Error(`Tried to access the property/method "${P}" before the room was connected. Please call roomSession.join() first.`);return Reflect.get(O,P,k)}})},sue={};Cu(sue,{checkCameraPermissions:()=>oS,checkMicrophonePermissions:()=>sS,checkPermissions:()=>Au,checkSpeakerPermissions:()=>v3,createCameraDeviceWatcher:()=>Ese,createDeviceWatcher:()=>dv,createMicrophoneAnalyzer:()=>Tse,createMicrophoneDeviceWatcher:()=>wse,createSpeakerDeviceWatcher:()=>y3,enumerateDevices:()=>dh,enumerateDevicesByKind:()=>aS,getCameraDevices:()=>gse,getCameraDevicesWithPermissions:()=>mse,getDevices:()=>tl,getDevicesWithPermissions:()=>uv,getDisplayMedia:()=>p3,getMicrophoneDevices:()=>yse,getMicrophoneDevicesWithPermissions:()=>vse,getSpeakerDevices:()=>g3,getSpeakerDevicesWithPermissions:()=>pse,getSupportedConstraints:()=>m3,getUserMedia:()=>el,requestPermissions:()=>fse,setMediaElementSinkId:()=>rS,stopStream:()=>nS,stopTrack:()=>Qi,supportsGetDisplayMedia:()=>ose,supportsGetUserMedia:()=>ase,supportsMediaDevices:()=>h3,supportsMediaOutput:()=>cv});class lue{constructor(){this.client=null,this.activeCall=null,this.onConnect=null,this.onDisconnect=null,this.onError=null}async initialize(t){try{console.log("[SignalWire] Initializing browser calling with Relay SDK...");const r="https://salescallagent.my/api",n=localStorage.getItem("token");if(!n)return console.warn("[SignalWire] No auth token found - user not logged in"),console.log("[SignalWire] Voice service will initialize when user logs in"),!1;const i=new URL(`${r}/calls/browser-token`);i.searchParams.set("ts",Date.now().toString());const a=await fetch(i.toString(),{method:"GET",cache:"no-store",headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}});if(!a.ok){const l=await a.text();throw console.error("[SignalWire] Failed to get token:",a.status,l),new Error(`Failed to get voice token: ${a.status}`)}if(a.status===204)return console.warn("[SignalWire] Browser token endpoint returned 204 No Content"),!1;if(a.status===304)return console.warn("[SignalWire] Browser token request returned 304 (cached) - retrying will include cache busting"),!1;const o=a.headers.get("content-type");if(!o||!o.includes("application/json"))return console.error("[SignalWire] Invalid response type:",o),!1;const s=await a.json();return console.log("[SignalWire] JWT token received, initializing Relay SDK client..."),this.client=await V3({host:"adoptify.signalwire.com",token:s.token,logLevel:"debug"}),console.log("[SignalWire]  Client ready - browser calling enabled! "),!0}catch(r){console.error("[SignalWire] Initialization failed:",r);const n=(r==null?void 0:r.message)||(r==null?void 0:r.toString())||"Failed to initialize";return this.onError&&this.onError(n),!1}}async makeCall(t,r,n,i){if(!this.client){console.log("[SignalWire] Client not ready, initializing now...");try{if(!await this.initialize("")||!this.client)throw new Error("Voice service is not ready. Please ensure you are logged in and try again.")}catch(a){console.error("[SignalWire] Failed to initialize on call:",a);const o=(a==null?void 0:a.message)||"Please log in to make calls";throw new Error(o)}}if(!this.client)throw new Error("Client not initialized - please refresh the page and log in");try{return console.log("[SignalWire]  Making browser call to:",t,"from:",r),this.activeCall=await this.client.dial({to:`/public/${t}`,nodeId:void 0}),this.activeCall.on("call.state",a=>{console.log("[SignalWire] Call state changed:",a.call_state),a.call_state==="ended"&&(this.activeCall=null,this.onDisconnect&&this.onDisconnect())}),this.activeCall.on("call.joined",a=>{console.log("[SignalWire]  Call connected - AUDIO STREAMING IN BROWSER "),this.onConnect&&this.onConnect()}),await this.activeCall.start(),{sid:this.activeCall.call_id||"unknown",status:"initiated"}}catch(a){console.error("[SignalWire] Failed to make call:",a);const o=(a==null?void 0:a.message)||(a==null?void 0:a.toString())||"Failed to initiate call";throw this.onError&&this.onError(o),new Error(o)}}async hangup(){this.activeCall&&(console.log("[SignalWire] Hanging up call"),await this.activeCall.hangup(),this.activeCall=null)}mute(){this.activeCall&&(this.activeCall.audioMute(),console.log("[SignalWire]  Microphone muted"))}unmute(){this.activeCall&&(this.activeCall.audioUnmute(),console.log("[SignalWire]  Microphone unmuted"))}async destroy(){this.activeCall&&(await this.activeCall.hangup(),this.activeCall=null),this.client&&(await this.client.disconnect(),this.client=null)}getCallStatus(){return this.activeCall?this.activeCall.state||"unknown":"idle"}}const Ta=new lue,cue=({twilioNumbers:e,onCall:t})=>{const[r,n]=y.useState(""),[i,a]=y.useState(""),[o,s]=y.useState(e.length>0?e[0]:null),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState("");y.useEffect(()=>{let w=!0,E;const A=()=>{w&&c(!0)},C=async()=>{if(w)try{const P=await Ta.initialize("");A(),console.log(P?"[ManualDialer] Voice service initialized - browser calling ready!":"[ManualDialer] Voice service not ready yet - will retry when needed")}catch(P){console.warn("[ManualDialer] Voice initialization skipped:",P),A()}};E=window.setTimeout(C,500);const O=P=>{w&&localStorage.getItem("token")&&(console.log("[ManualDialer] Auth token detected, re-initializing voice..."),window.clearTimeout(E),E=window.setTimeout(C,200))};return window.addEventListener("storage",O),window.addEventListener("voice-auth-ready",O),Ta.onConnect=()=>{w&&(d(!0),h("Connected - Audio streaming in browser"))},Ta.onDisconnect=()=>{w&&(d(!1),h(""),n(""),a(""))},Ta.onError=P=>{w&&(h(`Error: ${P}`),d(!1))},()=>{w=!1,window.removeEventListener("storage",O),window.removeEventListener("voice-auth-ready",O),E&&window.clearTimeout(E),Ta.destroy()}},[]);const v=w=>{r.length<15&&n(E=>E+w)},p=()=>{n(w=>w.slice(0,-1))},x=()=>{n(""),a("")},g=w=>{const E=w.replace(/\D/g,"");return E.length===0?"":E.length<=3?E:E.length<=6?`(${E.slice(0,3)}) ${E.slice(3)}`:`(${E.slice(0,3)}) ${E.slice(3,6)}-${E.slice(6,10)}`},b=async()=>{if(!r||!o)return;if(r.replace(/\D/g,"").length<10){alert("Please enter a valid 10-digit phone number");return}try{h("Initiating call...");const E=df(r),A=i.trim()||"Manual Call";await Ta.makeCall(E,o.number,A),h("Calling... Listen for audio in your browser!")}catch(E){console.error("[ManualDialer] Call failed:",E),h(`Call failed: ${E.message}`),setTimeout(()=>h(""),3e3)}},_=async()=>{await Ta.hangup(),d(!1),h("")},S=[["1","2","3"],["4","5","6"],["7","8","9"],["*","0","#"]];return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Manual Dialer"}),m.jsx("p",{className:"text-slate-600",children:"Enter a phone number and make a call"})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contact Name (Optional)"}),m.jsxs("div",{className:"relative",children:[m.jsx(Jb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),m.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:"Enter contact name",className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),m.jsx("div",{className:"mb-8",children:m.jsx("div",{className:"bg-slate-50 rounded-xl p-6 border-2 border-slate-200",children:m.jsx("div",{className:"text-center",children:m.jsx("div",{className:"text-3xl font-mono font-semibold text-slate-800 min-h-[40px] tracking-wider",children:g(r)||"Enter Number"})})})}),m.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:S.map((w,E)=>m.jsx(Gr.Fragment,{children:w.map(A=>m.jsx("button",{onClick:()=>v(A),className:"bg-slate-100 hover:bg-slate-200 active:bg-slate-300 rounded-xl p-6 text-2xl font-semibold text-slate-800 transition-all transform hover:scale-105 active:scale-95 shadow-sm",children:A},A))},E))}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[m.jsxs("button",{onClick:p,className:"flex items-center justify-center gap-2 bg-slate-200 hover:bg-slate-300 text-slate-700 py-4 rounded-xl font-semibold transition-all",children:[m.jsx(v4,{size:20}),"Backspace"]}),m.jsx("button",{onClick:x,className:"bg-slate-200 hover:bg-slate-300 text-slate-700 py-4 rounded-xl font-semibold transition-all",children:"Clear"})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Call From"}),m.jsx("select",{value:(o==null?void 0:o.sid)||"",onChange:w=>{const E=e.find(A=>A.sid===w.target.value);s(E||null)},className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:e.map(w=>m.jsxs("option",{value:w.sid,children:[w.number," ",w.label?`(${w.label})`:""]},w.sid))})]}),m.jsxs("button",{onClick:u?_:b,disabled:!l||!u&&(r.replace(/\D/g,"").length<10||!o),className:`w-full py-6 rounded-xl font-bold text-xl transition-all shadow-lg flex items-center justify-center gap-3 ${u?"bg-red-600 hover:bg-red-700 text-white cursor-pointer":l&&r.replace(/\D/g,"").length>=10&&o?"bg-green-600 hover:bg-green-700 text-white cursor-pointer animate-pulse":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:[m.jsx(it,{size:28,className:u?"animate-bounce":""}),m.jsx("span",{className:"font-extrabold",children:u?"HANG UP":l?r.replace(/\D/g,"").length<10?`ENTER ${10-r.replace(/\D/g,"").length} MORE DIGITS`:"CALL NOW":"INITIALIZING..."})]}),f&&m.jsx("div",{className:`mt-4 p-4 rounded-lg text-center font-medium ${f.includes("Error")||f.includes("failed")?"bg-red-100 text-red-700 border border-red-300":f.includes("Connected")?"bg-green-100 text-green-700 border border-green-300":"bg-blue-100 text-blue-700 border border-blue-300"}`,children:f})]}),m.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[m.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Tips:"}),m.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[m.jsx("li",{children:" Enter a 10-digit US phone number"}),m.jsx("li",{children:" Use the keypad or type directly in the name field"}),m.jsx("li",{children:" Select which Twilio number to call from"}),m.jsx("li",{children:" Add a contact name to help identify the call"})]})]})]})})},Mp="https://salescallagent.my/api";class uue{constructor(){this.mediaRecorder=null,this.recordedChunks=[],this.stream=null}async startLocalRecording(t){try{this.stream=t,this.recordedChunks=[];const r={mimeType:"audio/webm;codecs=opus"};this.mediaRecorder=new MediaRecorder(t,r),this.mediaRecorder.ondataavailable=n=>{n.data.size>0&&this.recordedChunks.push(n.data)},this.mediaRecorder.start(1e3),console.log("Local recording started")}catch(r){throw console.error("Error starting local recording:",r),r}}async stopLocalRecording(){return new Promise((t,r)=>{if(!this.mediaRecorder){r(new Error("No active recording"));return}this.mediaRecorder.onstop=()=>{const n=new Blob(this.recordedChunks,{type:"audio/webm"});this.recordedChunks=[],t(n)},this.mediaRecorder.stop(),console.log("Local recording stopped")})}async startRecording(t,r){try{const n=await fetch(`${Mp}/recordings/start`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({callSid:t})});if(!n.ok)throw new Error("Failed to start recording");const i=await n.json();return console.log("Server recording started:",i.recordingSid),i}catch(n){throw console.error("Error starting server recording:",n),n}}async stopRecording(t,r,n){try{const i=await fetch(`${Mp}/recordings/stop`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({callSid:t,recordingSid:r})});if(!i.ok)throw new Error("Failed to stop recording");const a=await i.json();return console.log("Server recording stopped"),a}catch(i){throw console.error("Error stopping server recording:",i),i}}async getRecordingUrl(t,r){try{if(!t)throw new Error("Call ID is required");if(!r)throw new Error("Authentication token is required");const n=await fetch(`${Mp}/calls/${t}/recording`,{headers:{Authorization:`Bearer ${r}`}});if(n.status===404)throw new Error("Recording not available for this call");if(n.status===401)throw new Error("Authentication failed. Please log in again.");if(!n.ok){const a=await n.json().catch(()=>({error:"Unknown error"}));throw new Error(a.error||"Failed to get recording")}const i=await n.json();if(!i.success||!i.url)throw new Error("Invalid response from server");return i.url}catch(n){throw console.error("[CallRecordingService] Error getting recording URL:",n),n}}downloadRecording(t,r="recording.webm"){const n=URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=n,i.download=r,document.body.appendChild(i),i.click(),setTimeout(()=>{document.body.removeChild(i),URL.revokeObjectURL(n)},100)}}const NC=new uue,due=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,a]=y.useState(0),[o,s]=y.useState(null),[l,c]=y.useState(null),u=y.useRef(null);y.useEffect(()=>{d()},[]);const d=async()=>{try{const b=localStorage.getItem("token"),S=await fetch("https://salescallagent.my/api/calls/history?limit=100",{headers:{Authorization:`Bearer ${b}`}});if(!S.ok)throw new Error("Failed to fetch call history");const w=await S.json();t(w.calls||[]),a(w.total||0)}catch(b){console.error("Error fetching call history:",b)}finally{n(!1)}},f=b=>{if(b===0)return"--";const _=Math.floor(b/60),S=b%60;return`${_}:${S.toString().padStart(2,"0")}`},h=b=>{const _=new Date(b),S=new Date,w=new Date(S);return w.setDate(w.getDate()-1),_.toDateString()===S.toDateString()?`Today, ${_.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:_.toDateString()===w.toDateString()?`Yesterday, ${_.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:_.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},v=b=>{const _=b.toLowerCase();return _==="completed"||_==="answered"?"text-green-600 bg-green-50":_==="busy"||_==="failed"||_==="no-answer"?"text-red-600 bg-red-50":"text-yellow-600 bg-yellow-50"},p=b=>{const _=b.toLowerCase();return _==="completed"||_==="answered"?m.jsx(Ka,{size:14}):_==="busy"||_==="failed"||_==="no-answer"?m.jsx(v5,{size:14}):m.jsx(z4,{size:14})},x=async b=>{if(!b.recordingSid){alert("No recording available for this call");return}try{if(c(b.id),o===b.id&&u.current)u.current.pause(),s(null);else{const _=localStorage.getItem("token");if(!_)throw new Error("No auth token");const S=await NC.getRecordingUrl(b.id,_);u.current&&(u.current.src=S,u.current.play(),s(b.id),u.current.onended=()=>{s(null)})}}catch(_){console.error("Error playing recording:",_),alert(_.message||"Failed to play recording")}finally{c(null)}},g=async b=>{if(!b.recordingSid){alert("No recording available for this call");return}try{c(b.id);const _=localStorage.getItem("token");if(!_)throw new Error("No auth token");const S=await NC.getRecordingUrl(b.id,_),w=document.createElement("a");w.href=S,w.download=`recording-${b.contactName}-${new Date(b.createdAt).toISOString()}.mp3`,document.body.appendChild(w),w.click(),document.body.removeChild(w)}catch(_){console.error("Error downloading recording:",_),alert(_.message||"Failed to download recording")}finally{c(null)}};return r?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"h-full p-8 bg-slate-50 overflow-auto",children:[m.jsx("audio",{ref:u,className:"hidden"}),m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-slate-800 mb-2",children:"Call History"}),m.jsx("p",{className:"text-slate-600",children:"View all your past calls and activity"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Total Calls"}),m.jsx("p",{className:"text-3xl font-bold text-slate-800",children:i})]}),m.jsx(it,{className:"text-blue-500",size:32})]})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Completed"}),m.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(b=>b.status.toLowerCase()==="completed").length})]}),m.jsx(Ka,{className:"text-green-500",size:32})]})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Avg Duration"}),m.jsx("p",{className:"text-3xl font-bold text-slate-800",children:f(Math.round(e.reduce((b,_)=>b+_.duration,0)/(e.length||1)))})]}),m.jsx(cf,{className:"text-purple-500",size:32})]})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-slate-500 text-sm mb-1",children:"Today"}),m.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.filter(b=>{const _=new Date(b.createdAt),S=new Date;return _.toDateString()===S.toDateString()}).length})]}),m.jsx(V1,{className:"text-blue-500",size:32})]})})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-slate-200",children:m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Calls"})}),e.length===0?m.jsxs("div",{className:"p-12 text-center",children:[m.jsx(it,{className:"mx-auto text-slate-300 mb-4",size:64}),m.jsx("p",{className:"text-slate-500 text-lg",children:"No calls yet"}),m.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Your call history will appear here"})]}):m.jsx("div",{className:"divide-y divide-slate-100",children:e.map(b=>m.jsx("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[m.jsx("div",{className:`p-3 rounded-full ${b.direction==="outbound"?"bg-blue-100":"bg-green-100"}`,children:m.jsx(it,{size:20,className:b.direction==="outbound"?"text-blue-600":"text-green-600"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[m.jsx("h3",{className:"font-semibold text-slate-800",children:b.contactName}),m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${v(b.status)}`,children:[p(b.status),b.status]})]}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(Jb,{size:14}),b.to]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(cf,{size:14}),f(b.duration)]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(V1,{size:14}),h(b.createdAt)]}),b.voicemailDetected&&m.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-yellow-100 text-yellow-800 font-medium",children:"Voicemail"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[b.recordingSid&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>x(b),disabled:l===b.id,className:"p-2 rounded-lg hover:bg-slate-100 transition-colors disabled:opacity-50",title:o===b.id?"Pause":"Play Recording",children:l===b.id?m.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}):o===b.id?m.jsx(VM,{size:18,className:"text-blue-600"}):m.jsx(Cg,{size:18,className:"text-blue-600"})}),m.jsx("button",{onClick:()=>g(b),disabled:l===b.id,className:"p-2 rounded-lg hover:bg-slate-100 transition-colors disabled:opacity-50",title:"Download Recording",children:m.jsx(g4,{size:18,className:"text-slate-600"})})]}),m.jsxs("div",{className:"text-right ml-4",children:[m.jsx("span",{className:"text-xs text-slate-400 uppercase",children:b.direction}),b.recordingSid&&m.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 mt-1",children:[m.jsx(A5,{size:12}),"Recorded"]})]})]})]})},b.id))})]})]})]})},Fn="https://salescallagent.my/api";class fue{constructor(){this.token=null,this.eventListeners=new Map,this.token=localStorage.getItem("token")}async startSession(t,r){try{const n=await fetch(`${Fn}/power-dialer/start`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({campaignId:t,callerId:r})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to start power dialer")}const i=await n.json();return this.emit("sessionStarted",i.session),i.session}catch(n){throw console.error("Error starting power dialer:",n),n}}async pauseSession(){try{const t=await fetch(`${Fn}/power-dialer/pause`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`}});if(!t.ok)throw new Error("Failed to pause power dialer");const r=await t.json();this.emit("sessionPaused",r.session)}catch(t){throw console.error("Error pausing power dialer:",t),t}}async resumeSession(){try{const t=await fetch(`${Fn}/power-dialer/resume`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`}});if(!t.ok)throw new Error("Failed to resume power dialer");const r=await t.json();this.emit("sessionResumed",r.session)}catch(t){throw console.error("Error resuming power dialer:",t),t}}async skipCurrent(){try{const t=await fetch(`${Fn}/power-dialer/skip`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`}});if(!t.ok)throw new Error("Failed to skip call");const r=await t.json();this.emit("callSkipped",r.session)}catch(t){throw console.error("Error skipping call:",t),t}}async stopSession(){try{const t=await fetch(`${Fn}/power-dialer/stop`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`}});if(!t.ok)throw new Error("Failed to stop power dialer");const r=await t.json();this.emit("sessionStopped",r.session)}catch(t){throw console.error("Error stopping power dialer:",t),t}}async getStatus(){try{const t=await fetch(`${Fn}/power-dialer/status`,{headers:{Authorization:`Bearer ${this.token}`}});if(!t.ok)throw new Error("Failed to get status");return await t.json()}catch(t){throw console.error("Error getting status:",t),t}}async addToQueue(t,r,n=0){try{const i=await fetch(`${Fn}/power-dialer/queue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({phoneNumbers:t,campaignId:r,priority:n})});if(!i.ok)throw new Error("Failed to add to queue");const a=await i.json();return this.emit("queueUpdated",a.items),a.items}catch(i){throw console.error("Error adding to queue:",i),i}}async getQueue(t,r,n=100,i=0){try{const a=new URLSearchParams;t&&a.append("status",t),r&&a.append("campaignId",r),a.append("limit",n.toString()),a.append("offset",i.toString());const o=await fetch(`${Fn}/power-dialer/queue?${a}`,{headers:{Authorization:`Bearer ${this.token}`}});if(!o.ok)throw new Error("Failed to get queue");return await o.json()}catch(a){throw console.error("Error getting queue:",a),a}}async clearQueue(t){try{const r=t?`?campaignId=${t}`:"",n=await fetch(`${Fn}/power-dialer/queue${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${this.token}`}});if(!n.ok)throw new Error("Failed to clear queue");const i=await n.json();return this.emit("queueCleared",i.deleted),i.deleted}catch(r){throw console.error("Error clearing queue:",r),r}}on(t,r){this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r)}off(t,r){const n=this.eventListeners.get(t);if(n){const i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,r){const n=this.eventListeners.get(t);n&&n.forEach(i=>i(r))}async importFromCSV(t,r){return new Promise((n,i)=>{const a=new FileReader;a.onload=async o=>{var s,l,c;try{const d=((s=o.target)==null?void 0:s.result).split(`
`),f=[];for(let v=1;v<d.length;v++){const p=d[v].trim();if(!p)continue;const x=p.split(","),g=(l=x[0])==null?void 0:l.trim(),b=(c=x[1])==null?void 0:c.trim();g&&f.push({number:g,name:b})}const h=await this.addToQueue(f,r);n(h)}catch(u){i(u)}},a.onerror=()=>i(a.error),a.readAsText(t)})}}const pt=new fue,hue=()=>{const[e,t]=y.useState(null),[r,n]=y.useState(!1),[i,a]=y.useState([]),[o,s]=y.useState(0),[l,c]=y.useState(""),[u,d]=y.useState(""),[f,h]=y.useState(!1),[v,p]=y.useState(null),[x,g]=y.useState(null);y.useEffect(()=>{S(),w(),pt.on("sessionStarted",E),pt.on("sessionPaused",E),pt.on("sessionResumed",E),pt.on("sessionStopped",A),pt.on("queueUpdated",w);const T=setInterval(S,3e3);return()=>{pt.off("sessionStarted",E),pt.off("sessionPaused",E),pt.off("sessionResumed",E),pt.off("sessionStopped",A),clearInterval(T)}},[]);const b=T=>{p(T),setTimeout(()=>p(null),5e3)},_=T=>{g(T),setTimeout(()=>g(null),3e3)},S=async()=>{try{const T=await pt.getStatus();n(T.active),T.session?t(T.session):(t(null),n(!1))}catch(T){console.error("Error loading status:",T)}},w=async()=>{try{const T=await pt.getQueue("pending");a(T.queue),s(T.total)}catch(T){console.error("Error loading queue:",T)}},E=T=>{t(T)},A=()=>{t(null),n(!1),w(),_("Power dialer session stopped")},C=async()=>{try{if(o===0){b("Please add phone numbers to the queue before starting");return}h(!0),p(null),await pt.startSession(u||void 0),n(!0),_("Power dialer started successfully")}catch(T){b(T.message||"Failed to start power dialer")}finally{h(!1)}},O=async()=>{try{h(!0),p(null),await pt.pauseSession(),_("Power dialer paused")}catch(T){b(T.message||"Failed to pause power dialer")}finally{h(!1)}},P=async()=>{try{h(!0),p(null),await pt.resumeSession(),_("Power dialer resumed")}catch(T){b(T.message||"Failed to resume power dialer")}finally{h(!1)}},k=async()=>{try{h(!0),p(null),await pt.skipCurrent(),_("Call skipped")}catch(T){b(T.message||"Failed to skip call")}finally{h(!1)}},N=async()=>{try{h(!0),p(null),await pt.stopSession(),_("Power dialer stopped"),n(!1),t(null),w()}catch(T){b(T.message||"Failed to stop power dialer")}finally{h(!1)}},V=async()=>{try{if(!l.trim()){alert("Please enter phone numbers");return}h(!0);const T=l.split(`
`).map(B=>B.trim()).filter(B=>B.length>0).map(B=>df(B));await pt.addToQueue(T,u||void 0),c(""),w(),alert(`Added ${T.length} numbers to queue`)}catch(T){alert(T.message)}finally{h(!1)}},H=async T=>{var ee;const B=(ee=T.target.files)==null?void 0:ee[0];if(B)try{h(!0);const Ve=await pt.importFromCSV(B,u||void 0);w(),alert(`Imported ${Ve.length} contacts`)}catch(Ve){alert(Ve.message)}finally{h(!1),T.target.value=""}},$=async()=>{if(confirm("Are you sure you want to clear the entire queue?"))try{h(!0);const T=await pt.clearQueue(u||void 0);w(),alert(`Cleared ${T} items from queue`)}catch(T){alert(T.message)}finally{h(!1)}},R=(e==null?void 0:e.stats)||{totalCalls:0,connected:0,voicemail:0,noAnswer:0},M=R.totalCalls>0?(R.connected/R.totalCalls*100).toFixed(1):"0.0";return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Power Dialer"}),m.jsx("p",{className:"text-gray-600",children:"Automated calling with voicemail detection"})]}),v&&m.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[m.jsx(zM,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),m.jsx("p",{className:"text-sm text-red-700",children:v})]})]}),x&&m.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start",children:[m.jsx(Ka,{className:"w-5 h-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-green-900",children:"Success"}),m.jsx("p",{className:"text-sm text-green-700",children:x})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Calls"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900",children:R.totalCalls})]}),m.jsx(it,{className:"w-10 h-10 text-blue-500"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Connected"}),m.jsx("p",{className:"text-3xl font-bold text-green-600",children:R.connected})]}),m.jsx(Ka,{className:"w-10 h-10 text-green-500"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Voicemail"}),m.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:R.voicemail})]}),m.jsx(it,{className:"w-10 h-10 text-yellow-500"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"No Answer"}),m.jsx("p",{className:"text-3xl font-bold text-gray-600",children:R.noAnswer})]}),m.jsx(it,{className:"w-10 h-10 text-gray-400"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Connect Rate"}),m.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:[M,"%"]})]}),m.jsx(Ka,{className:"w-10 h-10 text-indigo-500"})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Controls"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign ID (Optional)"}),m.jsx("input",{type:"text",value:u,onChange:T=>d(T.target.value),placeholder:"my-campaign",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:r})]}),(e==null?void 0:e.currentCall)&&m.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[m.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Currently Calling:"}),m.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.currentCall.phoneNumber||"Unknown"})]}),m.jsx("div",{className:"space-y-3",children:r?m.jsxs(m.Fragment,{children:[e!=null&&e.isPaused?m.jsxs("button",{onClick:P,disabled:f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-extrabold py-4 px-6 rounded-lg flex items-center justify-center gap-3 text-lg shadow-lg",children:[m.jsx(Cg,{className:"w-6 h-6"}),"RESUME DIALING"]}):m.jsxs("button",{onClick:O,disabled:f,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white font-extrabold py-4 px-6 rounded-lg flex items-center justify-center gap-3 text-lg shadow-lg",children:[m.jsx(VM,{className:"w-6 h-6"}),"PAUSE DIALING"]}),m.jsxs("button",{onClick:k,disabled:f||!(e!=null&&e.currentCall),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-extrabold py-4 px-6 rounded-lg flex items-center justify-center gap-3 text-lg disabled:opacity-50 shadow-lg",children:[m.jsx(s5,{className:"w-6 h-6"}),"SKIP CURRENT CALL"]}),m.jsxs("button",{onClick:N,disabled:f,className:"w-full bg-red-600 hover:bg-red-700 text-white font-extrabold py-4 px-6 rounded-lg flex items-center justify-center gap-3 text-lg shadow-lg animate-pulse",children:[m.jsx(u5,{className:"w-6 h-6"}),"STOP DIALER"]})]}):m.jsxs("button",{onClick:C,disabled:f||o===0,className:"w-full bg-green-600 hover:bg-green-700 text-white font-extrabold py-4 px-6 rounded-lg flex items-center justify-center gap-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[m.jsx(Cg,{className:"w-6 h-6"}),"START POWER DIALER"]})}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Status:"}),m.jsx("span",{className:`font-bold ${r?e!=null&&e.isPaused?"text-yellow-600":"text-green-600":"text-gray-600"}`,children:r?e!=null&&e.isPaused?"Paused":"Active":"Stopped"})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[m.jsx("span",{className:"text-gray-600",children:"Queue Size:"}),m.jsx("span",{className:"font-bold text-gray-900",children:o})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Add Numbers"}),m.jsx("textarea",{value:l,onChange:T=>c(T.target.value),placeholder:`+15551234567
+15559876543
...`,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mb-4",disabled:f}),m.jsxs("button",{onClick:V,disabled:f||!l.trim(),className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 mb-3 disabled:opacity-50",children:[m.jsx(it,{className:"w-5 h-5"}),"Add to Queue"]}),m.jsxs("label",{className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 cursor-pointer",children:[m.jsx(WM,{className:"w-5 h-5"}),"Import CSV",m.jsx("input",{type:"file",accept:".csv",onChange:H,className:"hidden",disabled:f})]}),m.jsxs("button",{onClick:$,disabled:f||o===0,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 mt-3 disabled:opacity-50",children:[m.jsx(uf,{className:"w-5 h-5"}),"Clear Queue"]})]})]}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[m.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Call Queue (",o," pending)"]}),m.jsx("div",{className:"overflow-y-auto max-h-[600px]",children:i.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(it,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500",children:"No numbers in queue"}),m.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Add phone numbers to start dialing"})]}):m.jsx("div",{className:"space-y-2",children:i.map((T,B)=>m.jsx("div",{className:`p-4 rounded-lg border-2 ${T.status==="calling"?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm font-bold text-gray-500",children:["#",B+1]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-900",children:T.phoneNumber}),T.contactName&&m.jsx("p",{className:"text-sm text-gray-600",children:T.contactName})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${T.status==="calling"?"bg-blue-100 text-blue-800":T.status==="pending"?"bg-gray-100 text-gray-800":T.status==="completed"?"bg-green-100 text-green-800":T.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status}),T.attemptCount>0&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Attempts: ",T.attemptCount]})]})]})},T.id))})})]})})]})]})})},mue=[],vue=[{id:"s1",name:"Cold Call - Tech Sales",content:"Hi {FirstName}, this is {MyName} from {MyCompany}. I saw {Company} is hiring sales reps and wanted to ask how you are currently handling outbound efficiency?",isDefault:!0,tags:["Outbound","Tech"]},{id:"s2",name:"Follow Up - Post Demo",content:"Hi {FirstName}, {MyName} here. Just calling to see if you had any questions about the pricing proposal I sent over for {Company}?",isDefault:!1,tags:["Follow Up"]}],gl=(e,t)=>typeof window>"u"?t:window.localStorage.getItem(e)??t,pue=()=>{const[e,t]=Gr.useState(()=>gl("signalwire.spaceDomain","adoptify.signalwire.com")),[r,n]=Gr.useState(()=>gl("signalwire.projectId","")),[i,a]=Gr.useState(()=>gl("signalwire.apiToken","")),[o,s]=Gr.useState(()=>gl("signalwire.phoneNumber","")),[l,c]=Gr.useState(()=>gl("signalwire.applicationSid","")),[u,d]=Gr.useState("idle"),[f,h]=Gr.useState(!1),v=Gr.useCallback(()=>{if(!(typeof window>"u")){d("saving");try{window.localStorage.setItem("signalwire.spaceDomain",e.trim()),window.localStorage.setItem("signalwire.projectId",r.trim()),window.localStorage.setItem("signalwire.apiToken",i.trim()),window.localStorage.setItem("signalwire.phoneNumber",o.trim()),window.localStorage.setItem("signalwire.applicationSid",l.trim()),d("success"),window.setTimeout(()=>d("idle"),2500)}catch(p){console.error("[Settings] Failed to persist SignalWire configuration",p),d("error")}}},[e,r,i,o,l]);return m.jsxs("div",{className:"p-8 max-w-2xl mx-auto overflow-y-auto h-full",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Settings & Integrations"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-5",children:[m.jsxs("div",{className:"flex items-center justify-between gap-4 border-b border-slate-100 pb-2",children:[m.jsx("h3",{className:"font-semibold text-slate-800",children:"SignalWire Voice Configuration"}),u==="success"&&m.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:"Saved locally"})]}),m.jsxs("div",{className:"p-4 bg-emerald-50 border-l-4 border-emerald-500 text-emerald-800 text-sm rounded",children:[m.jsx("strong",{children:"Integration Status:"})," ",e.trim()?`Linked to ${e.trim()}${r.trim()?`  Project ${r.trim()}`:""}`:"Not configured yet.",m.jsx("p",{className:"mt-2 text-xs text-emerald-700",children:"These settings are stored securely in your browser until a backend configuration endpoint is available."})]}),m.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Space Domain"}),m.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"your-space.signalwire.com"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Found in the top-left of your SignalWire dashboard."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Caller ID (E.164)"}),m.jsx("input",{type:"tel",value:o,onChange:p=>s(p.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-emerald-500 outline-none text-sm",placeholder:"+15551234567"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Use an active SignalWire phone number in international format."})]})]}),m.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project ID"}),m.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-emerald-500 outline-none font-mono text-xs tracking-tight",placeholder:"7bd92817-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Available under Project Settings  API."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Application SID"}),m.jsx("input",{type:"text",value:l,onChange:p=>c(p.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-emerald-500 outline-none font-mono text-xs tracking-tight",placeholder:"1b9ba69b-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Used for browser-to-PSTN call flows (compatible with TwiML apps)."})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"API Token"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:f?"text":"password",value:i,onChange:p=>a(p.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 pr-28 focus:ring-2 focus:ring-emerald-500 outline-none font-mono text-xs tracking-tight",placeholder:"PTxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),m.jsx("button",{type:"button",onClick:()=>h(p=>!p),className:"absolute inset-y-1 right-1 px-3 text-xs font-medium text-slate-600 bg-slate-100 rounded-md hover:bg-slate-200",children:f?"Hide":"Show"})]}),m.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Create a token with Voice permissions. Keep this value private."})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 space-y-4",children:[m.jsx("h3",{className:"font-semibold text-slate-800 border-b border-slate-100 pb-2",children:"CRM Connections"}),m.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded flex items-center justify-center text-blue-600 font-bold",children:"SF"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900",children:"Salesforce"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Sync leads, contacts, and tasks"})]})]}),m.jsx("button",{className:"text-sm px-3 py-1.5 border border-slate-300 rounded hover:bg-slate-50 text-slate-700",children:"Connect"})]}),m.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded flex items-center justify-center text-orange-600 font-bold",children:"HS"}),m.jsxs("div",{children:[m.jsx("div",{className:"font-medium text-slate-900",children:"HubSpot"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Bi-directional sync active"})]})]}),m.jsx("button",{className:"text-sm px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded font-medium",children:"Connected"})]})]}),m.jsxs("div",{className:"pt-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[m.jsx("p",{className:"text-xs text-slate-500",children:"Saving will update the configuration stored in this browser profile."}),m.jsxs("div",{className:"flex items-center gap-3",children:[u==="error"&&m.jsx("span",{className:"text-sm text-red-600",children:"Could not save. Please check browser storage permissions."}),m.jsx("button",{onClick:v,disabled:u==="saving",className:`px-4 py-2 rounded-md transition-colors font-medium shadow-sm text-white ${u==="saving"?"bg-emerald-400 cursor-wait":"bg-emerald-600 hover:bg-emerald-700"}`,children:u==="saving"?"Saving":u==="success"?"Saved":"Save Configuration"})]})]})]})]})};function gue(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[i,a]=y.useState(""),[o,s]=y.useState(Ze.DASHBOARD),[l,c]=y.useState(mue),[u,d]=y.useState(vue),[f,h]=y.useState(null),[v,p]=y.useState([]),[x,g]=y.useState(""),[b,_]=y.useState(!1),[S,w]=y.useState([]);y.useEffect(()=>{e&&E()},[e]);const E=async()=>{try{const R=await fetch("https://salescallagent.my/api/twilio/phone-numbers",{headers:{Authorization:`Bearer ${i}`}});if(R.ok){const M=await R.json();M.success&&M.numbers.length>0&&(p(M.numbers),g(M.numbers[0].id))}}catch($){console.error("Failed to fetch Twilio phone numbers:",$)}},A=$=>{c(R=>[...R,...$])},C=$=>{c(R=>R.filter(M=>!$.includes(M.id)))},O=$=>{if($.length===0){alert("No leads in the current list to dial.");return}_(!0),w($),h($[0])},P=()=>{if(b&&f){const R=S.findIndex(M=>M.id===f.id)+1;h(null),R<S.length?setTimeout(()=>{h(S[R])},1500):(_(!1),w([]),alert("Power Dialing List Completed!"))}else h(null)},k=v.find($=>$.id===x)||v[0],N=u.find($=>$.isDefault)||u[0],V=($,R)=>{a($),n(R),t(!0),typeof window<"u"&&window.dispatchEvent(new CustomEvent("voice-auth-ready"))},H=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),a(""),n(null),t(!1)};return Gr.useEffect(()=>{const $=localStorage.getItem("token"),R=localStorage.getItem("user");$&&R&&(a($),n(JSON.parse(R)),t(!0))},[]),e?m.jsxs("div",{className:"flex h-screen bg-slate-50",children:[m.jsxs("div",{className:"w-64 bg-slate-900 text-slate-300 flex flex-col shadow-xl z-10",children:[m.jsxs("div",{className:"p-6 flex items-center space-x-2 text-white",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-900/50",children:m.jsx(it,{className:"w-5 h-5"})}),m.jsxs("span",{className:"text-lg font-bold tracking-tight",children:["creativeprocess",m.jsx("span",{className:"text-blue-500",children:".io"})]})]}),m.jsx("nav",{className:"flex-1 px-4 space-y-2 mt-4",children:[{page:Ze.DASHBOARD,icon:LM,label:"Dashboard"},{page:Ze.DIALER,icon:it,label:"Power Dialer"},{page:Ze.MANUAL_DIALER,icon:it,label:"Manual Dialer"},{page:Ze.POWER_DIALER,icon:it,label:"Auto Dialer"},{page:Ze.CALL_HISTORY,icon:$M,label:"Call History"},{page:Ze.SALESFLOOR,icon:Og,label:"Salesfloor"},{page:Ze.ANALYTICS,icon:M4,label:"Analytics"},{page:Ze.SCRIPTS,icon:Zb,label:"Scripts"},{page:Ze.TEAM,icon:Og,label:"Team"},{page:Ze.SETTINGS,icon:t5,label:"Settings"}].map($=>m.jsxs("button",{onClick:()=>s($.page),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-all ${o===$.page?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"hover:bg-slate-800 text-slate-400 hover:text-white"}`,children:[m.jsx($.icon,{size:20}),m.jsx("span",{className:"font-medium",children:$.label})]},$.page))}),m.jsx("div",{className:"p-4 border-t border-slate-800",children:m.jsxs("button",{onClick:H,className:"flex items-center space-x-3 px-4 py-2 text-slate-400 hover:text-white transition-colors w-full",children:[m.jsx(P4,{size:18}),m.jsx("span",{children:"Sign Out"})]})})]}),m.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[m.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 shadow-sm z-10",children:[m.jsxs("div",{className:"flex items-center text-slate-400 w-96 bg-slate-100 rounded-full px-4 py-2 border border-transparent focus-within:border-blue-300 focus-within:bg-white transition-all",children:[m.jsx(J4,{size:18,className:"mr-2"}),m.jsx("input",{type:"text",placeholder:"Search leads, recordings, notes...",className:"bg-transparent border-none outline-none text-sm text-slate-700 w-full placeholder-slate-400"})]}),m.jsxs("div",{className:"flex items-center space-x-6",children:[m.jsxs("button",{className:"relative text-slate-500 hover:text-blue-600 transition-colors",children:[m.jsx(r4,{size:20}),m.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full transform translate-x-1 -translate-y-1 border border-white"})]}),m.jsxs("div",{className:"flex items-center space-x-3 pl-6 border-l border-slate-200",children:[m.jsxs("div",{className:"text-right hidden md:block",children:[m.jsx("div",{className:"text-sm font-bold text-slate-800",children:(r==null?void 0:r.name)||"User"}),m.jsxs("div",{className:"text-xs text-slate-500",children:[(r==null?void 0:r.role)||"Agent","  Online"]})]}),m.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-cyan-400 flex items-center justify-center text-white font-bold text-sm shadow-md border-2 border-white",children:r!=null&&r.name?r.name.split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):"U"})]})]})]}),m.jsxs("main",{className:"flex-1 overflow-hidden relative",children:[o===Ze.DASHBOARD&&m.jsx(WJ,{}),o===Ze.CALL_HISTORY&&m.jsx(due,{}),o===Ze.POWER_DIALER&&m.jsx(hue,{}),o===Ze.MANUAL_DIALER&&m.jsx(cue,{twilioNumbers:v,onCall:($,R,M)=>{const T={id:`manual-${Date.now()}`,name:R,phone:$,company:"Manual Call",status:"new"};h(T)}}),o===Ze.DIALER&&m.jsx("div",{className:"h-full p-6",children:m.jsx(O5,{leads:l,onCall:$=>h($),onImport:A,onDelete:C,twilioNumbers:v,selectedNumberId:x,onSelectNumber:g,onStartAutoDial:O})}),o===Ze.SALESFLOOR&&m.jsx(HJ,{}),o===Ze.ANALYTICS&&m.jsx(BJ,{}),o===Ze.SCRIPTS&&m.jsx(qJ,{scripts:u,onSave:d}),o===Ze.TEAM&&m.jsx(YJ,{}),o===Ze.SETTINGS&&m.jsx(pue,{})]})]}),f&&m.jsx(VJ,{lead:f,callerId:k,isAutoDialing:b,activeScript:N,onHangup:P})]}):m.jsx(KJ,{onLogin:V})}const W3=document.getElementById("root");if(!W3)throw new Error("Could not find root element to mount to");const yue=K$.createRoot(W3);yue.render(m.jsx(Gr.StrictMode,{children:m.jsx(gue,{})}));
